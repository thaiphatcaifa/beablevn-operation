/*! For license information please see main.6151aad9.js.LICENSE.txt */
(()=>{var e={4(e,t,n){"use strict";var r=n(853),i=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var p=Object.assign,f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),_=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var j=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case S:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case _:return e.displayName||"Context";case x:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return N(e(t))}catch(n){}}return null}var L=Array.isArray,A=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},M=[],z=-1;function F(e){return{current:e}}function W(e){0>z||(e.current=M[z],M[z]=null,z--)}function B(e,t){z++,M[z]=e.current,e.current=t}var U,H,V=F(null),q=F(null),K=F(null),$=F(null);function G(e,t){switch(B(K,t),B(q,e),B(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(V),B(V,e)}function Q(){W(V),W(q),W(K)}function Y(e){null!==e.memoizedState&&B($,e);var t=V.current,n=vd(t,e.type);t!==n&&(B(q,e),B(V,n))}function X(e){q.current===e&&(W(V),W(q)),$.current===e&&(W($),uh._currentValue=O)}function J(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+U+e+H}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,se=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,pe=r.unstable_LowPriority,fe=r.unstable_IdlePriority,ge=r.log,me=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof ge&&me(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_e(e)/we|0)|0},_e=Math.log,we=Math.LN2;var ke=256,Se=262144,Ce=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ee(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=Te(r):0!==(s&=a)?i=Te(s):n||0!==(n=a&~e)&&(i=Te(n)):0!==(a=r&~o)?i=Te(a):0!==s?i=Te(s):n||0!==(n=r&~e)&&(i=Te(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function je(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Re(){var e=Ce;return 0===(62914560&(Ce<<=1))&&(Ce=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ne(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Le(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-xe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Ae(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function De(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Oe(n))&(e.suspendedLanes|t))?0:n}function Oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:Th(e.type)}function Fe(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var We=Math.random().toString(36).slice(2),Be="__reactFiber$"+We,Ue="__reactProps$"+We,He="__reactContainer$"+We,Ve="__reactEvents$"+We,qe="__reactListeners$"+We,Ke="__reactHandles$"+We,$e="__reactResources$"+We,Ge="__reactMarker$"+We;function Qe(e){delete e[Be],delete e[Ue],delete e[Ve],delete e[qe],delete e[Ke]}function Ye(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Od(e);null!==e;){if(n=e[Be])return n;e=Od(e)}return t}n=(e=n).parentNode}return null}function Xe(e){if(e=e[Be]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ge]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},at={};function lt(e,t,n){if(i=t,re.call(at,i)||!re.call(st,i)&&(ot.test(i)?at[i]=!0:(st[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function gt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function yt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?xt(e,s,dt(t)):null!=n?xt(e,s,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+dt(a):e.removeAttribute("name")}function bt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return void pt(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),pt(e)}function xt(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(L(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),pt(e)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Tt(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Tt(e,o,t[o])}function jt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Rt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Nt(){}var Lt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Ot=null;function Mt(e){var t=Xe(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ue]||null;if(!i)throw Error(s(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var zt=!1;function Ft(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Dt||null!==Ot)&&(Zc(),Dt&&(t=Dt,e=Ot,Ot=Dt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Wt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ue]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Bt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Xh){Ut=!1}var Vt=null,qt=null,Kt=null;function $t(){if(Kt)return Kt;var e,t,n=qt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Qt(){return!0}function Yt(){return!1}function Xt(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Qt:Yt,this.isPropagationStopped=Yt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qt)},persist:function(){},isPersistent:Qt}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Xt(tn),rn=p({},tn,{view:0,detail:0}),on=Xt(rn),sn=p({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),an=Xt(sn),ln=Xt(p({},sn,{dataTransfer:0})),cn=Xt(p({},rn,{relatedTarget:0})),un=Xt(p({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Xt(p({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Xt(p({},tn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function yn(){return mn}var vn=Xt(p({},rn,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Xt(p({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Xt(p({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),_n=Xt(p({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Xt(p({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Xt(p({},tn,{newState:0,oldState:0})),Sn=[9,13,27,32],Cn=Bt&&"CompositionEvent"in window,Tn=null;Bt&&"documentMode"in document&&(Tn=document.documentMode);var En=Bt&&"TextEvent"in window&&!Tn,jn=Bt&&(!Cn||Tn&&8<Tn&&11>=Tn),In=String.fromCharCode(32),Rn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function On(e,t,n,r){Dt?Ot?Ot.push(r):Ot=[r]:Dt=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,zn=null;function Fn(e){Qu(e,0)}function Wn(e){if(ft(Je(e)))return e}function Bn(e,t){if("change"===e)return t}var Un=!1;if(Bt){var Hn;if(Bt){var Vn="oninput"in document;if(!Vn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Vn="function"===typeof qn.oninput}Hn=Vn}else Hn=!1;Un=Hn&&(!document.documentMode||9<document.documentMode)}function Kn(){Mn&&(Mn.detachEvent("onpropertychange",$n),zn=Mn=null)}function $n(e){if("value"===e.propertyName&&Wn(zn)){var t=[];On(t,zn,e,At(e)),Ft(Fn,t)}}function Gn(e,t,n){"focusin"===e?(Kn(),zn=n,(Mn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Kn()}function Qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(zn)}function Yn(e,t){if("click"===e)return Wn(t)}function Xn(e,t){if("input"===e||"change"===e)return Wn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=Bt&&"documentMode"in document&&11>=document.documentMode,sr=null,ar=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==sr||sr!==gt(r)||("selectionStart"in(r=sr)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=rd(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},pr={},fr={};function gr(e){if(pr[e])return pr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return pr[e]=n[t];return e}Bt&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var mr=gr("animationend"),yr=gr("animationiteration"),vr=gr("animationstart"),br=gr("transitionrun"),xr=gr("transitionstart"),_r=gr("transitioncancel"),wr=gr("transitionend"),kr=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){kr.set(e,t),rt(t,[e])}Sr.push("scrollEnd");var Tr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Er=[],jr=0,Ir=0;function Rr(){for(var e=jr,t=Ir=jr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var i=Er[t];Er[t++]=null;var o=Er[t];if(Er[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Ar(n,i,o)}}function Pr(e,t,n,r){Er[jr++]=e,Er[jr++]=t,Er[jr++]=n,Er[jr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Nr(e,t,n,r){return Pr(e,t,n,r),Dr(e)}function Lr(e,t){return Pr(e,null,null,t),Dr(e)}function Ar(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-xe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Dr(e){if(50<Vc)throw Vc=0,qc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Mr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wr(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)Fr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=zr(31,n,t,i)).elementType=E,e.lanes=o,e;case y:return Hr(n.children,i,o,t);case v:a=8,i|=24;break;case b:return(e=zr(12,n,t,2|i)).elementType=b,e.lanes=o,e;case k:return(e=zr(13,n,t,i)).elementType=k,e.lanes=o,e;case S:return(e=zr(19,n,t,i)).elementType=S,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:a=10;break e;case x:a=9;break e;case w:a=11;break e;case C:a=14;break e;case T:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=zr(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Hr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function qr(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $r=new WeakMap;function Gr(e,t){if("object"===typeof e&&null!==e){var n=$r.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},$r.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Qr=[],Yr=0,Xr=null,Jr=0,Zr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Qr[Yr++]=Jr,Qr[Yr++]=Xr,Xr=e,Jr=t}function oi(e,t,n){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-xe(r)-1;r&=~(1<<i),n+=1;var o=32-xe(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ni=1<<32-xe(t)+i|n<<i|r,ri=o+e}else ni=1<<o|n<<i|r,ri=e}function si(e){null!==e.return&&(ii(e,1),oi(e,1,0))}function ai(e){for(;e===Xr;)Xr=Qr[--Yr],Qr[Yr]=null,Jr=Qr[--Yr],Qr[Yr]=null;for(;e===ti;)ti=Zr[--ei],Zr[ei]=null,ri=Zr[--ei],Zr[ei]=null,ni=Zr[--ei],Zr[ei]=null}function li(e,t){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ci=null,ui=null,di=!1,hi=null,pi=!1,fi=Error(s(519));function gi(e){throw _i(Gr(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),fi}function mi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[Ue]=r,n){case"dialog":Yu("cancel",t),Yu("close",t);break;case"iframe":case"object":case"embed":Yu("load",t);break;case"video":case"audio":for(n=0;n<$u.length;n++)Yu($u[n],t);break;case"source":Yu("error",t);break;case"img":case"image":case"link":Yu("error",t),Yu("load",t);break;case"details":Yu("toggle",t);break;case"input":Yu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Yu("invalid",t);break;case"textarea":Yu("invalid",t),kt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||cd(t.textContent,n)?(null!=r.popover&&(Yu("beforetoggle",t),Yu("toggle",t)),null!=r.onScroll&&Yu("scroll",t),null!=r.onScrollEnd&&Yu("scrollend",t),null!=r.onClick&&(t.onclick=Nt),t=!0):t=!1,t||gi(e,!0)}function yi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(pi=!1);case 27:case 3:return void(pi=!0);default:ci=ci.return}}function vi(e){if(e!==ci)return!1;if(!di)return yi(e),di=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&ui&&gi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ui=Dd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ui=Dd(e)}else 27===n?(n=ui,Td(e.type)?(e=Ad,Ad=null,ui=e):ui=n):ui=ci?Ld(e.stateNode.nextSibling):null;return!0}function bi(){ui=ci=null,di=!1}function xi(){var e=hi;return null!==e&&(null===Rc?Rc=e:Rc.push.apply(Rc,e),hi=null),e}function _i(e){null===hi?hi=[e]:hi.push(e)}var wi=F(null),ki=null,Si=null;function Ci(e,t,n){B(wi,t._currentValue),t._currentValue=n}function Ti(e){e._currentValue=wi.current,W(wi)}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ji(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ei(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),Ei(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Ii(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Jn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===$.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}i=i.return}null!==e&&ji(t,e,n,r),t.flags|=262144}function Ri(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pi(e){ki=e,Si=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ni(e){return Ai(ki,e)}function Li(e,t){return null===ki&&Pi(e),Ai(e,t)}function Ai(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Si){if(null===e)throw Error(s(308));Si=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Si=Si.next=t;return n}var Di="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Oi=r.unstable_scheduleCallback,Mi=r.unstable_NormalPriority,zi={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fi(){return{controller:new Di,data:new Map,refCount:0}}function Wi(e){e.refCount--,0===e.refCount&&Oi(Mi,function(){e.controller.abort()})}var Bi=null,Ui=0,Hi=0,Vi=null;function qi(){if(0===--Ui&&null!==Bi){null!==Vi&&(Vi.status="fulfilled");var e=Bi;Bi=null,Hi=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=A.S;A.S=function(e,t){Lc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bi){var n=Bi=[];Ui=0,Hi=Uu(),Vi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ui++,t.then(qi,qi)}(0,t),null!==Ki&&Ki(e,t)};var $i=F(null);function Gi(){var e=$i.current;return null!==e?e:fc.pooledCache}function Qi(e,t){B($i,null===t?$i.current:t.pool)}function Yi(){var e=Gi();return null===e?null:{parent:zi._currentValue,pool:e}}var Xi=Error(s(460)),Ji=Error(s(474)),Zi=Error(s(542)),eo={then:function(){}};function to(e){return"fulfilled"===(e=e.status)||"rejected"===e}function no(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Nt,Nt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e;default:if("string"===typeof t.status)t.then(Nt,Nt);else{if(null!==(e=fc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw so(e=t.reason),e}throw io=t,Xi}}function ro(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw io=t,Xi;throw t}}var io=null;function oo(){if(null===io)throw Error(s(459));var e=io;return io=null,e}function so(e){if(e===Xi||e===Zi)throw Error(s(483))}var ao=null,lo=0;function co(e){var t=lo;return lo+=1,null===ao&&(ao=[]),no(ao,e,t)}function uo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ho(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function po(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Wr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===T&&ro(o)===t.type)?(uo(t=i(t,n.props),n),t.return=e,t):(uo(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case g:return uo(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Kr(t,e.mode,n)).return=e,t;case T:return h(e,t=ro(t),n)}if(L(t)||R(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,co(t),n);if(t.$$typeof===_)return h(e,Li(e,t),n);ho(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case T:return p(e,t,n=ro(n),r)}if(L(n)||R(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,co(n),r);if(n.$$typeof===_)return p(e,t,Li(e,n),r);ho(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return f(e,t,n,r=ro(r),i)}if(L(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return f(e,t,n,co(r),i);if(r.$$typeof===_)return f(e,t,n,Li(t,r),i);ho(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case g:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&ro(b)===c.type){n(l,c.sibling),uo(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=Hr(u.props.children,l.mode,d,u.key)).return=l,l=d):(uo(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Kr(u,l.mode,d)).return=l,l=d}return a(l);case T:return v(l,c,u=ro(u),d)}if(L(u))return function(i,s,a,l){for(var c=null,u=null,d=s,g=s=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=p(i,d,a[g],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,g),null===u?c=y:u.sibling=y,u=y,d=m}if(g===a.length)return n(i,d),di&&ii(i,g),c;if(null===d){for(;g<a.length;g++)null!==(d=h(i,a[g],l))&&(s=o(d,s,g),null===u?c=d:u.sibling=d,u=d);return di&&ii(i,g),c}for(d=r(d);g<a.length;g++)null!==(m=f(d,i,g,a[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),di&&ii(i,g),c}(l,c,u,d);if(R(u)){if("function"!==typeof(b=R(u)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=p(i,g,v.value,c);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),a=o(b,a,m),null===d?u=b:d.sibling=b,d=b,g=y}if(v.done)return n(i,g),di&&ii(i,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return di&&ii(i,m),u}for(g=r(g);!v.done;m++,v=l.next())null!==(v=f(g,i,m,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return e&&g.forEach(function(e){return t(i,e)}),di&&ii(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,co(u),d);if(u.$$typeof===_)return v(l,c,Li(l,u),d);ho(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{lo=0;var i=v(e,t,n,r);return ao=null,i}catch(s){if(s===Xi||s===Zi)throw s;var o=zr(29,s,null,e.mode);return o.lanes=r,o.return=e,o}}}var fo=po(!0),go=po(!1),mo=!1;function yo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Dr(e),Ar(e,null,n),t}return Pr(e,r,t,n),Dr(e)}function _o(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}function wo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ko=!1;function So(){if(ko){if(null!==Vi)throw Vi}}function Co(e,t,n,r){ko=!1;var i=e.updateQueue;mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=-536870913&a.lane,f=h!==a.lane;if(f?(mc&h)===h:(r&h)===h){0!==h&&h===Hi&&(ko=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var g=e,m=a;h=t;var y=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){d=g.call(y,d,h);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=m.payload)?g.call(y,d,h):g)||void 0===h)break e;d=p({},d,h);break e;case 2:mo=!0}}null!==(h=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),Sc|=s,e.lanes=s,e.memoizedState=d}}function To(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Eo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)To(n[e],t)}var jo=F(null),Io=F(0);function Ro(e,t){B(Io,e=wc),B(jo,t),wc=e|t.baseLanes}function Po(){B(Io,wc),B(jo,jo.current)}function No(){wc=Io.current,W(jo),W(Io)}var Lo=F(null),Ao=null;function Do(e){var t=e.alternate;B(Wo,1&Wo.current),B(Lo,e),null===Ao&&(null===t||null!==jo.current||null!==t.memoizedState)&&(Ao=e)}function Oo(e){B(Wo,Wo.current),B(Lo,e),null===Ao&&(Ao=e)}function Mo(e){22===e.tag?(B(Wo,Wo.current),B(Lo,e),null===Ao&&(Ao=e)):zo()}function zo(){B(Wo,Wo.current),B(Lo,Lo.current)}function Fo(e){W(Lo),Ao===e&&(Ao=null),W(Wo)}var Wo=F(0);function Bo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Pd(n)||Nd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=0,Ho=null,Vo=null,qo=null,Ko=!1,$o=!1,Go=!1,Qo=0,Yo=0,Xo=null,Jo=0;function Zo(){throw Error(s(321))}function es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ts(e,t,n,r,i,o){return Uo=o,Ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=null===e||null===e.memoizedState?ma:ya,Go=!1,o=n(r,i),Go=!1,$o&&(o=rs(t,n,r,i)),ns(e),o}function ns(e){A.H=ga;var t=null!==Vo&&null!==Vo.next;if(Uo=0,qo=Vo=Ho=null,Ko=!1,Yo=0,Xo=null,t)throw Error(s(300));null===e||La||null!==(e=e.dependencies)&&Ri(e)&&(La=!0)}function rs(e,t,n,r){Ho=e;var i=0;do{if($o&&(Xo=null),Yo=0,$o=!1,25<=i)throw Error(s(301));if(i+=1,qo=Vo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}A.H=va,o=t(n,r)}while($o);return o}function is(){var e=A.H,t=e.useState()[0];return t="function"===typeof t.then?us(t):t,e=e.useState()[0],(null!==Vo?Vo.memoizedState:null)!==e&&(Ho.flags|=1024),t}function os(){var e=0!==Qo;return Qo=0,e}function ss(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function as(e){if(Ko){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ko=!1}Uo=0,qo=Vo=Ho=null,$o=!1,Yo=Qo=0,Xo=null}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qo?Ho.memoizedState=qo=e:qo=qo.next=e,qo}function cs(){if(null===Vo){var e=Ho.alternate;e=null!==e?e.memoizedState:null}else e=Vo.next;var t=null===qo?Ho.memoizedState:qo.next;if(null!==t)qo=t,Vo=e;else{if(null===e){if(null===Ho.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Vo=e).memoizedState,baseState:Vo.baseState,baseQueue:Vo.baseQueue,queue:Vo.queue,next:null},null===qo?Ho.memoizedState=qo=e:qo=qo.next=e}return qo}function us(e){var t=Yo;return Yo+=1,null===Xo&&(Xo=[]),e=no(Xo,e,t),t=Ho,null===(null===qo?t.memoizedState:qo.next)&&(t=t.alternate,A.H=null===t||null===t.memoizedState?ma:ya),e}function ds(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return us(e);if(e.$$typeof===_)return Ni(e)}throw Error(s(438,String(e)))}function hs(e){var t=null,n=Ho.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ho.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=j;return t.index++,n}function ps(e,t){return"function"===typeof t?t(e):t}function fs(e){return gs(cs(),Vo,e)}function gs(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(mc&h)===h:(Uo&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Hi&&(d=!0);else{if((Uo&p)===p){u=u.next,p===Hi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,Ho.lanes|=p,Sc|=p}h=u.action,Go&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else p={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,a=o):c=c.next=p,Ho.lanes|=h,Sc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Jn(o,e.memoizedState)&&(La=!0,d&&null!==(n=Vi)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ms(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Jn(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ys(e,t,n){var r=Ho,i=cs(),o=di;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Jn((Vo||i).memoizedState,n);if(a&&(i.memoizedState=n,La=!0),i=i.queue,Us(xs.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==qo&&1&qo.memoizedState.tag){if(r.flags|=2048,Ms(9,{destroy:void 0},bs.bind(null,r,i,n,t),null),null===fc)throw Error(s(349));o||0!==(127&Uo)||vs(r,t,n)}return n}function vs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ho.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bs(e,t,n,r){t.value=n,t.getSnapshot=r,_s(t)&&ws(e)}function xs(e,t,n){return n(function(){_s(t)&&ws(e)})}function _s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function ws(e){var t=Lr(e,2);null!==t&&Gc(t,e,2)}function ks(e){var t=ls();if("function"===typeof e){var n=e;if(e=n(),Go){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t}function Ss(e,t,n,r){return e.baseState=n,gs(e,Vo,"function"===typeof r?r:ps)}function Cs(e,t,n,r,i){if(ha(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==A.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Ts(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ts(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=A.T,s={};A.T=s;try{var a=n(i,r),l=A.S;null!==l&&l(s,a),Es(e,t,a)}catch(c){Is(e,t,c)}finally{null!==o&&null!==s.types&&(o.types=s.types),A.T=o}}else try{Es(e,t,o=n(i,r))}catch(u){Is(e,t,u)}}function Es(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){js(e,t,n)},function(n){return Is(e,t,n)}):js(e,t,n)}function js(e,t,n){t.status="fulfilled",t.value=n,Rs(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ts(e,n)))}function Is(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Rs(t),t=t.next}while(t!==r)}e.action=null}function Rs(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ps(e,t){return t}function Ns(e,t){if(di){var n=fc.formState;if(null!==n){e:{var r=Ho;if(di){if(ui){t:{for(var i=ui,o=pi;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=Ld(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ui=Ld(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=ls()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:t},n.queue=r,n=ca.bind(null,Ho,r),r.dispatch=n,r=ks(!1),o=da.bind(null,Ho,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ls()).queue=i,n=Cs.bind(null,Ho,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ls(e){return As(cs(),Vo,e)}function As(e,t,n){if(t=gs(e,t,Ps)[0],e=fs(ps)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=us(t)}catch(s){if(s===Xi)throw Zi;throw s}else r=t;var i=(t=cs()).queue,o=i.dispatch;return n!==t.memoizedState&&(Ho.flags|=2048,Ms(9,{destroy:void 0},Ds.bind(null,i,n),null)),[r,o,e]}function Ds(e,t){e.action=t}function Os(e){var t=cs(),n=Vo;if(null!==n)return As(t,n,e);cs(),t=t.memoizedState;var r=(n=cs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ms(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ho.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zs(){return cs().memoizedState}function Fs(e,t,n,r){var i=ls();Ho.flags|=e,i.memoizedState=Ms(1|t,{destroy:void 0},n,void 0===r?null:r)}function Ws(e,t,n,r){var i=cs();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==Vo&&null!==r&&es(r,Vo.memoizedState.deps)?i.memoizedState=Ms(t,o,n,r):(Ho.flags|=e,i.memoizedState=Ms(1|t,o,n,r))}function Bs(e,t){Fs(8390656,8,e,t)}function Us(e,t){Ws(2048,8,e,t)}function Hs(e){var t=cs().memoizedState;return function(e){Ho.flags|=4;var t=Ho.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Vs(e,t){return Ws(4,2,e,t)}function qs(e,t){return Ws(4,4,e,t)}function Ks(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function $s(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ws(4,4,Ks.bind(null,t,e),n)}function Gs(){}function Qs(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ys(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&es(t,r[1]))return r[0];if(r=e(),Go){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Xs(e,t,n){return void 0===n||0!==(1073741824&Uo)&&0===(261930&mc)?e.memoizedState=t:(e.memoizedState=n,e=$c(),Ho.lanes|=e,Sc|=e,n)}function Js(e,t,n,r){return Jn(n,t)?n:null!==jo.current?(e=Xs(e,n,r),Jn(e,t)||(La=!0),e):0===(42&Uo)||0!==(1073741824&Uo)&&0===(261930&mc)?(La=!0,e.memoizedState=n):(e=$c(),Ho.lanes|=e,Sc|=e,t)}function Zs(e,t,n,r,i){var o=D.p;D.p=0!==o&&8>o?o:8;var s=A.T,a={};A.T=a,da(e,!1,t,n);try{var l=i(),c=A.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ua(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Kc());else ua(e,t,r,Kc())}catch(u){ua(e,t,{then:function(){},status:"rejected",reason:u},Kc())}finally{D.p=o,null!==s&&null!==a.types&&(s.types=a.types),A.T=s}}function ea(){}function ta(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=na(e).queue;Zs(e,i,t,O,null===n?ea:function(){return ra(e),n(r)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ra(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ua(e,t.next.queue,{},Kc())}function ia(){return Ni(uh)}function oa(){return cs().memoizedState}function sa(){return cs().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=xo(t,e=bo(n),n);return null!==r&&(Gc(r,t,n),_o(r,t,n)),t={cache:Fi()},void(e.payload=t)}t=t.return}}function la(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ha(e)?pa(t,n):null!==(n=Nr(e,t,n,r))&&(Gc(n,e,r),fa(n,t,r))}function ca(e,t,n){ua(e,t,n,Kc())}function ua(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ha(e))pa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,s))return Pr(e,t,i,0),null===fc&&Rr(),!1}catch(l){}if(null!==(n=Nr(e,t,i,r)))return Gc(n,e,r),fa(n,t,r),!0}return!1}function da(e,t,n,r){if(r={lane:2,revertLane:Uu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ha(e)){if(t)throw Error(s(479))}else null!==(t=Nr(e,n,r,2))&&Gc(t,e,2)}function ha(e){var t=e.alternate;return e===Ho||null!==t&&t===Ho}function pa(e,t){$o=Ko=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}var ga={readContext:Ni,use:ds,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useLayoutEffect:Zo,useInsertionEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useDeferredValue:Zo,useTransition:Zo,useSyncExternalStore:Zo,useId:Zo,useHostTransitionStatus:Zo,useFormState:Zo,useActionState:Zo,useOptimistic:Zo,useMemoCache:Zo,useCacheRefresh:Zo};ga.useEffectEvent=Zo;var ma={readContext:Ni,use:ds,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:Ni,useEffect:Bs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fs(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fs(4194308,4,e,t)},useInsertionEffect:function(e,t){Fs(4,2,e,t)},useMemo:function(e,t){var n=ls();t=void 0===t?null:t;var r=e();if(Go){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ls();if(void 0!==n){var i=n(t);if(Go){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=la.bind(null,Ho,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ls().memoizedState=e},useState:function(e){var t=(e=ks(e)).queue,n=ca.bind(null,Ho,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Gs,useDeferredValue:function(e,t){return Xs(ls(),e,t)},useTransition:function(){var e=ks(!1);return e=Zs.bind(null,Ho,e.queue,!0,!1),ls().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ho,i=ls();if(di){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===fc)throw Error(s(349));0!==(127&mc)||vs(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bs(xs.bind(null,r,o,e),[e]),r.flags|=2048,Ms(9,{destroy:void 0},bs.bind(null,r,o,n,t),null),n},useId:function(){var e=ls(),t=fc.identifierPrefix;if(di){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-xe(ni)-1)).toString(32)+n),0<(n=Qo++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Jo++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ia,useFormState:Ns,useActionState:Ns,useOptimistic:function(e){var t=ls();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=da.bind(null,Ho,!0,n),n.dispatch=t,[e,t]},useMemoCache:hs,useCacheRefresh:function(){return ls().memoizedState=aa.bind(null,Ho)},useEffectEvent:function(e){var t=ls(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},ya={readContext:Ni,use:ds,useCallback:Qs,useContext:Ni,useEffect:Us,useImperativeHandle:$s,useInsertionEffect:Vs,useLayoutEffect:qs,useMemo:Ys,useReducer:fs,useRef:zs,useState:function(){return fs(ps)},useDebugValue:Gs,useDeferredValue:function(e,t){return Js(cs(),Vo.memoizedState,e,t)},useTransition:function(){var e=fs(ps)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:ys,useId:oa,useHostTransitionStatus:ia,useFormState:Ls,useActionState:Ls,useOptimistic:function(e,t){return Ss(cs(),0,e,t)},useMemoCache:hs,useCacheRefresh:sa};ya.useEffectEvent=Hs;var va={readContext:Ni,use:ds,useCallback:Qs,useContext:Ni,useEffect:Us,useImperativeHandle:$s,useInsertionEffect:Vs,useLayoutEffect:qs,useMemo:Ys,useReducer:ms,useRef:zs,useState:function(){return ms(ps)},useDebugValue:Gs,useDeferredValue:function(e,t){var n=cs();return null===Vo?Xs(n,e,t):Js(n,Vo.memoizedState,e,t)},useTransition:function(){var e=ms(ps)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:ys,useId:oa,useHostTransitionStatus:ia,useFormState:Os,useActionState:Os,useOptimistic:function(e,t){var n=cs();return null!==Vo?Ss(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hs,useCacheRefresh:sa};function ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}va.useEffectEvent=Hs;var xa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=bo(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=xo(e,i,r))&&(Gc(t,e,r),_o(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=bo(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=xo(e,i,r))&&(Gc(t,e,r),_o(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=bo(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=xo(e,r,n))&&(Gc(t,e,n),_o(t,e,n))}};function _a(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,o))}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xa.enqueueReplaceState(t,t.state,null)}function ka(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=p({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Sa(e){Tr(e)}function Ca(e){console.error(e)}function Ta(e){Tr(e)}function Ea(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ja(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ia(e,t,n){return(n=bo(n)).tag=3,n.payload={element:null},n.callback=function(){Ea(e,t)},n}function Ra(e){return(e=bo(e)).tag=3,e}function Pa(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){ja(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){ja(t,n,r),"function"!==typeof i&&(null===Oc?Oc=new Set([this]):Oc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Na=Error(s(461)),La=!1;function Aa(e,t,n,r){t.child=null===e?go(t,null,n,r):fo(t,e.child,n,r)}function Da(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Pi(t),r=ts(e,t,n,s,o,i),a=os(),null===e||La?(di&&a&&si(t),t.flags|=1,Aa(e,t,r,i),t.child):(ss(e,t,i),il(e,t,i))}function Oa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Fr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ma(e,t,o,r,i))}if(o=e.child,!ol(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,r)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=Wr(o,r)).ref=t.ref,e.return=t,t.child=e}function Ma(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Zn(o,r)&&e.ref===t.ref){if(La=!1,t.pendingProps=r=o,!ol(e,i))return t.lanes=e.lanes,il(e,t,i);0!==(131072&e.flags)&&(La=!0)}}return Va(e,t,n,r,i)}function za(e,t,n,r){var i=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(o=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return Wa(e,t,o,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Wa(e,t,null!==o?o.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qi(0,null!==o?o.cachePool:null),null!==o?Ro(t,o):Po(),Mo(t)}else null!==o?(Qi(0,o.cachePool),Ro(t,o),zo(),t.memoizedState=null):(null!==e&&Qi(0,null),Po(),zo());return Aa(e,t,i,n),t.child}function Fa(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Wa(e,t,n,r,i){var o=Gi();return o=null===o?null:{parent:zi._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Qi(0,null),Po(),Mo(t),null!==e&&Ii(e,t,r,!0),t.childLanes=i,null}function Ba(e,t){return(t=Za({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ua(e,t,n){return fo(t,e.child,null,n),(e=Ba(t,t.pendingProps)).flags|=2,Fo(t),t.memoizedState=null,e}function Ha(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Va(e,t,n,r,i){return Pi(t),n=ts(e,t,n,r,void 0,i),r=os(),null===e||La?(di&&r&&si(t),t.flags|=1,Aa(e,t,n,i),t.child):(ss(e,t,i),il(e,t,i))}function qa(e,t,n,r,i,o){return Pi(t),t.updateQueue=null,n=rs(t,r,n,i),ns(e),r=os(),null===e||La?(di&&r&&si(t),t.flags|=1,Aa(e,t,n,o),t.child):(ss(e,t,o),il(e,t,o))}function Ka(e,t,n,r,i){if(Pi(t),null===t.stateNode){var o=Or,s=n.contextType;"object"===typeof s&&null!==s&&(o=Ni(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=xa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},yo(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Ni(s):Or,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ba(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&xa.enqueueReplaceState(o,o.state,null),Co(t,r,o,i),So(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=ka(n,a);o.props=l;var c=o.context,u=n.contextType;s=Or,"object"===typeof u&&null!==u&&(s=Ni(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&wa(t,o,r,s),mo=!1;var h=t.memoizedState;o.state=h,Co(t,r,o,i),So(),c=t.memoizedState,a||h!==c||mo?("function"===typeof d&&(ba(t,n,d,r),c=t.memoizedState),(l=mo||_a(t,n,l,r,h,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vo(e,t),u=ka(n,s=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=Ni(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&wa(t,o,r,l),mo=!1,h=t.memoizedState,o.state=h,Co(t,r,o,i),So();var p=t.memoizedState;s!==d||h!==p||mo||null!==e&&null!==e.dependencies&&Ri(e.dependencies)?("function"===typeof a&&(ba(t,n,a,r),p=t.memoizedState),(u=mo||_a(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&Ri(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Ha(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=fo(t,e.child,null,i),t.child=fo(t,null,n,i)):Aa(e,t,n,i),t.memoizedState=o.state,e=t.child):e=il(e,t,i),e}function $a(e,t,n,r){return bi(),t.flags|=256,Aa(e,t,n,r),t.child}var Ga={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qa(e){return{baseLanes:e,cachePool:Yi()}}function Ya(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ec),e}function Xa(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Wo.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(di){if(o?Do(t):zo(),(e=ui)?null!==(e=null!==(e=Rd(e,pi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=qr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw gi(t);return Nd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,o?(zo(),l=Za({mode:"hidden",children:l},o=t.mode),i=Hr(i,o,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Qa(n),i.childLanes=Ya(e,r,n),t.memoizedState=Ga,Fa(null,i)):(Do(t),Ja(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(a)256&t.flags?(Do(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(zo(),t.child=e.child,t.flags|=128,t=null):(zo(),l=i.fallback,o=t.mode,i=Za({mode:"visible",children:i.children},o),(l=Hr(l,o,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,fo(t,e.child,null,n),(i=t.child).memoizedState=Qa(n),i.childLanes=Ya(e,r,n),t.memoizedState=Ga,t=Fa(null,i));else if(Do(t),Nd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,_i({value:i,source:null,stack:null}),t=el(e,t,n)}else if(La||Ii(e,t,n,!1),r=0!==(n&e.childLanes),La||r){if(null!==(r=fc)&&(0!==(i=De(r,n))&&i!==c.retryLane))throw c.retryLane=i,Lr(e,i),Gc(r,e,i),Na;Pd(l)||su(),t=el(e,t,n)}else Pd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Ld(l.nextSibling),ci=t,di=!0,hi=null,pi=!1,null!==e&&li(t,e),(t=Ja(t,i.children)).flags|=4096);return t}return o?(zo(),l=i.fallback,o=t.mode,u=(c=e.child).sibling,(i=Wr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Wr(u,l):(l=Hr(l,o,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Fa(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Qa(n):(null!==(o=l.cachePool)?(c=zi._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Yi(),l={baseLanes:l.baseLanes|n,cachePool:o}),i.memoizedState=l,i.childLanes=Ya(e,r,n),t.memoizedState=Ga,Fa(e.child,i)):(Do(t),e=(n=e.child).sibling,(n=Wr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ja(e,t){return(t=Za({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Za(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function el(e,t,n){return fo(t,e.child,null,n),(e=Ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function nl(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=o)}function rl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var s=Wo.current,a=0!==(2&s);if(a?(s=1&s|2,t.flags|=128):s&=1,B(Wo,s),Aa(e,t,r,n),r=di?Jr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Bo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Bo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,o,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Sc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ii(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Wr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ri(e))}function sl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)La=!0;else{if(!ol(e,n)&&0===(128&t.flags))return La=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),Ci(0,zi,e.memoizedState.cache),bi();break;case 27:case 5:Y(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:Ci(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Oo(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Do(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Xa(e,t,n):(Do(t),null!==(e=il(e,t,n))?e.sibling:null);Do(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ii(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(Wo,Wo.current),r)break;return null;case 22:return t.lanes=0,za(e,t,n,t.pendingProps);case 24:Ci(0,zi,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);La=0!==(131072&e.flags)}else La=!1,di&&0!==(1048576&t.flags)&&oi(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ro(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===w){t.tag=11,t=Da(null,t,e,r,n);break e}if(i===C){t.tag=14,t=Oa(null,t,e,r,n);break e}}throw t=N(e)||e,Error(s(306,t,""))}Fr(e)?(r=ka(e,r),t.tag=1,t=Ka(null,t,e,r,n)):(t.tag=0,t=Va(null,t,e,r,n))}return t;case 0:return Va(e,t,t.type,t.pendingProps,n);case 1:return Ka(e,t,r=t.type,i=ka(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,vo(e,t),Co(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Ci(0,zi,r),r!==o.cache&&ji(t,[zi],n,!0),So(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=$a(e,t,r,n);break e}if(r!==i){_i(i=Gr(Error(s(424)),t)),t=$a(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Ld(e.firstChild),ci=t,di=!0,hi=null,pi=!0,n=go(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),r===i){t=il(e,t,n);break e}Aa(e,t,r,n)}t=t.child}return t;case 26:return Ha(e,t),null===e?(n=qd(t.type,null,t.pendingProps,null))?t.memoizedState=n:di||(n=t.type,e=t.pendingProps,(r=md(K.current).createElement(n))[Be]=t,r[Ue]=e,hd(r,n,e),et(r),t.stateNode=r):t.memoizedState=qd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&di&&(r=t.stateNode=Md(t.type,t.pendingProps,K.current),ci=t,pi=!0,i=ui,Td(t.type)?(Ad=i,ui=Ld(r.firstChild)):ui=i),Aa(e,t,t.pendingProps.children,n),Ha(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=Ld(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,pi))?(t.stateNode=r,ci=t,ui=Ld(r.firstChild),pi=!1,i=!0):i=!1),i||gi(t)),Y(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,bd(i,o)?r=null:null!==a&&bd(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=ts(e,t,is,null,null,n),uh._currentValue=i),Ha(e,t),Aa(e,t,r,n),t.child;case 6:return null===e&&di&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Ld(e.nextSibling)))return null}return e}(n,t.pendingProps,pi))?(t.stateNode=n,ci=t,ui=null,e=!0):e=!1),e||gi(t)),null;case 13:return Xa(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fo(t,null,r,n):Aa(e,t,r,n),t.child;case 11:return Da(e,t,t.type,t.pendingProps,n);case 7:return Aa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Aa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ci(0,t.type,r.value),Aa(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Pi(t),r=r(i=Ni(i)),t.flags|=1,Aa(e,t,r,n),t.child;case 14:return Oa(e,t,t.type,t.pendingProps,n);case 15:return Ma(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===r.mode)return e=Ba(t,r),t.lanes=536870912,Fa(null,e);if(Oo(t),(e=ui)?null!==(e=null!==(e=Rd(e,pi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=qr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return Ba(t,r)}var o=e.memoizedState;if(null!==o){var a=o.dehydrated;if(Oo(t),i)if(256&t.flags)t.flags&=-257,t=Ua(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(La||Ii(e,t,n,!1),i=0!==(n&e.childLanes),La||i){if(null!==(r=fc)&&0!==(a=De(r,n))&&a!==o.retryLane)throw o.retryLane=a,Lr(e,a),Gc(r,e,a),Na;su(),t=Ua(e,t,n)}else e=o.treeContext,ui=Ld(a.nextSibling),ci=t,di=!0,hi=null,pi=!1,null!==e&&li(t,e),(t=Ba(t,r)).flags|=4096;return t}return(e=Wr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return za(e,t,n,t.pendingProps);case 24:return Pi(t),r=Ni(zi),null===e?(null===(i=Gi())&&(i=fc,o=Fi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},yo(t),Ci(0,zi,i)):(0!==(e.lanes&n)&&(vo(e,t),Co(t,null,null,n),So()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ci(0,zi,r)):(r=o.cache,Ci(0,zi,r),r!==i.cache&&ji(t,[zi],n,!0))),Aa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function al(e){e.flags|=4}function ll(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw io=eo,Ji;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ih(t)){if(!ru())throw io=eo,Ji;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Re():536870912,e.lanes|=t,jc|=t)}function dl(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ti(zi),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vi(t)?al(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xi())),hl(t),null;case 26:var i=t.type,o=t.memoizedState;return null===e?(al(t),null!==o?(hl(t),cl(t,o)):(hl(t),ll(t,i,0,0,n))):o?o!==e.memoizedState?(al(t),hl(t),cl(t,o)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&al(t),hl(t),ll(t,i,0,0,n)),null;case 27:if(X(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return hl(t),null}e=V.current,vi(t)?mi(t):(e=Md(i,r,n),t.stateNode=e,al(t))}return hl(t),null;case 5:if(X(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return hl(t),null}if(o=V.current,vi(t))mi(t);else{var a=md(K.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(o=a.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}o[Be]=t,o[Ue]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)o.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=o;e:switch(hd(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&al(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=K.current,vi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||cd(e.nodeValue,n)))||gi(t,!0)}else(e=md(e).createTextNode(r))[Be]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=vi(t),null!==n){if(null===e){if(!r)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Be]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Fo(t),t):(Fo(t),null);if(0!==(128&t.flags))throw Error(s(558))}return hl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=vi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Be]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),i=!1}else i=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Fo(t),t):(Fo(t),null)}return Fo(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),o=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return Q(),null===e&&Zu(t.stateNode.containerInfo),hl(t),null;case 10:return Ti(t.type),hl(t),null;case 19:if(W(Wo),null===(r=t.memoizedState))return hl(t),null;if(i=0!==(128&t.flags),null===(o=r.rendering))if(i)dl(r,!1);else{if(0!==kc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Bo(e))){for(t.flags|=128,dl(r,!1),e=o.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return B(Wo,1&Wo.current|2),di&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Ac&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Bo(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!di)return hl(t),null}else 2*le()-r.renderingStartTime>Ac&&536870912!==n&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Wo.current,B(Wo,i?1&n|2:1&n),di&&ii(t,r.treeForkCount),e):(hl(t),null);case 22:case 23:return Fo(t),No(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&W($i),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ti(zi),hl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function fl(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ti(zi),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(Fo(t),null===t.alternate)throw Error(s(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return W(Wo),null;case 4:return Q(),null;case 10:return Ti(t.type),null;case 22:case 23:return Fo(t),No(),null!==e&&W($i),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ti(zi),null;default:return null}}function gl(e,t){switch(ai(t),t.tag){case 3:Ti(zi),Q();break;case 26:case 27:case 5:X(t);break;case 4:Q();break;case 31:null!==t.memoizedState&&Fo(t);break;case 13:Fo(t);break;case 19:W(Wo);break;case 10:Ti(t.type);break;case 22:case 23:Fo(t),No(),null!==e&&W($i);break;case 24:Ti(zi)}}function ml(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(a){ku(t,t.return,a)}}function yl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(u){ku(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){ku(t,t.return,u)}}function vl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Eo(t,n)}catch(r){ku(e,e.return,r)}}}function bl(e,t,n){n.props=ka(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ku(e,t,r)}}function xl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){ku(e,t,i)}}function _l(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){ku(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){ku(e,t,o)}else n.current=null}function wl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){ku(e,e.return,i)}}function kl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||ud(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":o=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&ud(e,t,p,f,r,h)}}return void vt(e,a,l,c,u,d,o,i);case"select":for(o in f=a=l=p=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(o)||ud(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":p=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&ud(e,t,i,o,r,c)}return t=l,n=a,r=f,void(null!=p?_t(e,!!n,p,!1):!!r!==!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&ud(e,t,a,i,r,o)}return void wt(e,p,f);case"option":for(var g in n)if(p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else ud(e,t,g,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else ud(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m)&&ud(e,t,m,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:ud(e,t,u,p,r,f)}return;default:if(jt(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!r.hasOwnProperty(y)&&dd(e,t,y,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||dd(e,t,d,p,r,f);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&ud(e,t,v,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||ud(e,t,h,p,r,f)}(r,e.type,n,t),r[Ue]=t}catch(i){ku(e,e.return,i)}}function Sl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Td(e.type)||4===e.tag}function Cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Td(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Nt));else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function El(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function jl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);hd(t,r,n),t[Be]=e,t[Ue]=n}catch(o){ku(e,e.return,o)}}var Il=!1,Rl=!1,Pl=!1,Nl="function"===typeof WeakSet?WeakSet:Set,Ll=null;function Al(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Gl(e,n),4&r&&ml(5,n);break;case 1:if(Gl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){ku(n,n.return,s)}else{var i=ka(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){ku(n,n.return,a)}}64&r&&vl(n),512&r&&xl(n,n.return);break;case 3:if(Gl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Eo(e,t)}catch(s){ku(n,n.return,s)}}break;case 27:null===t&&4&r&&jl(n);case 26:case 5:Gl(e,n),null===t&&4&r&&wl(n),512&r&&xl(n,n.return);break;case 12:Gl(e,n);break;case 31:Gl(e,n),4&r&&Wl(e,n);break;case 13:Gl(e,n),4&r&&Bl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Eu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Il)){t=null!==t&&null!==t.memoizedState||Rl,i=Il;var o=Rl;Il=r,(Rl=t)&&!o?Yl(e,n,0!==(8772&n.subtreeFlags)):Gl(e,n),Il=i,Rl=o}break;case 30:break;default:Gl(e,n)}}function Dl(e){var t=e.alternate;null!==t&&(e.alternate=null,Dl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ol=null,Ml=!1;function zl(e,t,n){for(n=n.child;null!==n;)Fl(e,t,n),n=n.sibling}function Fl(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(o){}switch(n.tag){case 26:Rl||_l(n,t),zl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Rl||_l(n,t);var r=Ol,i=Ml;Td(n.type)&&(Ol=n.stateNode,Ml=!1),zl(e,t,n),zd(n.stateNode),Ol=r,Ml=i;break;case 5:Rl||_l(n,t);case 6:if(r=Ol,i=Ml,Ol=null,zl(e,t,n),Ml=i,null!==(Ol=r))if(Ml)try{(9===Ol.nodeType?Ol.body:"HTML"===Ol.nodeName?Ol.ownerDocument.body:Ol).removeChild(n.stateNode)}catch(s){ku(n,t,s)}else try{Ol.removeChild(n.stateNode)}catch(s){ku(n,t,s)}break;case 18:null!==Ol&&(Ml?(Ed(9===(e=Ol).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vh(e)):Ed(Ol,n.stateNode));break;case 4:r=Ol,i=Ml,Ol=n.stateNode.containerInfo,Ml=!0,zl(e,t,n),Ol=r,Ml=i;break;case 0:case 11:case 14:case 15:yl(2,n,t),Rl||yl(4,n,t),zl(e,t,n);break;case 1:Rl||(_l(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bl(n,t,r)),zl(e,t,n);break;case 21:zl(e,t,n);break;case 22:Rl=(r=Rl)||null!==n.memoizedState,zl(e,t,n),Rl=r;break;default:zl(e,t,n)}}function Wl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vh(e)}catch(n){ku(t,t.return,n)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vh(e)}catch(n){ku(t,t.return,n)}}function Ul(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Nl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Nl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=ju.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(Td(l.type)){Ol=l.stateNode,Ml=!1;break e}break;case 5:Ol=l.stateNode,Ml=!1;break e;case 3:case 4:Ol=l.stateNode.containerInfo,Ml=!0;break e}l=l.return}if(null===Ol)throw Error(s(160));Fl(o,a,i),Ol=null,Ml=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)ql(t,e),t=t.sibling}var Vl=null;function ql(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Kl(e),4&r&&(yl(3,e,e.return),ml(3,e),yl(5,e,e.return));break;case 1:Hl(t,e),Kl(e),512&r&&(Rl||null===n||_l(n,n.return)),64&r&&Il&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Vl;if(Hl(t,e),Kl(e),512&r&&(Rl||null===n||_l(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Ge]||o[Be]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),hd(o,r,n),o[Be]=e,et(o),r=o;break e;case"link":var a=nh("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}hd(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=nh("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}hd(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[Be]=e,et(o),r=o}e.stateNode=r}else rh(i,e.type,e.stateNode);else e.stateNode=Xd(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?rh(i,e.type,e.stateNode):Xd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&kl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Kl(e),512&r&&(Rl||null===n||_l(n,n.return)),null!==n&&4&r&&kl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Kl(e),512&r&&(Rl||null===n||_l(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(g){ku(e,e.return,g)}}4&r&&null!=e.stateNode&&kl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Pl=!0);break;case 6:if(Hl(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){ku(e,e.return,g)}}break;case 3:if(th=null,i=Vl,Vl=Bd(t.containerInfo),Hl(t,e),Vl=i,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vh(t.containerInfo)}catch(g){ku(e,e.return,g)}Pl&&(Pl=!1,$l(e));break;case 4:r=Vl,Vl=Bd(e.stateNode.containerInfo),Hl(t,e),Kl(e),Vl=r;break;case 12:default:Hl(t,e),Kl(e);break;case 31:case 19:Hl(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ul(e,r)));break;case 13:Hl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Nc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ul(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Il,d=Rl;if(Il=u||i,Rl=d||c,Hl(t,e),Rl=d,Il=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Il||Rl||Ql(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(g){ku(c,c.return,g)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(g){ku(c,c.return,g)}}}else if(18===t.tag){if(null===n){c=t;try{var f=c.stateNode;i?jd(f,!0):jd(c.stateNode,!1)}catch(g){ku(c,c.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Ul(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Sl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;El(e,Cl(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(St(o,""),n.flags&=-33),El(e,Cl(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;Tl(e,Cl(e),a);break;default:throw Error(s(161))}}catch(l){ku(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function $l(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;$l(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Gl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Al(e,t.alternate,t),t=t.sibling}function Ql(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),Ql(t);break;case 1:_l(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bl(t,t.return,n),Ql(t);break;case 27:zd(t.stateNode);case 26:case 5:_l(t,t.return),Ql(t);break;case 22:null===t.memoizedState&&Ql(t);break;default:Ql(t)}e=e.sibling}}function Yl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Yl(i,o,n),ml(4,o);break;case 1:if(Yl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){ku(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)To(l[i],a)}catch(c){ku(r,r.return,c)}}n&&64&s&&vl(o),xl(o,o.return);break;case 27:jl(o);case 26:case 5:Yl(i,o,n),n&&null===r&&4&s&&wl(o),xl(o,o.return);break;case 12:Yl(i,o,n);break;case 31:Yl(i,o,n),n&&4&s&&Wl(i,o);break;case 13:Yl(i,o,n),n&&4&s&&Bl(i,o);break;case 22:null===o.memoizedState&&Yl(i,o,n),xl(o,o.return);break;case 30:break;default:Yl(i,o,n)}t=t.sibling}}function Xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Wi(n))}function Jl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wi(e))}function Zl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,n,r),2048&i&&ml(9,t);break;case 1:case 31:case 13:default:Zl(e,t,n,r);break;case 3:Zl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wi(e)));break;case 12:if(2048&i){Zl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ku(t,t.return,l)}}else Zl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?Zl(e,t,n,r):nc(e,t):2&o._visibility?Zl(e,t,n,r):(o._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Xl(s,t);break;case 24:Zl(e,t,n,r),2048&i&&Jl(t.alternate,t)}}function tc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:tc(o,s,a,l,i),ml(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?tc(o,s,a,l,i):nc(o,s):(u._visibility|=2,tc(o,s,a,l,i)),i&&2048&c&&Xl(s.alternate,s);break;case 24:tc(o,s,a,l,i),i&&2048&c&&Jl(s.alternate,s);break;default:tc(o,s,a,l,i)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nc(n,r),2048&i&&Xl(r.alternate,r);break;case 24:nc(n,r),2048&i&&Jl(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function ic(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Kd(r.href),o=t.querySelector($d(i));if(o)return null!==(t=o._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void et(o);o=t.ownerDocument||t,r=Gd(r),(i=Fd.get(i))&&Zd(r,i),et(o=o.createElement("link"));var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),hd(o,"link",r),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=sh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vl,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var r=Vl;Vl=Bd(e.stateNode.containerInfo),ic(e,t,n),Vl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,ic(e,t,n),rc=r):ic(e,t,n))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ac(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ll=r,uc(r,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:ac(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:ac(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):ac(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ll=r,uc(r,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Ll;){var n=Ll;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Wi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ll=r;else e:for(n=e;null!==Ll;){var i=(r=Ll).sibling,o=r.return;if(Dl(r),r===n){Ll=null;break e}if(null!==i){i.return=o,Ll=i;break e}Ll=o}}}var dc={getCacheForType:function(e){var t=Ni(zi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ni(zi).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,pc=0,fc=null,gc=null,mc=0,yc=0,vc=null,bc=!1,xc=!1,_c=!1,wc=0,kc=0,Sc=0,Cc=0,Tc=0,Ec=0,jc=0,Ic=null,Rc=null,Pc=!1,Nc=0,Lc=0,Ac=1/0,Dc=null,Oc=null,Mc=0,zc=null,Fc=null,Wc=0,Bc=0,Uc=null,Hc=null,Vc=0,qc=null;function Kc(){return 0!==(2&pc)&&0!==mc?mc&-mc:null!==A.T?Uu():ze()}function $c(){if(0===Ec)if(0===(536870912&mc)||di){var e=Se;0===(3932160&(Se<<=1))&&(Se=262144),Ec=e}else Ec=536870912;return null!==(e=Lo.current)&&(e.flags|=32),Ec}function Gc(e,t,n){(e!==fc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(tu(e,0),Jc(e,mc,Ec,!1)),Ne(e,n),0!==(2&pc)&&e===fc||(e===fc&&(0===(2&pc)&&(Cc|=n),4===kc&&Jc(e,mc,Ec,!1)),Du(e))}function Qc(e,t,n){if(0!==(6&pc))throw Error(s(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||je(e,t),i=r?function(e,t){var n=pc;pc|=2;var r=iu(),i=ou();fc!==e||mc!==t?(Dc=null,Ac=le()+500,tu(e,t)):xc=je(e,t);e:for(;;)try{if(0!==yc&&null!==gc){t=gc;var o=vc;t:switch(yc){case 1:yc=0,vc=null,hu(e,t,o,1);break;case 2:case 9:if(to(o)){yc=0,vc=null,du(t);break}t=function(){2!==yc&&9!==yc||fc!==e||(yc=7),Du(e)},o.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:to(o)?(yc=0,vc=null,du(t)):(yc=0,vc=null,hu(e,t,o,7));break;case 5:var a=null;switch(gc.tag){case 26:a=gc.memoizedState;case 5:case 27:var l=gc;if(a?ih(a):l.stateNode.complete){yc=0,vc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,pu(u)):gc=null}break t}}yc=0,vc=null,hu(e,t,o,5);break;case 6:yc=0,vc=null,hu(e,t,o,6);break;case 8:eu(),kc=6;break e;default:throw Error(s(462))}}cu();break}catch(d){nu(e,d)}return Si=ki=null,A.H=r,A.A=i,pc=n,null!==gc?0:(fc=null,mc=0,Rr(),kc)}(e,t):au(e,t,!0),o=r;;){if(0===i){xc&&!r&&Jc(e,t,0,!1);break}if(n=e.current.alternate,!o||Xc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=Ic;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,a).flags|=256),2!==(a=au(l,a,!1))){if(_c&&!c){l.errorRecoveryDisabledLanes|=o,Cc|=o,i=4;break e}o=Rc,Rc=i,null!==o&&(null===Rc?Rc=o:Rc.push.apply(Rc,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){tu(e,0),Jc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Jc(r,t,Ec,!bc);break e;case 2:Rc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Nc+300-le())){if(Jc(r,t,Ec,!bc),0!==Ee(r,0,!0))break e;Wc=t,r.timeoutHandle=_d(Yc.bind(null,r,n,Rc,Dc,Pc,t,Ec,Cc,jc,bc,o,"Throttled",-0,0),i)}else Yc(r,n,Rc,Dc,Pc,t,Ec,Cc,jc,bc,o,null,-0,0)}break}i=au(e,t,!1),o=!1}Du(e)}function Yc(e,t,n,r,i,o,s,a,l,c,u,d,h,p){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){oc(t,o,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nt});var f=(62914560&o)===o?Nc-le():(4194048&o)===o?Lc-le():0;if(null!==(f=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===oh&&(oh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,s=i.initiatorType,a=i.duration;if(o&&a&&pd(s)){for(s=0,a=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>a)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(s+=u*((l=l.responseEnd)<a?1:(a-c)/(l-c)))}if(--r,t+=8*(o+s)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>oh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,f)))return Wc=o,e.cancelPendingCommit=f(gu.bind(null,e,t,o,n,r,i,s,a,l,u,d,null,h,p)),void Jc(e,o,s,!c)}gu(e,t,o,n,r,i,s,a,l)}function Xc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Jn(o(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jc(e,t,n,r){t&=~Tc,t&=~Cc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-xe(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&Le(e,n,t)}function Zc(){return 0!==(6&pc)||(Ou(0,!1),!1)}function eu(){if(null!==gc){if(0===yc)var e=gc.return;else Si=ki=null,as(e=gc),ao=null,lo=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,wd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc=0,eu(),fc=e,gc=n=Wr(e.current,null),mc=t,yc=0,vc=null,bc=!1,xc=je(e,t),_c=!1,jc=Ec=Tc=Cc=Sc=kc=0,Rc=Ic=null,Pc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-xe(r),o=1<<i;t|=e[i],r&=~o}return wc=t,Rr(),n}function nu(e,t){Ho=null,A.H=ga,t===Xi||t===Zi?(t=oo(),yc=3):t===Ji?(t=oo(),yc=4):yc=t===Na?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,vc=t,null===gc&&(kc=1,Ea(e,Gr(t,e.current)))}function ru(){var e=Lo.current;return null===e||((4194048&mc)===mc?null===Ao:((62914560&mc)===mc||0!==(536870912&mc))&&e===Ao)}function iu(){var e=A.H;return A.H=ga,null===e?ga:e}function ou(){var e=A.A;return A.A=dc,e}function su(){kc=4,bc||(4194048&mc)!==mc&&null!==Lo.current||(xc=!0),0===(134217727&Sc)&&0===(134217727&Cc)||null===fc||Jc(fc,mc,Ec,!1)}function au(e,t,n){var r=pc;pc|=2;var i=iu(),o=ou();fc===e&&mc===t||(Dc=null,tu(e,t)),t=!1;var s=kc;e:for(;;)try{if(0!==yc&&null!==gc){var a=gc,l=vc;switch(yc){case 8:eu(),s=6;break e;case 3:case 2:case 9:case 6:null===Lo.current&&(t=!0);var c=yc;if(yc=0,vc=null,hu(e,a,l,c),n&&xc){s=0;break e}break;default:c=yc,yc=0,vc=null,hu(e,a,l,c)}}lu(),s=kc;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,Si=ki=null,pc=r,A.H=i,A.A=o,null===gc&&(fc=null,mc=0,Rr()),s}function lu(){for(;null!==gc;)uu(gc)}function cu(){for(;null!==gc&&!se();)uu(gc)}function uu(e){var t=sl(e.alternate,e,wc);e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qa(n,t,t.pendingProps,t.type,void 0,mc);break;case 11:t=qa(n,t,t.pendingProps,t.type.render,t.ref,mc);break;case 5:as(t);default:gl(n,t),t=sl(n,t=gc=Br(t,wc),wc)}e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function hu(e,t,n,r){Si=ki=null,as(t),ao=null,lo=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ii(t,n,i,!0),null!==(n=Lo.current)){switch(n.tag){case 31:case 13:return null===Ao?su():null===n.alternate&&0===kc&&(kc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Su(e,r,i)),!1;case 22:return n.flags|=65536,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Su(e,r,i)),!1}throw Error(s(435,n.tag))}return Su(e,r,i),su(),!1}if(di)return null!==(t=Lo.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==fi&&_i(Gr(e=Error(s(422),{cause:r}),n))):(r!==fi&&_i(Gr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Gr(r,n),wo(e,i=Ia(e.stateNode,r,i)),4!==kc&&(kc=2)),!1;var o=Error(s(520),{cause:r});if(o=Gr(o,n),null===Ic?Ic=[o]:Ic.push(o),4!==kc&&(kc=2),null===t)return!0;r=Gr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,wo(n,e=Ia(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Oc||!Oc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Pa(i=Ra(i),e,n,r),wo(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,mc))return kc=1,Ea(e,Gr(n,e.current)),void(gc=null)}catch(o){if(null!==i)throw gc=i,o;return kc=1,Ea(e,Gr(n,e.current)),void(gc=null)}32768&t.flags?(di||1===r?e=!0:xc||0!==(536870912&mc)?e=!1:(bc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Lo.current)&&13===r.tag&&(r.flags|=16384))),fu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void fu(t,bc);e=t.return;var n=pl(t.alternate,t,wc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===kc&&(kc=5)}function fu(e,t){do{var n=fl(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);kc=6,gc=null}function gu(e,t,n,r,i,o,a,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==Mc);if(0!==(6&pc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-xe(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Le(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Ir,a,l,c),e===fc&&(gc=fc=null,mc=0),Fc=t,zc=e,Wc=n,Bc=o,Uc=i,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return _u(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=A.T,A.T=null,i=D.p,D.p=2,a=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,fd=bh,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(m){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=a),p===o&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},bh=!1,Ll=t;null!==Ll;)if(e=(t=Ll).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ll=e;else for(;null!==Ll;){switch(o=(t=Ll).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var g=ka(n.type,i);e=r.getSnapshotBeforeUpdate(g,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){ku(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Id(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Ll=e;break}Ll=t.return}}(e,t)}finally{pc=a,D.p=i,A.T=r}}Mc=1,mu(),yu(),vu()}}function mu(){if(1===Mc){Mc=0;var e=zc,t=Fc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=A.T,A.T=null;var r=D.p;D.p=2;var i=pc;pc|=4;try{ql(t,e);var o=gd,s=rr(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==l&&ir(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=a.textContent.length,g=Math.min(l.start,f),m=void 0===l.end?g:Math.min(l.end,f);!p.extend&&g>m&&(s=m,m=g,g=s);var y=tr(a,g),v=tr(a,m);if(y&&v&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),g>m?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(d=[],p=a;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var x=d[a];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}bh=!!fd,gd=fd=null}finally{pc=i,D.p=r,A.T=n}}e.current=t,Mc=2}}function yu(){if(2===Mc){Mc=0;var e=zc,t=Fc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=A.T,A.T=null;var r=D.p;D.p=2;var i=pc;pc|=4;try{Al(e,t.alternate,t)}finally{pc=i,D.p=r,A.T=n}}Mc=3}}function vu(){if(4===Mc||3===Mc){Mc=0,ae();var e=zc,t=Fc,n=Wc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Mc=5:(Mc=0,Fc=zc=null,bu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Oc=null),Me(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=A.T,i=D.p,D.p=2,A.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{A.T=t,D.p=i}}0!==(3&Wc)&&xu(),Du(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===qc?Vc++:(Vc=0,qc=e):Vc=0,Ou(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Wi(t)))}function xu(){return mu(),yu(),vu(),_u()}function _u(){if(5!==Mc)return!1;var e=zc,t=Bc;Bc=0;var n=Me(Wc),r=A.T,i=D.p;try{D.p=32>n?32:n,A.T=null,n=Uc,Uc=null;var o=zc,a=Wc;if(Mc=0,Fc=zc=null,Wc=0,0!==(6&pc))throw Error(s(331));var l=pc;if(pc|=4,lc(o.current),ec(o,o.current,a,n),pc=l,Ou(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,o)}catch(c){}return!0}finally{D.p=i,A.T=r,bu(e,t)}}function wu(e,t,n){t=Gr(n,t),null!==(e=xo(e,t=Ia(e.stateNode,t,2),2))&&(Ne(e,2),Du(e))}function ku(e,t,n){if(3===e.tag)wu(e,e,n);else for(;null!==t;){if(3===t.tag){wu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Oc||!Oc.has(r))){e=Gr(n,e),null!==(r=xo(t,n=Ra(2),2))&&(Pa(n,r,t,e),Ne(r,2),Du(r));break}}t=t.return}}function Su(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(_c=!0,i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,fc===e&&(mc&n)===n&&(4===kc||3===kc&&(62914560&mc)===mc&&300>le()-Nc?0===(2&pc)&&tu(e,0):Tc|=n,jc===mc&&(jc=0)),Du(e)}function Tu(e,t){0===t&&(t=Re()),null!==(e=Lr(e,t))&&(Ne(e,t),Du(e))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function ju(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tu(e,n)}var Iu=null,Ru=null,Pu=!1,Nu=!1,Lu=!1,Au=0;function Du(e){e!==Ru&&null===e.next&&(null===Ru?Iu=Ru=e:Ru=Ru.next=e),Nu=!0,Pu||(Pu=!0,Sd(function(){0!==(6&pc)?ie(ue,Mu):zu()}))}function Ou(e,t){if(!Lu&&Nu){Lu=!0;do{for(var n=!1,r=Iu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-xe(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Bu(r,o))}else o=mc,0===(3&(o=Ee(r,r===fc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||je(r,o)||(n=!0,Bu(r,o));r=r.next}}while(n);Lu=!1}}function Mu(){zu()}function zu(){Nu=Pu=!1;var e=0;0!==Au&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=Au);for(var t=le(),n=null,r=Iu;null!==r;){var i=r.next,o=Fu(r,t);0===o?(r.next=null,null===n?Iu=i:n.next=i,null===i&&(Ru=n)):(n=r,(0!==e||0!==(3&o))&&(Nu=!0)),r=i}0!==Mc&&5!==Mc||Ou(e,!1),0!==Au&&(Au=0)}function Fu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-xe(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=Ie(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=mc,n=Ee(e,e===(t=fc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||je(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Me(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=fe}return r=Wu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function Wu(e,t){if(0!==Mc&&5!==Mc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=mc;return 0===(r=Ee(e,e===fc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Qc(e,r,t),Fu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Wu.bind(null,e):null)}function Bu(e,t){if(xu())return null;Qc(e,t,!0)}function Uu(){if(0===Au){var e=Hi;0===e&&(e=ke,0===(261888&(ke<<=1))&&(ke=256)),Au=e}return Au}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Vu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var qu=0;qu<Sr.length;qu++){var Ku=Sr[qu];Cr(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}Cr(mr,"onAnimationEnd"),Cr(yr,"onAnimationIteration"),Cr(vr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(br,"onTransitionRun"),Cr(xr,"onTransitionStart"),Cr(_r,"onTransitionCancel"),Cr(wr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($u));function Qu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){Tr(u)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){Tr(u)}i.currentTarget=null,o=l}}}}function Yu(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function Xu(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Ju]){e[Ju]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Gu.has(t)||Xu(t,!1,e),Xu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ju]||(t[Ju]=!0,Xu("selectionchange",!1,t))}}function ed(e,t,n,r){switch(Th(t)){case 2:var i=xh;break;case 8:i=_h;break;default:i=wh}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function td(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=Ye(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Ft(function(){var r=o,i=At(n),s=[];e:{var a=kr.get(e);if(void 0!==a){var c=nn,u=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case mr:case yr:case vr:c=un;break;case wr:c=_n;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=kn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==a?a+"Capture":null:a;d=[];for(var f,g=r;null!==g;){var m=g;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===p||null!=(m=Wt(g,p))&&d.push(nd(g,m,f)),h)break;g=g.return}0<d.length&&(a=new c(a,u,null,n,i),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Lt||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[He])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=an,m="onMouseLeave",p="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,m="onPointerLeave",p="onPointerEnter",g="pointer"),h=null==c?a:Je(c),f=null==u?a:Je(u),(a=new d(m,g+"leave",c,n,i)).target=h,a.relatedTarget=f,m=null,Ye(i)===r&&((d=new d(p,g+"enter",u,n,i)).target=f,d.relatedTarget=h,m=d),h=m,c&&u)e:{for(d=id,g=u,f=0,m=p=c;m;m=d(m))f++;m=0;for(var y=g;y;y=d(y))m++;for(;0<f-m;)p=d(p),f--;for(;0<m-f;)g=d(g),m--;for(;f--;){if(p===g||null!==g&&p===g.alternate){d=p;break e}p=d(p),g=d(g)}d=null}else d=null;null!==c&&od(s,a,c,d,!1),null!==u&&null!==h&&od(s,h,u,d,!0)}if("select"===(c=(a=r?Je(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var v=Bn;else if(Dn(a))if(Un)v=Xn;else{v=Qn;var b=Gn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&jt(r.elementType)&&(v=Bn):v=Yn;switch(v&&(v=v(e,r))?On(s,v,n,i):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&xt(a,"number",a.value)),b=r?Je(r):window,e){case"focusin":(Dn(b)||"true"===b.contentEditable)&&(sr=b,ar=r,lr=null);break;case"focusout":lr=ar=sr=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(s,n,i);break;case"selectionchange":if(or)break;case"keydown":case"keyup":ur(s,n,i)}var x;if(Cn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ln?Pn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==_?"onCompositionEnd"===_&&Ln&&(x=$t()):(qt="value"in(Vt=i)?Vt.value:Vt.textContent,Ln=!0)),0<(b=rd(r,_)).length&&(_=new hn(_,e,null,n,i),s.push({event:_,listeners:b}),x?_.data=x:null!==(x=Nn(n))&&(_.data=x))),(x=En?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(Rn=!0,In);case"textInput":return(e=t.data)===In&&Rn?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!Cn&&Pn(e,t)?(e=$t(),Kt=qt=Vt=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(_=rd(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,i),s.push({event:b,listeners:_}),b.data=x)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Hu((i[Ue]||null).action),s=r.submitter;s&&null!==(t=(t=s[Ue]||null)?Hu(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new nn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Au){var e=s?Vu(i,s):new FormData(i);ta(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?Vu(i,s):new FormData(i),ta(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Qu(s,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Wt(e,n))&&r.unshift(nd(e,i,o)),null!=(i=Wt(e,t))&&r.push(nd(e,i,o))),3===e.tag)return r;e=e.return}return[]}function id(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function od(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Wt(n,o))&&s.unshift(nd(n,c,l)):i||null!=(c=Wt(n,o))&&s.push(nd(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var sd=/\r\n?/g,ad=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(sd,"\n").replace(ad,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Et(e,r,o);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&ud(e,t,"name",i.name,i,null),ud(e,t,"formEncType",i.formEncType,i,null),ud(e,t,"formMethod",i.formMethod,i,null),ud(e,t,"formTarget",i.formTarget,i,null)):(ud(e,t,"encType",i.encType,i,null),ud(e,t,"method",i.method,i,null),ud(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Nt);break;case"onScroll":null!=r&&Yu("scroll",e);break;case"onScrollEnd":null!=r&&Yu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Yu("beforetoggle",e),Yu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=It.get(n)||n,r)}}function dd(e,t,n,r,i,o){switch(n){case"style":Et(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Yu("scroll",e);break;case"onScrollEnd":null!=r&&Yu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Nt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Ue]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yu("error",e),Yu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,r,a,n,null)}}return o&&ud(e,t,"srcSet",n.srcSet,n,null),void(i&&ud(e,t,"src",n.src,n,null));case"input":Yu("invalid",e);var l=r=a=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:ud(e,t,i,d,n,null)}}return void bt(e,r,l,c,u,a,o,!1);case"select":for(o in Yu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:ud(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?_t(e,!!i,t,!1):null!=n&&_t(e,!!i,n,!0));case"textarea":for(a in Yu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:ud(e,t,a,l,n,null)}return void kt(e,i,o,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else ud(e,t,c,i,n,null);return;case"dialog":Yu("beforetoggle",e),Yu("toggle",e),Yu("cancel",e),Yu("close",e);break;case"iframe":case"object":Yu("load",e);break;case"video":case"audio":for(i=0;i<$u.length;i++)Yu($u[i],e);break;case"image":Yu("error",e),Yu("load",e);break;case"details":Yu("toggle",e);break;case"embed":case"source":case"link":Yu("error",e),Yu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,u,i,n,null)}return;default:if(jt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&dd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&ud(e,t,l,i,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var fd=null,gd=null;function md(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var _d="function"===typeof setTimeout?setTimeout:void 0,wd="function"===typeof clearTimeout?clearTimeout:void 0,kd="function"===typeof Promise?Promise:void 0,Sd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof kd?function(e){return kd.resolve(null).then(e).catch(Cd)}:_d;function Cd(e){setTimeout(function(){throw e})}function Td(e){return"head"===e}function Ed(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Vh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)zd(e.ownerDocument.documentElement);else if("head"===n){zd(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var s=o.nextSibling,a=o.nodeName;o[Ge]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}else"body"===n&&zd(e.ownerDocument.body);n=i}while(n);Vh(t)}function jd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Id(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Id(n),Qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Rd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ld(e.nextSibling)))return null}return e}function Pd(e){return"$?"===e.data||"$~"===e.data}function Nd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ld(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ad=null;function Dd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Ld(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Od(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Md(e,t,n){switch(t=md(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function zd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qe(e)}var Fd=new Map,Wd=new Set;function Bd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ud=D.d;D.d={f:function(){var e=Ud.f(),t=Zc();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?ra(t):Ud.r(e)},D:function(e){Ud.D(e),Vd("dns-prefetch",e,null)},C:function(e,t){Ud.C(e,t),Vd("preconnect",e,t)},L:function(e,t,n){Ud.L(e,t,n);var r=Hd;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var o=i;switch(t){case"style":o=Kd(e);break;case"script":o=Qd(e)}Fd.has(o)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector($d(o))||"script"===t&&r.querySelector(Yd(o))||(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Ud.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Qd(e)}if(!Fd.has(o)&&(e=p({rel:"modulepreload",href:e},t),Fd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yd(o)))return}hd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Ud.X(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,i=Qd(e),o=r.get(i);o||((o=n.querySelector(Yd(i)))||(e=p({src:e,async:!0},t),(t=Fd.get(i))&&eh(e,t),et(o=n.createElement("script")),hd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Ud.S(e,t,n);var r=Hd;if(r&&e){var i=Ze(r).hoistableStyles,o=Kd(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector($d(o)))a.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fd.get(o))&&Zd(e,n);var l=s=r.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Jd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){Ud.M(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,i=Qd(e),o=r.get(i);o||((o=n.querySelector(Yd(i)))||(e=p({src:e,async:!0,type:"module"},t),(t=Fd.get(i))&&eh(e,t),et(o=n.createElement("script")),hd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Hd="undefined"===typeof document?null:document;function Vd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Wd.has(i)||(Wd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function qd(e,t,n,r){var i,o,a,l,c=(c=K.current)?Bd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Kd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Kd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector($d(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Fd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fd.set(e,n),u||(i=c,o=e,a=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),hd(o,"link",a),et(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Qd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Kd(e){return'href="'+yt(e)+'"'}function $d(e){return'link[rel="stylesheet"]['+e+"]"}function Gd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Qd(e){return'[src="'+yt(e)+'"]'}function Yd(e){return"script[async]"+e}function Xd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hd(r,"style",i),Jd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Kd(n.href);var o=e.querySelector($d(i));if(o)return t.state.loading|=4,t.instance=o,et(o),o;r=Gd(n),(i=Fd.get(i))&&Zd(r,i),et(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),hd(o,"link",r),t.state.loading|=4,Jd(o,n.precedence,e),t.instance=o;case"script":return o=Qd(n.src),(i=e.querySelector(Yd(o)))?(t.instance=i,et(i),i):(r=n,(i=Fd.get(o))&&eh(r=p({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),hd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Jd(r,n.precedence,e));return t.instance}function Jd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var r=new Map,i=th=new Map;i.set(n,r)}else(r=(i=th).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Ge]||o[Be]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function rh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ih(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var oh=0;function sh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ah=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ah=new Map,t.forEach(ch,e),ah=null,sh.call(e))}function ch(e,t){if(!(4&t.state.loading)){var n=ah.get(e);if(n)var r=n.get(null);else{n=new Map,ah.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=sh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var uh={$$typeof:_,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function dh(e,t,n,r,i,o,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,n,r,i,o,s,a,l,c,u,d){return e=new dh(e,t,n,s,l,c,u,d,a),t=1,!0===o&&(t|=24),o=zr(3,null,null,t),e.current=o,o.stateNode=e,(t=Fi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},yo(o),e}function ph(e){return e?e=Or:Or}function fh(e,t,n,r,i,o){i=ph(i),null===r.context?r.context=i:r.pendingContext=i,(r=bo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=xo(e,r,t))&&(Gc(n,0,t),_o(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function mh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function yh(e){if(13===e.tag||31===e.tag){var t=Lr(e,67108864);null!==t&&Gc(t,0,67108864),mh(e,67108864)}}function vh(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Lr(e,t=Oe(t));null!==n&&Gc(n,0,t),mh(e,t)}}var bh=!0;function xh(e,t,n,r){var i=A.T;A.T=null;var o=D.p;try{D.p=2,wh(e,t,n,r)}finally{D.p=o,A.T=i}}function _h(e,t,n,r){var i=A.T;A.T=null;var o=D.p;try{D.p=8,wh(e,t,n,r)}finally{D.p=o,A.T=i}}function wh(e,t,n,r){if(bh){var i=kh(r);if(null===i)td(e,t,r,Sh,n),Dh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return jh=Oh(jh,e,t,n,r,i),!0;case"dragenter":return Ih=Oh(Ih,e,t,n,r,i),!0;case"mouseover":return Rh=Oh(Rh,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ph.set(o,Oh(Ph.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nh.set(o,Oh(Nh.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dh(e,r),4&t&&-1<Ah.indexOf(e)){for(;null!==i;){var o=Xe(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=Te(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-xe(s);a.entanglements[1]|=l,s&=~l}Du(o),0===(6&pc)&&(Ac=le()+500,Ou(0,!1))}}break;case 31:case 13:null!==(a=Lr(o,2))&&Gc(a,0,2),Zc(),mh(o,2)}if(null===(o=kh(r))&&td(e,t,r,Sh,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else td(e,t,r,null,n)}}function kh(e){return Ch(e=At(e))}var Sh=null;function Ch(e){if(Sh=null,null!==(e=Ye(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sh=e,null}function Th(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case pe:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Eh=!1,jh=null,Ih=null,Rh=null,Ph=new Map,Nh=new Map,Lh=[],Ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dh(e,t){switch(e){case"focusin":case"focusout":jh=null;break;case"dragenter":case"dragleave":Ih=null;break;case"mouseover":case"mouseout":Rh=null;break;case"pointerover":case"pointerout":Ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nh.delete(t.pointerId)}}function Oh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Xe(t))&&yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mh(e){var t=Ye(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Fe(e.priority,function(){vh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Fe(e.priority,function(){vh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=kh(e.nativeEvent);if(null!==n)return null!==(t=Xe(n))&&yh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Lt=r,n.target.dispatchEvent(r),Lt=null,t.shift()}return!0}function Fh(e,t,n){zh(e)&&n.delete(t)}function Wh(){Eh=!1,null!==jh&&zh(jh)&&(jh=null),null!==Ih&&zh(Ih)&&(Ih=null),null!==Rh&&zh(Rh)&&(Rh=null),Ph.forEach(Fh),Nh.forEach(Fh)}function Bh(e,t){e.blockedOn===t&&(e.blockedOn=null,Eh||(Eh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Wh)))}var Uh=null;function Hh(e){Uh!==e&&(Uh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uh===e&&(Uh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Ch(r||n))continue;break}var o=Xe(n);null!==o&&(e.splice(t,3),t-=3,ta(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vh(e){function t(t){return Bh(t,e)}null!==jh&&Bh(jh,e),null!==Ih&&Bh(Ih,e),null!==Rh&&Bh(Rh,e),Ph.forEach(t),Nh.forEach(t);for(var n=0;n<Lh.length;n++){var r=Lh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Lh.length&&null===(n=Lh[0]).blockedOn;)Mh(n),null===n.blockedOn&&Lh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[Ue]||null;if("function"===typeof o)s||Hh(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[Ue]||null)a=s.formAction;else if(null!==Ch(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Hh(n)}}}function qh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Kh(e){this._internalRoot=e}function $h(e){this._internalRoot=e}$h.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));fh(t.current,Kc(),e,t,null,null)},$h.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fh(e.current,2,null,e,null,null),Zc(),t[He]=null}},$h.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lh.length&&0!==t&&t<Lh[n].priority;n++);Lh.splice(n,0,e),0===n&&Mh(e)}};var Gh=i.version;if("19.2.3"!==Gh)throw Error(s(527,Gh,"19.2.3"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return d(i),e;if(o===r)return d(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Qh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{ye=Yh.inject(Qh),ve=Yh}catch(Jh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=Sa,o=Ca,l=Ta;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,r,null,i,o,l,qh),e[He]=t.current,Zu(e),new Kh(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=Sa,l=Ca,c=Ta,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=hh(e,1,!0,t,0,r,i,u,o,l,c,qh)).context=ph(null),n=t.current,(i=bo(r=Oe(r=Kc()))).callback=null,xo(n,i,r),n=r,t.current.lanes=n,Ne(t,n),Du(t),e[He]=t.current,Zu(e),new $h(t)},t.version="19.2.3"},43(e,t,n){"use strict";e.exports=n(288)},288(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),f=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}function b(){}function x(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var _=x.prototype=new b;_.constructor=x,m(_,v.prototype),_.isPureReactComponent=!0;var w=Array.isArray;function k(){}var S={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function T(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function R(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return R((u=e._init)(e._payload),t,i,o,s)}}if(u)return s=s(e),u=""===o?"."+I(e,0):o,w(s)?(i="",null!=u&&(i=u.replace(j,"$&/")+"/"),R(s,t,i,"",function(e){return e})):null!=s&&(E(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(j,"$&/")+"/")+u,s=T(l.type,c,l.props)),t.push(s)),1;u=0;var d,p=""===o?".":o+":";if(w(e))for(var g=0;g<e.length;g++)u+=R(o=e[g],t,i,a=p+I(o,g),s);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(o=e.next()).done;)u+=R(o=o.value,t,i,a=p+I(o,g++),s);else if("object"===a){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",function(e){return t.call(n,e,i++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},A={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=p,t.Children=A,t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=x,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.key&&(i=""+t.key),t)!C.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return T(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)C.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return T(e,o,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(k,L)}catch(o){L(o)}finally{null!==t&&null!==n.types&&(t.types=n.types),S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useEffectEvent=function(e){return S.H.useEffectEvent(e)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.2.3"},391(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579(e,t,n){"use strict";e.exports=n(799)},672(e,t,n){"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},799(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},825(){},853(e,t,n){"use strict";e.exports=n(896)},896(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(m=!1,_(e),!g)if(null!==r(c))g=!0,S||(S=!0,k());else{var t=r(u);null!==t&&N(w,t.startTime-e)}}var k,S=!1,C=-1,T=5,E=-1;function j(){return!!y||!(t.unstable_now()-E<T)}function I(){if(y=!1,S){var e=t.unstable_now();E=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(C),C=-1),f=!0;var o=p;try{t:{for(_(e),h=r(c);null!==h&&!(h.expirationTime>e&&j());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,_(e),n=!0;break t}h===r(c)&&i(c),_(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&N(w,l.startTime-e),n=!1}}break e}finally{h=null,p=o,f=!1}n=void 0}}finally{n?k():S=!1}}}if("function"===typeof x)k=function(){x(I)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=I,k=function(){P.postMessage(null)}}else k=function(){v(I,0)};function N(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(b(C),C=-1):m=!0,N(w,o-s))):(e.sortIndex=a,n(c,e),g||f||(g=!0,S||(S=!0,k()))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(43),t=n.t(e,2),r=n(391);function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=["sri"],d=["page"],h=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],f=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var m="popstate";function y(){return S(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return _("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:w(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function v(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function S(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=d();function d(){return(s.state||{idx:null}).idx}function h(){a="POP";let e=d(),t=null==e?null:e-u;u=e,l&&l({action:a,location:f.location,delta:t})}function p(e){return C(e)}null==u&&(u=0,s.replaceState(c(c({},s.state),{},{idx:u}),""));let f={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(m,h),l=e,()=>{i.removeEventListener(m,h),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=_(f.location,e,t);n&&n(r,e),u=d()+1;let c=x(r,u),h=f.createHref(r);try{s.pushState(c,"",h)}catch(ji){if(ji instanceof DOMException&&"DataCloneError"===ji.name)throw ji;i.location.assign(h)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a="REPLACE";let r=_(f.location,e,t);n&&n(r,e),u=d();let i=x(r,u),c=f.createHref(r);s.replaceState(i,"",c),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),v(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:w(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function T(e,t){return E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function E(e,t,n,r){let i=U(("string"===typeof t?k(t):t).pathname||"/",n);if(null==i)return null;let o=j(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=B(i);s=z(o[a],e,r)}return s}function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=function(e,o){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&s)return;v(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=Q([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(v(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),j(e.children,t,u,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:M(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of I(e.path))o(e,t,!0,r);else o(e,t)}),t}function I(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=I(r.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),i&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var R=/^:[\w-]+$/,P=3,N=2,L=1,A=10,D=-2,O=e=>"*"===e;function M(e,t){let n=e.split("/"),r=n.length;return n.some(O)&&(r+=D),t&&(r+=N),n.filter(e=>!O(e)).reduce((e,t)=>e+(R.test(t)?P:""===t?L:A),r)}function z(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:Q([o,u.pathname]),pathnameBase:Y(Q([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=Q([o,u.pathnameBase]))}return s}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=W(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function W(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function B(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(ji){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(ji,").")),e}}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var H=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function V(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function q(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function K(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function $(e){let t=K(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function G(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=k(e):(r=c({},e),v(!r.pathname||!r.pathname.includes("?"),q("?","pathname","search",r)),v(!r.pathname||!r.pathname.includes("#"),q("#","pathname","hash",r)),v(!r.search||!r.search.includes("#"),q("#","search","hash",r)));let o,s=""===e||""===r.pathname,a=s?"/":r.pathname;if(null==a)o=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:i="",hash:o=""}="string"===typeof e?k(e):e;return r?(r=r.replace(/\/\/+/g,"/"),t=r.startsWith("/")?V(r.substring(1),"/"):V(r,n)):t=n,{pathname:t,search:X(i),hash:J(o)}}(r,o),u=a&&"/"!==a&&a.endsWith("/"),d=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}var Q=e=>e.join("/").replace(/\/\/+/g,"/"),Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var Z=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function te(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ne="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function re(e,t){let n=e;if("string"!==typeof n||!H.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(ne)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),o=U(r.pathname,t);r.origin===e.origin&&null!=o?n=o+r.search+r.hash:i=!0}catch(o){b(!1,'<Link to="'.concat(n,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:r,isExternal:i,to:n}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ie=["POST","PUT","PATCH","DELETE"],oe=(new Set(ie),["GET",...ie]);new Set(oe),Symbol("ResetLoaderData");var se=e.createContext(null);se.displayName="DataRouter";var ae=e.createContext(null);ae.displayName="DataRouterState";var le=e.createContext(!1);function ce(){return e.useContext(le)}var ue=e.createContext({isTransitioning:!1});ue.displayName="ViewTransition";var de=e.createContext(new Map);de.displayName="Fetchers";var he=e.createContext(null);he.displayName="Await";var pe=e.createContext(null);pe.displayName="Navigation";var fe=e.createContext(null);fe.displayName="Location";var ge=e.createContext({outlet:null,matches:[],isDataRoute:!1});ge.displayName="Route";var me=e.createContext(null);me.displayName="RouteError";var ye="REACT_ROUTER_ERROR";function ve(){return null!=e.useContext(fe)}function be(){return v(ve(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(fe).location}var xe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _e(t){e.useContext(pe).static||e.useLayoutEffect(t)}function we(){let{isDataRoute:t}=e.useContext(ge);return t?function(){let{router:t}=Ae("useNavigate"),n=Oe("useNavigate"),r=e.useRef(!1);_e(()=>{r.current=!0});let i=e.useCallback(async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(r.current,xe),r.current&&("number"===typeof e?await t.navigate(e):await t.navigate(e,c({fromRouteId:n},i)))},[t,n]);return i}():function(){v(ve(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(se),{basename:n,navigator:r}=e.useContext(pe),{matches:i}=e.useContext(ge),{pathname:o}=be(),s=JSON.stringify($(i)),a=e.useRef(!1);_e(()=>{a.current=!0});let l=e.useCallback(function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(a.current,xe),!a.current)return;if("number"===typeof e)return void r.go(e);let l=G(e,JSON.parse(s),o,"path"===i.relative);null==t&&"/"!==n&&(l.pathname="/"===l.pathname?n:Q([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[n,r,s,o,t]);return l}()}var ke=e.createContext(null);function Se(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(ge),{pathname:i}=be(),o=JSON.stringify($(r));return e.useMemo(()=>G(t,JSON.parse(o),i,"path"===n),[t,o,i,n])}function Ce(t,n,r,i,o){v(ve(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=e.useContext(pe),{matches:a}=e.useContext(ge),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let e=p&&p.path||"";Fe(d,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,g=be();if(n){var m;let e="string"===typeof n?k(n):n;v("/"===h||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=g;let y=f.pathname||"/",x=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=T(t,{pathname:x});b(p||null!=_,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),b(null==_||void 0!==_[_.length-1].route.element||void 0!==_[_.length-1].route.Component||void 0!==_[_.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=Ne(_&&_.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Q([h,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:Q([h,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),a,r,i,o);return n&&w?e.createElement(fe.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},w):w}function Te(){let t=Me(),n=ee(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:s},"ErrorBoundary")," or"," ",e.createElement("code",{style:s},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:o},r):null,a)}var Ee=e.createElement(Te,null),je=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let t=this.state.error;if(this.context&&"object"===typeof t&&t&&"digest"in t&&"string"===typeof t.digest){const e=function(e){if(e.startsWith("".concat(ye,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new Z(t.status,t.statusText,t.data)}catch(t){}}(t.digest);e&&(t=e)}let n=void 0!==t?e.createElement(ge.Provider,{value:this.props.routeContext},e.createElement(me.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?e.createElement(Re,{error:t},n):n}};je.contextType=le;var Ie=new WeakMap;function Re(t){let{children:n,error:r}=t,{basename:i}=e.useContext(pe);if("object"===typeof r&&r&&"digest"in r&&"string"===typeof r.digest){let t=function(e){if(e.startsWith("".concat(ye,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(r.digest);if(t){let n=Ie.get(r);if(n)throw n;let o=re(t.location,i);if(ne&&!Ie.get(r)){if(!o.isExternal&&!t.reloadDocument){const e=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:t.replace}));throw Ie.set(r,e),e}window.location.href=o.absoluteURL||o.to}return e.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(o.absoluteURL||o.to)})}}return n}function Pe(t){let{routeContext:n,match:r,children:i}=t,o=e.useContext(se);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(ge.Provider,{value:n},i)}function Ne(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let o=t,s=null===r||void 0===r?void 0:r.errors;if(null!=s){let e=o.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));v(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),o=o.slice(0,Math.min(o.length,e+1))}let a=!1,l=-1;if(r)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){a=!0,o=l>=0?o.slice(0,l+1):[o[0]];break}}}let c=r&&i?(e,t)=>{var n,o;i(e,{location:r.location,params:null!==(n=null===(o=r.matches)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.params)&&void 0!==n?n:{},unstable_pattern:te(r.matches),errorInfo:t})}:void 0;return o.reduceRight((t,i,u)=>{let d,h=!1,p=null,f=null;r&&(d=s&&i.route.id?s[i.route.id]:void 0,p=i.route.errorElement||Ee,a&&(l<0&&0===u?(Fe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===u&&(h=!0,f=i.route.hydrateFallbackElement||null)));let g=n.concat(o.slice(0,u+1)),m=()=>{let n;return n=d?p:h?f:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(Pe,{match:i,routeContext:{outlet:t,matches:g,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===u)?e.createElement(je,{location:r.location,revalidation:r.revalidation,component:p,error:d,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:c}):m()},null)}function Le(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ae(t){let n=e.useContext(se);return v(n,Le(t)),n}function De(t){let n=e.useContext(ae);return v(n,Le(t)),n}function Oe(t){let n=function(t){let n=e.useContext(ge);return v(n,Le(t)),n}(t),r=n.matches[n.matches.length-1];return v(r.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),r.route.id}function Me(){var t;let n=e.useContext(me),r=De("useRouteError"),i=Oe("useRouteError");return void 0!==n?n:null===(t=r.errors)||void 0===t?void 0:t[i]}var ze={};function Fe(e,t,n){t||ze[e]||(ze[e]=!0,b(!1,n))}var We={};function Be(e,t){e||We[t]||(We[t]=!0,console.warn(t))}t.useOptimistic;e.memo(function(e){let{routes:t,future:n,state:r,onError:i}=e;return Ce(t,void 0,r,i,n)});function Ue(t){let{to:n,replace:r,state:i,relative:o}=t;v(ve(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=e.useContext(pe);b(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=e.useContext(ge),{pathname:l}=be(),c=we(),u=G(n,$(a),l,"path"===o),d=JSON.stringify(u);return e.useEffect(()=>{c(JSON.parse(d),{replace:r,state:i,relative:o})},[c,d,o,r,i]),null}function He(t){return function(t){let n=e.useContext(ge).outlet;return e.useMemo(()=>n&&e.createElement(ke.Provider,{value:t},n),[n,t])}(t.context)}function Ve(e){v(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qe(t){let{basename:n="/",children:r=null,location:i,navigationType:o="POP",navigator:s,static:a=!1,unstable_useTransitions:l}=t;v(!ve(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=e.useMemo(()=>({basename:c,navigator:s,static:a,unstable_useTransitions:l,future:{}}),[c,s,a,l]);"string"===typeof i&&(i=k(i));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:g="default"}=i,m=e.useMemo(()=>{let e=U(d,c);return null==e?null:{location:{pathname:e,search:h,hash:p,state:f,key:g},navigationType:o}},[c,d,h,p,f,g,o]);return b(null!=m,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(d).concat(h).concat(p,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:e.createElement(pe.Provider,{value:u},e.createElement(fe.Provider,{children:r,value:m}))}function Ke(e){let{children:t,location:n}=e;return Ce($e(t),n)}e.Component;function $e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,(t,i)=>{if(!e.isValidElement(t))return;let o=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,$e(t.props.children,o));v(t.type===Ve,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),v(!t.props.index||!t.props.children,"An index route cannot have child routes.");let s={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=$e(t.props.children,o)),r.push(s)}),r}var Ge="get",Qe="application/x-www-form-urlencoded";function Ye(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var Xe=null;var Je=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ze(e){return null==e||Je.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Qe,'"')),null)}function et(e,t){let n,r,i,o,s;if(Ye(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?U(s,t):null,n=e.getAttribute("method")||Ge,i=Ze(e.getAttribute("enctype"))||Qe,o=new FormData(e)}else if(function(e){return Ye(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ye(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?U(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Ge,i=Ze(e.getAttribute("formenctype"))||Ze(s.getAttribute("enctype"))||Qe,o=new FormData(s,e),!function(){if(null===Xe)try{new FormData(document.createElement("form"),0),Xe=!1}catch(e){Xe=!0}return Xe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";o.append("".concat(e,"x"),"0"),o.append("".concat(e,"y"),"0")}else t&&o.append(t,r)}}else{if(Ye(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ge,r=null,i=Qe,s=e}var a;return o&&"text/plain"===i&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function tt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function nt(e,t,n,r){let i="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname="".concat(i.pathname,"_.").concat(r):i.pathname="".concat(i.pathname,".").concat(r):"/"===i.pathname?i.pathname="_root.".concat(r):t&&"/"===U(i.pathname,t)?i.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(r):i.pathname="".concat(i.pathname.replace(/\/$/,""),".").concat(r),i}async function rt(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(ji){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(ji),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function it(e){return null!=e&&"string"===typeof e.page}function ot(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function st(e,t,n,r,i,o){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter((e,t)=>s(e,t)||a(e,t)):"data"===o?t.filter((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,o)||a(t,o))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function at(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function lt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!it(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e},[])}function ct(e,t){return"lazy"===e.mode&&!0===t}function ut(){let t=e.useContext(se);return tt(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dt(){let t=e.useContext(ae);return tt(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ht=e.createContext(void 0);function pt(){let t=e.useContext(ht);return tt(t,"You must render this element inside a <HydratedRouter> element"),t}function ft(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function gt(e,t,n){if(n&&!bt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}ht.displayName="FrameworkContext";function mt(t){let{page:n}=t,r=i(t,d),{router:o}=ut(),s=e.useMemo(()=>T(o.routes,n,o.basename),[o.routes,n,o.basename]);return s?e.createElement(vt,c({page:n,matches:s},r)):null}function yt(t){let{manifest:n,routeModules:r}=pt(),[i,o]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){return lt((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await rt(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(ot).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"})))}(t,n,r).then(t=>{e||o(t)}),()=>{e=!0}},[t,n,r]),i}function vt(t){let{page:n,matches:r}=t,o=i(t,h),s=be(),{future:a,manifest:l,routeModules:u}=pt(),{basename:d}=ut(),{loaderData:p,matches:f}=dt(),g=e.useMemo(()=>st(n,r,f,l,s,"data"),[n,r,f,l,s]),m=e.useMemo(()=>st(n,r,f,l,s,"assets"),[n,r,f,l,s]),y=e.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let i=l.routes[n.route.id];i&&i.hasLoader&&(!g.some(e=>e.route.id===n.route.id)&&n.route.id in p&&null!==(r=u[n.route.id])&&void 0!==r&&r.shouldRevalidate||i.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let i=nt(n,d,a.unstable_trailingSlashAwareDataRequests,"data");return t&&e.size>0&&i.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[d,a.unstable_trailingSlashAwareDataRequests,p,s,l,g,r,n,u]),v=e.useMemo(()=>at(m,l),[m,l]),b=yt(m);return e.createElement(e.Fragment,null,y.map(t=>e.createElement("link",c({key:t,rel:"prefetch",as:"fetch",href:t},o))),v.map(t=>e.createElement("link",c({key:t,rel:"modulepreload",href:t},o))),b.map(t=>{var n;let{key:r,link:i}=t;return e.createElement("link",c(c({key:r,nonce:o.nonce},i),{},{crossOrigin:null!==(n=i.crossOrigin)&&void 0!==n?n:o.crossOrigin}))}))}var bt=!1;function xt(t){let{manifest:n,serverHandoffString:r,isSpaMode:o,renderMeta:s,routeDiscovery:a,ssr:l}=pt(),{router:d,static:h,staticContext:p}=ut(),{matches:f}=dt(),g=ce(),m=ct(a,l);s&&(s.didRenderScripts=!0);let y=gt(f,null,o);e.useEffect(()=>{0},[]);let v=e.useMemo(()=>{var o;if(g)return null;let s=p?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=h?"".concat(null!==n.hmr&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(y.map((e,t)=>{let r="route".concat(t),i=n.routes[e.route.id];tt(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:o,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=i,u=[...o?[{module:o,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,u),o=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(s.pop();s.length>0;)a.push("/".concat(s.join("/"))),s.pop();a.forEach(e=>{let n=T(t.routes,e,t.basename);n&&n.forEach(e=>o.add(e.route.id))});let l=[...o].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return c(c({},r),{},{routes:l,sri:!!n||void 0})}(n,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return e.createElement(e.Fragment,null,e.createElement("script",c(c({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:void 0})),e.createElement("script",c(c({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:"module",async:!0})))},[]),b=bt||g?[]:(n.entry.imports.concat(at(y,n,{includeHydrateFallback:!0})),[...new Set(x)]);var x;let _="object"===typeof n.sri?n.sri:{};return Be(!g,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),bt||g?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",c(c({},t),{},{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:_})}})):null,m?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:_[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:_[n.entry.module],suppressHydrationWarning:!0}),b.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:_[n],suppressHydrationWarning:!0})),v)}function _t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}e.Component;function wt(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let i,o=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ee(n))return e.createElement(kt,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),o);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(kt,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function kt(t){var n;let{title:r,renderScripts:i,isOutsideRemixApp:o,children:s}=t,{routeModules:a}=pt();return null!==a.root&&void 0!==n&&n.Layout&&!o?s:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,r)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,i?e.createElement(xt,null):null)))}var St="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{St&&(window.__reactRouterVersion="7.13.0")}catch(gg){}function Ct(t){let{basename:n,children:r,unstable_useTransitions:i,window:o}=t,s=e.useRef();null==s.current&&(s.current=y({window:o,v5Compat:!0}));let a=s.current,[l,c]=e.useState({action:a.action,location:a.location}),u=e.useCallback(t=>{!1===i?c(t):e.startTransition(()=>c(t))},[i]);return e.useLayoutEffect(()=>a.listen(u),[a,u]),e.createElement(qe,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:i})}var Tt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=e.forwardRef(function(t,n){let{onClick:r,discover:o="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:d,target:h,to:f,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:y}=t,b=i(t,p),{basename:x,unstable_useTransitions:_}=e.useContext(pe),k="string"===typeof f&&Tt.test(f),S=re(f,x);f=S.to;let C=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(ve(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=e.useContext(pe),{hash:o,pathname:s,search:a}=Se(t,{relative:n}),l=s;return"/"!==r&&(l="/"===s?r:Q([r,s])),i.createHref({pathname:l,search:a,hash:o})}(f,{relative:a}),[T,E,j]=function(t,n){let r=e.useContext(ht),[i,o]=e.useState(!1),[s,a]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,p=e.useRef(null);e.useEffect(()=>{if("render"===t&&a(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(i){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[i]);let f=()=>{o(!0)},g=()=>{o(!1),a(!1)};return r?"intent"!==t?[s,p,{}]:[s,p,{onFocus:ft(l,f),onBlur:ft(c,g),onMouseEnter:ft(u,f),onMouseLeave:ft(d,g),onTouchStart:ft(h,f)}]:[!1,p,{}]}(s,b),I=function(t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=we(),d=be(),h=Se(t,{relative:s});return e.useCallback(p=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(p,n)){p.preventDefault();let n=void 0!==r?r:w(d)===w(h),f=()=>u(t,{replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l});c?e.startTransition(()=>f()):f()}},[d,u,h,r,i,n,t,o,s,a,l,c])}(f,{replace:u,state:d,target:h,preventScrollReset:g,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:y,unstable_useTransitions:_});let R=e.createElement("a",c(c(c({},b),j),{},{href:S.absoluteURL||C,onClick:S.isExternal||l?r:function(e){r&&r(e),e.defaultPrevented||I(e)},ref:_t(n,E),target:h,"data-discover":k||"render"!==o?void 0:"true"}));return T&&!k?e.createElement(e.Fragment,null,R,e.createElement(mt,{page:C})):R});Et.displayName="Link";var jt=e.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:o=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:h}=t,p=i(t,f),g=Se(u,{relative:p.relative}),m=be(),y=e.useContext(ae),{navigator:b,basename:x}=e.useContext(pe),_=null!=y&&function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(ue);v(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Pt("useViewTransitionState"),o=Se(t,{relative:n});if(!r.isTransitioning)return!1;let s=U(r.currentLocation.pathname,i)||r.currentLocation.pathname,a=U(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=F(o.pathname,a)||null!=F(o.pathname,s)}(g)&&!0===d,w=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,k=m.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(k=k.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&x&&(S=U(S,x)||S);const C="/"!==w&&w.endsWith("/")?w.length-1:w.length;let T,E=k===w||!a&&k.startsWith(w)&&"/"===k.charAt(C),j=null!=S&&(S===w||!a&&S.startsWith(w)&&"/"===S.charAt(w.length)),I={isActive:E,isPending:j,isTransitioning:_},R=E?r:void 0;T="function"===typeof s?s(I):[s,E?"active":null,j?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(I):l;return e.createElement(Et,c(c({},p),{},{"aria-current":R,className:T,ref:n,style:P,to:u,viewTransition:d}),"function"===typeof h?h(I):h)});jt.displayName="NavLink";var It=e.forwardRef((t,n)=>{let{discover:r="render",fetcherKey:o,navigate:s,reloadDocument:a,replace:l,state:u,method:d=Ge,action:h,onSubmit:p,relative:f,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:b}=t,x=i(t,g),{unstable_useTransitions:_}=e.useContext(pe),k=At(),S=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(pe),i=e.useContext(ge);v(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),s=c({},Se(t||".",{relative:n})),a=be();if(null==t){s.search=a.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?"?".concat(n):""}}t&&"."!==t||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:Q([r,s.pathname]));return w(s)}(h,{relative:f}),C="get"===d.toLowerCase()?"get":"post",T="string"===typeof h&&Tt.test(h);return e.createElement("form",c(c({ref:n,method:C,action:S,onSubmit:a?p:t=>{if(p&&p(t),t.defaultPrevented)return;t.preventDefault();let n=t.nativeEvent.submitter,r=(null===n||void 0===n?void 0:n.getAttribute("formmethod"))||d,i=()=>k(n||t.currentTarget,{fetcherKey:o,method:r,navigate:s,replace:l,state:u,relative:f,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:b});_&&!1!==s?e.startTransition(()=>i()):i()}},x),{},{"data-discover":T||"render"!==r?void 0:"true"}))});function Rt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Pt(t){let n=e.useContext(se);return v(n,Rt(t)),n}It.displayName="Form";var Nt=0,Lt=()=>"__".concat(String(++Nt),"__");function At(){let{router:t}=Pt("useSubmit"),{basename:n}=e.useContext(pe),r=Oe("useRouteId"),i=t.fetch,o=t.navigate;return e.useCallback(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:l,formData:c,body:u}=et(e,n);if(!1===t.navigate){let e=t.fetcherKey||Lt();await i(e,r,t.action||s,{unstable_defaultShouldRevalidate:t.unstable_defaultShouldRevalidate,preventScrollReset:t.preventScrollReset,formData:c,body:u,formMethod:t.method||a,formEncType:t.encType||l,flushSync:t.flushSync})}else await o(t.action||s,{unstable_defaultShouldRevalidate:t.unstable_defaultShouldRevalidate,preventScrollReset:t.preventScrollReset,formData:c,body:u,formMethod:t.method||a,formEncType:t.encType||l,replace:t.replace,state:t.state,fromRouteId:r,flushSync:t.flushSync,viewTransition:t.viewTransition})},[i,o,n,r])}var Dt=n(579);const Ot=(0,e.createContext)(null),Mt=t=>{let{children:n}=t;const[r,i]=(0,e.useState)(()=>{try{const e=localStorage.getItem("currentUser");return e?JSON.parse(e):null}catch(ji){return console.error("L\u1ed7i \u0111\u1ecdc d\u1eef li\u1ec7u user t\u1eeb storage:",ji),null}});return(0,Dt.jsx)(Ot.Provider,{value:{user:r,login:e=>{i(e),localStorage.setItem("currentUser",JSON.stringify(e))},logout:()=>{i(null),localStorage.removeItem("currentUser")}},children:n})},zt=()=>(0,e.useContext)(Ot),Ft=!1,Wt=!1,Bt="${JSCORE_VERSION}",Ut=function(e,t){if(!e)throw Ht(t)},Ht=function(e){return new Error("Firebase Database ("+Bt+") INTERNAL ASSERT FAILED: "+e)},Vt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},qt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Vt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Kt;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Kt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $t=function(e){const t=Vt(e);return qt.encodeByteArray(t,!0)},Gt=function(e){return $t(e).replace(/\./g,"")},Qt=function(e){try{return qt.decodeString(e,!0)}catch(gg){console.error("base64Decode failed: ",gg)}return null};function Yt(e){return Xt(void 0,e)}function Xt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&Jt(n)&&(e[n]=Xt(e[n],t[n]));return e}function Jt(e){return"__proto__"!==e}const Zt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,en=()=>{try{return Zt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(gg){return}const t=e&&Qt(e[1]);return t&&JSON.parse(t)})()}catch(gg){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(gg))}},tn=e=>{var t;return null===(t=en())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},nn=()=>{var e;return null===(e=en())||void 0===e?void 0:e.config},rn=e=>{var t;return null===(t=en())||void 0===t?void 0:t["_".concat(e)]};class on{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function sn(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function an(e){return(await fetch(e,{credentials:"include"})).ok}const ln={};let cn=!1;function un(e,t){if("undefined"===typeof window||"undefined"===typeof document||!sn(window.location.host)||ln[e]===t||ln[e]||cn)return;function n(e){return"__firebase__banner__".concat(e)}ln[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(ln))ln[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{cn=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function dn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function hn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function pn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function fn(){return!0===Ft||!0===Wt}class gn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mn.prototype.create)}}class mn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(yn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new gn(n,o,t)}}const yn=/\{\$([^}]+)}/g;function vn(e){return JSON.parse(e)}function bn(e){return JSON.stringify(e)}const xn=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=vn(Qt(o[0])||""),n=vn(Qt(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(gg){}return{header:t,claims:n,data:r,signature:i}};function _n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wn(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function kn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Sn(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Cn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Tn(n)&&Tn(o)){if(!Cn(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Tn(e){return null!==e&&"object"===typeof e}function En(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function jn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function In(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Rn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class Pn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Nn),void 0===r.error&&(r.error=Nn),void 0===r.complete&&(r.complete=Nn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(gg){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(gg){"undefined"!==typeof console&&console.error&&console.error(gg)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nn(){}function Ln(e,t){return"".concat(e," failed: ").concat(t," argument ")}const An=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Dn(e){return e&&e._delegate?e._delegate:e}class On{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Mn="[DEFAULT]";class zn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new on;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(gg){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(gg){if(r)return null;throw gg}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Mn})}catch(gg){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(gg){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Mn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn;return this.component?this.component.multipleInstances?e:Mn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Wn=[];var Bn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Bn||(Bn={}));const Un={debug:Bn.DEBUG,verbose:Bn.VERBOSE,info:Bn.INFO,warn:Bn.WARN,error:Bn.ERROR,silent:Bn.SILENT},Hn=Bn.INFO,Vn={[Bn.DEBUG]:"log",[Bn.VERBOSE]:"log",[Bn.INFO]:"info",[Bn.WARN]:"warn",[Bn.ERROR]:"error"},qn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Vn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Kn{constructor(e){this.name=e,this._logLevel=Hn,this._logHandler=qn,this._userLogHandler=null,Wn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Un[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.DEBUG,...t),this._logHandler(this,Bn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.VERBOSE,...t),this._logHandler(this,Bn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.INFO,...t),this._logHandler(this,Bn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.WARN,...t),this._logHandler(this,Bn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.ERROR,...t),this._logHandler(this,Bn.ERROR,...t)}}let $n,Gn;const Qn=new WeakMap,Yn=new WeakMap,Xn=new WeakMap,Jn=new WeakMap,Zn=new WeakMap;let er={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Yn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Xn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function tr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gn||(Gn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ir(this),n),rr(Qn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rr(e.apply(ir(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(ir(this),t,...r);return Xn.set(o,t.sort?t.sort():[t]),rr(o)}}function nr(e){return"function"===typeof e?tr(e):(e instanceof IDBTransaction&&function(e){if(Yn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Yn.set(e,t)}(e),t=e,($n||($n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,er):e);var t}function rr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(rr(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&Qn.set(t,e)}).catch(()=>{}),Zn.set(t,e),t}(e);if(Jn.has(e))return Jn.get(e);const t=nr(e);return t!==e&&(Jn.set(e,t),Zn.set(t,e)),t}const ir=e=>Zn.get(e);const or=["get","getKey","getAll","getAllKeys","count"],sr=["put","add","delete","clear"],ar=new Map;function lr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ar.get(t))return ar.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=sr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!or.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return ar.set(t,o),o}er=(e=>c(c({},e),{},{get:(t,n,r)=>lr(t,n)||e.get(t,n,r),has:(t,n)=>!!lr(t,n)||e.has(t,n)}))(er);class cr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const ur="@firebase/app",dr="0.14.7",hr=new Kn("@firebase/app"),pr="@firebase/app-compat",fr="@firebase/analytics-compat",gr="@firebase/analytics",mr="@firebase/app-check-compat",yr="@firebase/app-check",vr="@firebase/auth",br="@firebase/auth-compat",xr="@firebase/database",_r="@firebase/data-connect",wr="@firebase/database-compat",kr="@firebase/functions",Sr="@firebase/functions-compat",Cr="@firebase/installations",Tr="@firebase/installations-compat",Er="@firebase/messaging",jr="@firebase/messaging-compat",Ir="@firebase/performance",Rr="@firebase/performance-compat",Pr="@firebase/remote-config",Nr="@firebase/remote-config-compat",Lr="@firebase/storage",Ar="@firebase/storage-compat",Dr="@firebase/firestore",Or="@firebase/ai",Mr="@firebase/firestore-compat",zr="firebase",Fr="[DEFAULT]",Wr={[ur]:"fire-core",[pr]:"fire-core-compat",[gr]:"fire-analytics",[fr]:"fire-analytics-compat",[yr]:"fire-app-check",[mr]:"fire-app-check-compat",[vr]:"fire-auth",[br]:"fire-auth-compat",[xr]:"fire-rtdb",[_r]:"fire-data-connect",[wr]:"fire-rtdb-compat",[kr]:"fire-fn",[Sr]:"fire-fn-compat",[Cr]:"fire-iid",[Tr]:"fire-iid-compat",[Er]:"fire-fcm",[jr]:"fire-fcm-compat",[Ir]:"fire-perf",[Rr]:"fire-perf-compat",[Pr]:"fire-rc",[Nr]:"fire-rc-compat",[Lr]:"fire-gcs",[Ar]:"fire-gcs-compat",[Dr]:"fire-fst",[Mr]:"fire-fst-compat",[Or]:"fire-vertex","fire-js":"fire-js",[zr]:"fire-js-all"},Br=new Map,Ur=new Map,Hr=new Map;function Vr(e,t){try{e.container.addComponent(t)}catch(gg){hr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),gg)}}function qr(e){const t=e.name;if(Hr.has(t))return hr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Hr.set(t,e);for(const n of Br.values())Vr(n,e);for(const n of Ur.values())Vr(n,e);return!0}function Kr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function $r(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Gr=new mn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Qr{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new On("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}const Yr="12.8.0";function Xr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:Fr,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(n||(n=nn()),!n)throw Gr.create("no-options");const o=Br.get(i);if(o){if(Cn(n,o.options)&&Cn(r,o.config))return o;throw Gr.create("duplicate-app",{appName:i})}const s=new Fn(i);for(const l of Hr.values())s.addComponent(l);const a=new Qr(n,r,s);return Br.set(i,a),a}function Jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr;const t=Br.get(e);if(!t&&e===Fr&&nn())return Xr();if(!t)throw Gr.create("no-app",{appName:e});return t}function Zr(e,t,n){var r;let i=null!==(r=Wr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void hr.warn(e.join(" "))}qr(new On("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const ei="firebase-heartbeat-store";let ti=null;function ni(){return ti||(ti=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=rr(s);return r&&s.addEventListener("upgradeneeded",e=>{r(rr(s.result),e.oldVersion,e.newVersion,rr(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ei)}catch(gg){console.warn(gg)}}}).catch(e=>{throw Gr.create("idb-open",{originalErrorMessage:e.message})})),ti}async function ri(e,t){try{const n=(await ni()).transaction(ei,"readwrite"),r=n.objectStore(ei);await r.put(t,ii(e)),await n.done}catch(gg){if(gg instanceof gn)hr.warn(gg.message);else{const t=Gr.create("idb-set",{originalErrorMessage:null===gg||void 0===gg?void 0:gg.message});hr.warn(t.message)}}}function ii(e){return"".concat(e.name,"!").concat(e.options.appId)}class oi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ai(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=si();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(gg){hr.warn(gg)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=si(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),li(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),li(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Gt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(gg){return hr.warn(gg),""}}}function si(){return(new Date).toISOString().substring(0,10)}class ai{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(gg){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(ji){t(ji)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ni()).transaction(ei),n=await t.objectStore(ei).get(ii(e));return await t.done,n}catch(gg){if(gg instanceof gn)hr.warn(gg.message);else{const t=Gr.create("idb-get",{originalErrorMessage:null===gg||void 0===gg?void 0:gg.message});hr.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function li(e){return Gt(JSON.stringify({version:2,heartbeats:e})).length}var ci;ci="",qr(new On("platform-logger",e=>new cr(e),"PRIVATE")),qr(new On("heartbeat",e=>new oi(e),"PRIVATE")),Zr(ur,dr,ci),Zr(ur,dr,"esm2020"),Zr("fire-js","");Zr("firebase","12.8.0","app");const ui="@firebase/database",di="1.1.0";let hi="";function pi(e){hi=e}class fi{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),bn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:vn(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class gi{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return _n(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const mi=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new fi(t)}}catch(gg){}return new gi},yi=mi("localStorage"),vi=mi("sessionStorage"),bi=new Kn("@firebase/database"),xi=function(){let e=1;return function(){return e++}}(),_i=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Ut(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Rn;n.update(t);const r=n.digest();return qt.encodeByteArray(r)},wi=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=wi.apply(null,n):e+="object"===typeof n?bn(n):n,e+=" "}return e};let ki=null,Si=!0;const Ci=function(e,t){Ut(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(bi.logLevel=Bn.VERBOSE,ki=bi.log.bind(bi),t&&vi.set("logging_enabled",!0)):"function"===typeof e?ki=e:(ki=null,vi.remove("logging_enabled"))},Ti=function(){if(!0===Si&&(Si=!1,null===ki&&!0===vi.get("logging_enabled")&&Ci(!0)),ki){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=wi.apply(null,t);ki(r)}},Ei=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Ti(e,...n)}},ji=function(){const e="FIREBASE INTERNAL ERROR: "+wi(...arguments);bi.error(e)},Ii=function(){const e="FIREBASE FATAL ERROR: ".concat(wi(...arguments));throw bi.error(e),new Error(e)},Ri=function(){const e="FIREBASE WARNING: "+wi(...arguments);bi.warn(e)},Pi=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ni="[MIN_NAME]",Li="[MAX_NAME]",Ai=function(e,t){if(e===t)return 0;if(e===Ni||t===Li)return-1;if(t===Ni||e===Li)return 1;{const n=Ui(e),r=Ui(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Di=function(e,t){return e===t?0:e<t?-1:1},Oi=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+bn(t))},Mi=function(e){if("object"!==typeof e||null===e)return bn(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=bn(t[r]),n+=":",n+=Mi(e[t[r]]);return n+="}",n},zi=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Fi(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Wi=function(e){Ut(!Pi(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Bi=new RegExp("^-?(0*)\\d{1,10}$"),Ui=function(e){if(Bi.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Hi=function(e){try{e()}catch(gg){setTimeout(()=>{const t=gg.stack||"";throw Ri("Exception was thrown by user callback.",t),gg},Math.floor(0))}},Vi=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class qi{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,$r(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Ri('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Ki{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ti("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ri(e)}}class $i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}$i.OWNER="owner";const Gi="5",Qi=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Yi="ac",Xi="websocket",Ji="long_polling";class Zi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yi.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function eo(e,t,n){let r;if(Ut("string"===typeof t,"typeof type must == string"),Ut("object"===typeof n,"typeof params must == object"),t===Xi)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Ji)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Fi(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class to{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_n(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Yt(this.counters_)}}const no={},ro={};function io(e){const t=e.toString();return no[t]||(no[t]=new to),no[t]}class oo{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Hi(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const so="start";class ao{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ei(e),this.stats_=io(t),this.urlFn=e=>(this.appCheckToken&&(e[Yi]=this.appCheckToken),eo(t,Ji,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new oo(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(fn()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new lo(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===so)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},()=>{this.onClosed_()},this.urlFn);const e={};e[so]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Gi,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Yi]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Qi.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ao.forceAllow_=!0}static forceDisallow(){ao.forceDisallow_=!0}static isAvailable(){return!fn()&&(!!ao.forceAllow_||!ao.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=bn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=$t(t),r=zi(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(fn())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=bn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class lo{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,fn())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=xi(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=lo.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(gg){Ti("frame writing exception"),gg.stack&&Ti(gg.stack),Ti(gg)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ti("No IE domain setting required")}catch(gg){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){fn()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Ti("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(gg){}},Math.floor(1))}}let co=null;"undefined"!==typeof MozWebSocket?co=MozWebSocket:"undefined"!==typeof WebSocket&&(co=WebSocket);class uo{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ei(this.connId),this.stats_=io(t),this.connURL=uo.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=Gi,!fn()&&"undefined"!==typeof location&&location.hostname&&Qi.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[Yi]=r),i&&(o.p=i),eo(e,Xi,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yi.set("previous_websocket_failure",!0);try{let e;if(fn()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Gi,"/").concat(hi,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new co(this.connURL,[],e)}catch(gg){this.log_("Error instantiating WebSocket.");const t=gg.message||gg.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){uo.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==co&&!uo.forceDisallow_}static previouslyFailed(){return yi.isInMemoryStorage||!0===yi.get("previous_websocket_failure")}markConnectionHealthy(){yi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=vn(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ut(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=bn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=zi(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(gg){this.log_("Exception thrown from WebSocket.send():",gg.message||gg.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}uo.responsesRequiredToBeHealthy=2,uo.healthyTimeout=3e4;class ho{static get ALL_TRANSPORTS(){return[ao,uo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=uo&&uo.isAvailable();let n=t&&!uo.previouslyFailed();if(e.webSocketOnly&&(t||Ri("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[uo];else{const e=this.transports_=[];for(const t of ho.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);ho.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ho.globalTransportInitialized_=!1;class po{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ei("c:"+this.id+":"),this.transportManager_=new ho(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Vi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Oi("t",e),n=Oi("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Oi("t",e),n=Oi("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Oi("t",e);if("d"in e){const n=e.d;if("h"===t){const e=c({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?ji("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ji("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Gi!==n&&Ri("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Vi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class fo{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class go{constructor(e){this.allowedEvents_=e,this.listeners_={},Ut(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Ut(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class mo extends go{static getInstance(){return new mo}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||hn()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Ut("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class yo{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function vo(){return new yo("")}function bo(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function xo(e){return e.pieces_.length-e.pieceNum_}function _o(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new yo(e.pieces_,t)}function wo(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ko(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function So(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new yo(t,0)}function Co(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof yo)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new yo(n,0)}function To(e){return e.pieceNum_>=e.pieces_.length}function Eo(e,t){const n=bo(e),r=bo(t);if(null===n)return t;if(n===r)return Eo(_o(e),_o(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function jo(e,t){const n=ko(e,0),r=ko(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=Ai(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Io(e,t){if(xo(e)!==xo(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ro(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(xo(e)>xo(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Po{constructor(e,t){this.errorPrefix_=t,this.parts_=ko(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=An(this.parts_[n]);No(this)}}function No(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Lo(e))}function Lo(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Ao extends go{static getInstance(){return new Ao}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return Ut("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Do=1e3;class Oo extends fo{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=Oo.nextPersistentConnectionId_++,this.log_=Ei("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Do,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!fn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ao.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&mo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(bn(i)),Ut(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new on,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Ut(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ut(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{const o=i.d,s=i.s;Oo.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&_n(e,"w")){const n=wn(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Ri("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=xn(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=xn(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Ut(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+bn(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):ji("Unrecognized action received from server: "+bn(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ut(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Do,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Do,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Do),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Oo.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){Ut(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Ti("getToken() completed but was canceled"):(Ti("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new po(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{Ri(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(ji){this.log_("Failed to get token: "+ji),o||(this.repoInfo_.nodeAdmin&&Ri(ji),a())}}}interrupt(e){Ti("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ti("Resuming connection for reason: "+e),delete this.interruptReasons_[e],kn(this.interruptReasons_)&&(this.reconnectDelay_=Do,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>Mi(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new yo(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Ti("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Ti("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";fn()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+hi.replace(/\./g,"-")]=1,hn()?e["framework.cordova"]=1:pn()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=mo.getInstance().currentlyOnline();return kn(this.interruptReasons_)&&e}}Oo.nextPersistentConnectionId_=0,Oo.nextConnectionId_=0;class Mo{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Mo(e,t)}}class zo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Mo(Ni,e),r=new Mo(Ni,t);return 0!==this.compare(n,r)}minPost(){return Mo.MIN}}let Fo;class Wo extends zo{static get __EMPTY_NODE(){return Fo}static set __EMPTY_NODE(e){Fo=e}compare(e,t){return Ai(e.name,t.name)}isDefinedOn(e){throw Ht("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Mo.MIN}maxPost(){return new Mo(Li,Fo)}makePost(e,t){return Ut("string"===typeof e,"KeyIndex indexValue must always be a string."),new Mo(e,Fo)}toString(){return".key"}}const Bo=new Wo;class Uo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ho{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ho.RED,this.left=null!=r?r:Vo.EMPTY_NODE,this.right=null!=i?i:Vo.EMPTY_NODE}copy(e,t,n,r,i){return new Ho(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vo.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Vo.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ho.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ho.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ho.RED=!0,Ho.BLACK=!1;class Vo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vo.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Vo(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ho.BLACK,null,null))}remove(e){return new Vo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ho.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Uo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Uo(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Uo(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Uo(this.root_,null,this.comparator_,!0,e)}}function qo(e,t){return Ai(e.name,t.name)}function Ko(e,t){return Ai(e,t)}let $o;Vo.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Ho(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Go=function(e){return"number"===typeof e?"number:"+Wi(e):"string:"+e},Qo=function(e){if(e.isLeafNode()){const t=e.val();Ut("string"===typeof t||"number"===typeof t||"object"===typeof t&&_n(t,".sv"),"Priority must be a string or number.")}else Ut(e===$o||e.isEmpty(),"priority of unexpected type.");Ut(e===$o||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Yo,Xo,Jo;class Zo{static set __childrenNodeConstructor(e){Yo=e}static get __childrenNodeConstructor(){return Yo}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zo.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Ut(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Qo(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Zo(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Zo.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return To(e)?this:".priority"===bo(e)?this.priorityNode_:Zo.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Zo.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=bo(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Ut(".priority"!==n||1===xo(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Zo.__childrenNodeConstructor.EMPTY_NODE.updateChild(_o(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Go(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Wi(this.value_):this.value_,this.lazyHash_=_i(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Zo.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Zo.__childrenNodeConstructor?-1:(Ut(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Zo.VALUE_TYPE_ORDER.indexOf(t),i=Zo.VALUE_TYPE_ORDER.indexOf(n);return Ut(r>=0,"Unknown leaf type: "+t),Ut(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Zo.VALUE_TYPE_ORDER=["object","boolean","number","string"];const es=new class extends zo{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Ai(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Mo.MIN}maxPost(){return new Mo(Li,new Zo("[PRIORITY-POST]",Jo))}makePost(e,t){const n=Xo(e);return new Mo(t,new Zo("[PRIORITY-POST]",n))}toString(){return".priority"}},ts=Math.log(2);class ns{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/ts,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const rs=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new Ho(a,s.node,Ho.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new Ho(a,s.node,Ho.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],d=n?n(u):u;l(new Ho(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Ho.BLACK):(a(r,Ho.BLACK),a(r,Ho.RED))}return o}(new ns(e.length));return new Vo(r||t,o)};let is;const os={};class ss{static get Default(){return Ut(os&&es,"ChildrenNode.ts has not been loaded"),is=is||new ss({".priority":os},{".priority":es}),is}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=wn(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Vo?t:null}hasIndex(e){return _n(this.indexSet_,e.toString())}addIndex(e,t){Ut(e!==Bo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Mo.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?rs(n,e.getCompare()):os;const a=e.toString(),l=c({},this.indexSet_);l[a]=e;const u=c({},this.indexes_);return u[a]=o,new ss(u,l)}addToIndexes(e,t){const n=Sn(this.indexes_,(n,r)=>{const i=wn(this.indexSet_,r);if(Ut(i,"Missing index implementation for "+r),n===os){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Mo.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),rs(n,i.getCompare())}return os}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Mo(e.name,r))),i.insert(e,e.node)}});return new ss(n,this.indexSet_)}removeFromIndexes(e,t){const n=Sn(this.indexes_,n=>{if(n===os)return n;{const r=t.get(e.name);return r?n.remove(new Mo(e.name,r)):n}});return new ss(n,this.indexSet_)}}let as;class ls{static get EMPTY_NODE(){return as||(as=new ls(new Vo(Ko),null,ss.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Qo(this.priorityNode_),this.children_.isEmpty()&&Ut(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||as}updatePriority(e){return this.children_.isEmpty()?this:new ls(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?as:t}}getChild(e){const t=bo(e);return null===t?this:this.getImmediateChild(t).getChild(_o(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Ut(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Mo(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?as:this.priorityNode_;return new ls(r,o,i)}}updateChild(e,t){const n=bo(e);if(null===n)return t;{Ut(".priority"!==bo(e)||1===xo(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(_o(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(es,(o,s)=>{t[o]=s.val(e),n++,i&&ls.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Go(this.getPriority().val())+":"),this.forEachChild(es,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":_i(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Mo(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Mo(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Mo(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Mo.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Mo.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===cs?-1:0}withIndex(e){if(e===Bo||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ls(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Bo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(es),n=t.getIterator(es);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Bo?null:this.indexMap_.get(e.toString())}}ls.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const cs=new class extends ls{constructor(){super(new Vo(Ko),ls.EMPTY_NODE,ss.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ls.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Mo,{MIN:{value:new Mo(Ni,ls.EMPTY_NODE)},MAX:{value:new Mo(Li,cs)}}),Wo.__EMPTY_NODE=ls.EMPTY_NODE,Zo.__childrenNodeConstructor=ls,$o=cs,function(e){Jo=e}(cs);function us(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return ls.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Ut(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Zo(e,us(t))}if(e instanceof Array){let n=ls.EMPTY_NODE;return Fi(e,(t,r)=>{if(_n(e,t)&&"."!==t.substring(0,1)){const e=us(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(us(t))}{const n=[];let r=!1;if(Fi(e,(e,t)=>{if("."!==e.substring(0,1)){const i=us(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Mo(e,i)))}}),0===n.length)return ls.EMPTY_NODE;const i=rs(n,qo,e=>e.name,Ko);if(r){const e=rs(n,es.getCompare());return new ls(i,us(t),new ss({".priority":e},{".priority":es}))}return new ls(i,us(t),ss.Default)}}!function(e){Xo=e}(us);class ds extends zo{constructor(e){super(),this.indexPath_=e,Ut(!To(e)&&".priority"!==bo(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Ai(e.name,t.name):i}makePost(e,t){const n=us(e),r=ls.EMPTY_NODE.updateChild(this.indexPath_,n);return new Mo(t,r)}maxPost(){const e=ls.EMPTY_NODE.updateChild(this.indexPath_,cs);return new Mo(Li,e)}toString(){return ko(this.indexPath_,0).join("/")}}const hs=new class extends zo{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Ai(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Mo.MIN}maxPost(){return Mo.MAX}makePost(e,t){const n=us(e);return new Mo(t,n)}toString(){return".value"}};function ps(e){return{type:"value",snapshotNode:e}}function fs(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function gs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ms(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class ys{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){Ut(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(gs(t,s)):Ut(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(fs(t,n)):o.trackChildChange(ms(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(es,(e,r)=>{t.hasChild(e)||n.trackChildChange(gs(e,r))}),t.isLeafNode()||t.forEachChild(es,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ms(t,r,i))}else n.trackChildChange(fs(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ls.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class vs{constructor(e){this.indexedFilter_=new ys(e.getIndex()),this.index_=e.getIndex(),this.startPost_=vs.getStartPost_(e),this.endPost_=vs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new Mo(t,n))||(n=ls.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=ls.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(ls.EMPTY_NODE);const i=this;return t.forEachChild(es,(e,t)=>{i.matches(new Mo(e,t))||(r=r.updateImmediateChild(e,ls.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class bs{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new vs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Mo(t,n))||(n=ls.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=ls.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=ls.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(ls.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,ls.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;Ut(s.numChildren()===this.limit_,"");const a=new Mo(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,a);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(ms(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(gs(t,e));const n=s.updateImmediateChild(t,ls.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(fs(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=i&&(i.trackChildChange(gs(l.name,l.node)),i.trackChildChange(fs(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,ls.EMPTY_NODE)):e}}class xs{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=es}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Ut(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ut(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ni}hasEnd(){return this.endSet_}getIndexEndValue(){return Ut(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ut(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Li}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Ut(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===es}copy(){const e=new xs;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function _s(e){const t={};if(e.isDefault())return t;let n;if(e.index_===es?n="$priority":e.index_===hs?n="$value":e.index_===Bo?n="$key":(Ut(e.index_ instanceof ds,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=bn(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=bn(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+bn(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=bn(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+bn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ws(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==es&&(t.i=e.index_.toString()),t}class ks extends fo{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Ut(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Ei("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=ks.getListenId_(e,n),s={};this.listens_[o]=s;const a=_s(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),wn(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=ks.getListenId_(e,t);delete this.listens_[n]}get(e){const t=_s(e._queryParams),n=e._path.toString(),r=new on;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+En(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=vn(a.responseText)}catch(gg){Ri("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&Ri("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}class Ss{constructor(){this.rootNode_=ls.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Cs(){return{value:null,children:new Map}}function Ts(e,t,n){if(To(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=bo(t);e.children.has(r)||e.children.set(r,Cs());Ts(e.children.get(r),t=_o(t),n)}}function Es(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{Es(r,new yo(t.toString()+"/"+e),n)})}class js{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=c({},e);return this.last_&&Fi(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class Is{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new js(e);const n=1e4+2e4*Math.random();Vi(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Fi(e,(e,r)=>{r>0&&_n(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),Vi(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Rs;function Ps(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Rs||(Rs={}));class Ns{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Rs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(To(this.path)){if(null!=this.affectedTree.value)return Ut(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new yo(e));return new Ns(vo(),t,this.revert)}}return Ut(bo(this.path)===e,"operationForChild called for unrelated child."),new Ns(_o(this.path),this.affectedTree,this.revert)}}class Ls{constructor(e,t){this.source=e,this.path=t,this.type=Rs.LISTEN_COMPLETE}operationForChild(e){return To(this.path)?new Ls(this.source,vo()):new Ls(this.source,_o(this.path))}}class As{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Rs.OVERWRITE}operationForChild(e){return To(this.path)?new As(this.source,vo(),this.snap.getImmediateChild(e)):new As(this.source,_o(this.path),this.snap)}}class Ds{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Rs.MERGE}operationForChild(e){if(To(this.path)){const t=this.children.subtree(new yo(e));return t.isEmpty()?null:t.value?new As(this.source,vo(),t.value):new Ds(this.source,vo(),t)}return Ut(bo(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ds(this.source,_o(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Os{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(To(e))return this.isFullyInitialized()&&!this.filtered_;const t=bo(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Ms{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function zs(e,t,n,r,i,o){const s=r.filter(e=>e.type===n);s.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Ht("Should only compare child_ events.");const r=new Mo(t.childName,t.snapshotNode),i=new Mo(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),s.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function Fs(e,t){return{eventCache:e,serverCache:t}}function Ws(e,t,n,r){return Fs(new Os(t,n,r),e.serverCache)}function Bs(e,t,n,r){return Fs(e.eventCache,new Os(t,n,r))}function Us(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Hs(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Vs;class qs{static fromObject(e){let t=new qs(null);return Fi(e,(e,n)=>{t=t.set(new yo(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Vs||(Vs=new Vo(Di)),Vs);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:vo(),value:this.value};if(To(e))return null;{const n=bo(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(_o(e),t);if(null!=i){return{path:Co(new yo(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(To(e))return this;{const t=bo(e),n=this.children.get(t);return null!==n?n.subtree(_o(e)):new qs(null)}}set(e,t){if(To(e))return new qs(t,this.children);{const n=bo(e),r=(this.children.get(n)||new qs(null)).set(_o(e),t),i=this.children.insert(n,r);return new qs(this.value,i)}}remove(e){if(To(e))return this.children.isEmpty()?new qs(null):new qs(null,this.children);{const t=bo(e),n=this.children.get(t);if(n){const r=n.remove(_o(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new qs(null):new qs(this.value,i)}return this}}get(e){if(To(e))return this.value;{const t=bo(e),n=this.children.get(t);return n?n.get(_o(e)):null}}setTree(e,t){if(To(e))return t;{const n=bo(e),r=(this.children.get(n)||new qs(null)).setTree(_o(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new qs(this.value,i)}}fold(e){return this.fold_(vo(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(Co(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,vo(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(To(e))return null;{const r=bo(e),i=this.children.get(r);return i?i.findOnPath_(_o(e),Co(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,vo(),t)}foreachOnPath_(e,t,n){if(To(e))return this;{this.value&&n(t,this.value);const r=bo(e),i=this.children.get(r);return i?i.foreachOnPath_(_o(e),Co(t,r),n):new qs(null)}}foreach(e){this.foreach_(vo(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(Co(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Ks{constructor(e){this.writeTree_=e}static empty(){return new Ks(new qs(null))}}function $s(e,t,n){if(To(t))return new Ks(new qs(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Eo(i,t);return o=o.updateChild(s,n),new Ks(e.writeTree_.set(i,o))}{const r=new qs(n),i=e.writeTree_.setTree(t,r);return new Ks(i)}}}function Gs(e,t,n){let r=e;return Fi(n,(e,n)=>{r=$s(r,Co(t,e),n)}),r}function Qs(e,t){if(To(t))return Ks.empty();{const n=e.writeTree_.setTree(t,new qs(null));return new Ks(n)}}function Ys(e,t){return null!=Xs(e,t)}function Xs(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Eo(n.path,t)):null}function Js(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(es,(e,n)=>{t.push(new Mo(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Mo(e,n.value))}),t}function Zs(e,t){if(To(t))return e;{const n=Xs(e,t);return new Ks(null!=n?new qs(n):e.writeTree_.subtree(t))}}function ea(e){return e.writeTree_.isEmpty()}function ta(e,t){return na(vo(),e.writeTree_,t)}function na(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?(Ut(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=na(Co(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Co(e,".priority"),r)),n}}function ra(e,t){return ma(t,e)}function ia(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);Ut(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&oa(t,r.path)?i=!1:Ro(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=aa(e.allWrites,sa,vo()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Qs(e.visibleWrites,r.path);else{Fi(r.children,t=>{e.visibleWrites=Qs(e.visibleWrites,Co(r.path,t))})}return!0}return!1}function oa(e,t){if(e.snap)return Ro(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ro(Co(e.path,n),t))return!0;return!1}function sa(e){return e.visible}function aa(e,t,n){let r=Ks.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)Ro(n,e)?(t=Eo(n,e),r=$s(r,t,o.snap)):Ro(e,n)&&(t=Eo(e,n),r=$s(r,vo(),o.snap.getChild(t)));else{if(!o.children)throw Ht("WriteRecord should have .snap or .children");if(Ro(n,e))t=Eo(n,e),r=Gs(r,t,o.children);else if(Ro(e,n))if(t=Eo(e,n),To(t))r=Gs(r,vo(),o.children);else{const e=wn(o.children,bo(t));if(e){const n=e.getChild(_o(t));r=$s(r,vo(),n)}}}}}return r}function la(e,t,n,r,i){if(r||i){const o=Zs(e.visibleWrites,t);if(!i&&ea(o))return n;if(i||null!=n||Ys(o,vo())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ro(e.path,t)||Ro(t,e.path))};return ta(aa(e.allWrites,o,t),n||ls.EMPTY_NODE)}return null}{const r=Xs(e.visibleWrites,t);if(null!=r)return r;{const r=Zs(e.visibleWrites,t);if(ea(r))return n;if(null!=n||Ys(r,vo())){return ta(r,n||ls.EMPTY_NODE)}return null}}}function ca(e,t,n,r){return la(e.writeTree,e.treePath,t,n,r)}function ua(e,t){return function(e,t,n){let r=ls.EMPTY_NODE;const i=Xs(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(es,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=Zs(e.visibleWrites,t);return n.forEachChild(es,(e,t)=>{const n=ta(Zs(i,new yo(e)),t);r=r.updateImmediateChild(e,n)}),Js(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return Js(Zs(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function da(e,t,n,r){return function(e,t,n,r,i){Ut(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Co(t,n);if(Ys(e.visibleWrites,o))return null;{const t=Zs(e.visibleWrites,o);return ea(t)?i.getChild(n):ta(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function ha(e,t){return function(e,t){return Xs(e.visibleWrites,t)}(e.writeTree,Co(e.treePath,t))}function pa(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=Zs(e.visibleWrites,t),c=Xs(l,vo());if(null!=c)a=c;else{if(null==n)return[];a=ta(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function fa(e,t,n){return function(e,t,n,r){const i=Co(t,n),o=Xs(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return ta(Zs(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function ga(e,t){return ma(Co(e.treePath,t),e.writeTree)}function ma(e,t){return{treePath:e,writeTree:t}}class ya{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Ut("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ut(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,ms(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,gs(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,fs(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ht("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ms(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const va=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class ba{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Os(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fa(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Hs(this.viewCache_),i=pa(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function xa(e,t,n,r,i){const o=new ya;let s,a;if(n.type===Rs.OVERWRITE){const l=n;l.source.fromUser?s=ka(e,t,l.path,l.snap,r,i,o):(Ut(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!To(l.path),s=wa(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===Rs.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach((r,l)=>{const c=Co(n,r);Sa(t,bo(c))&&(a=ka(e,a,c,l,i,o,s))}),r.foreach((r,l)=>{const c=Co(n,r);Sa(t,bo(c))||(a=ka(e,a,c,l,i,o,s))}),a}(e,t,l.path,l.children,r,i,o):(Ut(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Ta(e,t,l.path,l.children,r,i,a,o))}else if(n.type===Rs.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=ha(r,n))return t;{const a=new ba(r,t,i),l=t.eventCache.getNode();let c;if(To(n)||".priority"===bo(n)){let n;if(t.serverCache.isFullyInitialized())n=ca(r,Hs(t));else{const e=t.serverCache.getNode();Ut(e instanceof ls,"serverChildren would be complete if leaf node"),n=ua(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=bo(n);let u=fa(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,_o(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,ls.EMPTY_NODE,_o(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=ca(r,Hs(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=ha(r,vo()),Ws(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=ha(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(To(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return wa(e,t,n,l.getNode().getChild(n),i,o,a,s);if(To(n)){let r=new qs(null);return l.getNode().forEachChild(Bo,(e,t)=>{r=r.set(new yo(e),t)}),Ta(e,t,n,r,i,o,a,s)}return t}{let c=new qs(null);return r.foreach((e,t)=>{const r=Co(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),Ta(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==Rs.LISTEN_COMPLETE)throw Ht("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=Bs(t,o.getNode(),o.isFullyInitialized()||To(n),o.isFiltered());return _a(e,s,n,r,va,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Us(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ps(Us(t)))}}(t,s,l),{viewCache:s,changes:l}}function _a(e,t,n,r,i,o){const s=t.eventCache;if(null!=ha(r,n))return t;{let a,l;if(To(n))if(Ut(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Hs(t),i=ua(r,n instanceof ls?n:ls.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=ca(r,Hs(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=bo(n);if(".priority"===c){Ut(1===xo(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=da(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=_o(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=da(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=fa(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,i,o):s.getNode()}}return Ws(t,a,s.isFullyInitialized()||To(n),e.filter.filtersNodes())}}function wa(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(To(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=bo(n);if(!l.isCompleteForPath(n)&&xo(n)>1)return t;const i=_o(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,va,null)}const d=Bs(t,c,l.isFullyInitialized()||To(n),u.filtersNodes());return _a(e,d,n,i,new ba(i,d,o),a)}function ka(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new ba(i,t,o);if(To(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Ws(t,c,!0,e.filter.filtersNodes());else{const i=bo(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ws(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=_o(n),c=a.getNode().getImmediateChild(i);let d;if(To(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===wo(o)&&e.getChild(So(o)).isEmpty()?e:e.updateChild(o,r):ls.EMPTY_NODE}if(c.equals(d))l=t;else{l=Ws(t,e.filter.updateChild(a.getNode(),i,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Sa(e,t){return e.eventCache.isCompleteForChild(t)}function Ca(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Ta(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=To(n)?r:new qs(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=Ca(0,t.serverCache.getNode().getImmediateChild(n),r);c=wa(e,c,new yo(n),l,i,o,s,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Ca(0,t.serverCache.getNode().getImmediateChild(n),r);c=wa(e,c,new yo(n),l,i,o,s,a)}}),c}class Ea{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new ys(n.getIndex()),i=(o=n).loadsAllData()?new ys(o.getIndex()):o.hasLimit()?new bs(o):new vs(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(ls.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(ls.EMPTY_NODE,a.getNode(),null),u=new Os(l,s.isFullyInitialized(),r.filtersNodes()),d=new Os(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Fs(d,u),this.eventGenerator_=new Ms(this.query_)}get query(){return this.query_}}function ja(e,t){const n=Hs(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!To(t)&&!n.getImmediateChild(bo(t)).isEmpty())?n.getChild(t):null}function Ia(e){return 0===e.eventRegistrations_.length}function Ra(e,t,n){const r=[];if(n){Ut(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Pa(e,t,n,r){t.type===Rs.MERGE&&null!==t.source.queryId&&(Ut(Hs(e.viewCache_),"We should always have a full cache before handling merges"),Ut(Us(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=xa(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,Ut(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Ut(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),Ut(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Na(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Na(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),zs(e,i,"child_removed",t,r,n),zs(e,i,"child_added",t,r,n),zs(e,i,"child_moved",o,r,n),zs(e,i,"child_changed",t,r,n),zs(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let La,Aa;class Da{constructor(){this.views=new Map}}function Oa(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return Ut(null!=o,"SyncTree gave us an op for an invalid query."),Pa(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(Pa(o,t,n,r));return i}}function Ma(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=ca(n,i?r:null),o=!1;e?o=!0:r instanceof ls?(e=ua(n,r),o=!1):(e=ls.EMPTY_NODE,o=!1);const s=Fs(new Os(e,o,!1),new Os(r,i,!1));return new Ea(t,s)}return s}function za(e,t,n,r,i,o){const s=Ma(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(es,(e,t)=>{r.push(fs(e,t))});return n.isFullyInitialized()&&r.push(ps(n.getNode())),Na(e,r,n.getNode(),t)}(s,n)}function Fa(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=Va(e);if("default"===i)for(const[l,c]of e.views.entries())s=s.concat(Ra(c,n,r)),Ia(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(i);t&&(s=s.concat(Ra(t,n,r)),Ia(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!Va(e)&&o.push(new(Ut(La,"Reference.ts has not been loaded"),La)(t._repo,t._path)),{removed:o,events:s}}function Wa(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ba(e,t){let n=null;for(const r of e.views.values())n=n||ja(r,t);return n}function Ua(e,t){if(t._queryParams.loadsAllData())return qa(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Ha(e,t){return null!=Ua(e,t)}function Va(e){return null!=qa(e)}function qa(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Ka=1;class $a{constructor(e){this.listenProvider_=e,this.syncPointTree_=new qs(null),this.pendingWriteTree_={visibleWrites:Ks.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ga(e,t,n,r,i){return function(e,t,n,r,i){Ut(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=$s(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?nl(e,new As({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Qa(e,t,n,r){!function(e,t,n,r){Ut(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Gs(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=qs.fromObject(n);return nl(e,new Ds({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Ya(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(ia(e.pendingWriteTree_,t)){let t=new qs(null);return null!=r.snap?t=t.set(vo(),!0):Fi(r.children,e=>{t=t.set(new yo(e),!0)}),nl(e,new Ns(r.path,t,n))}return[]}function Xa(e,t,n){return nl(e,new As({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Ja(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||Ha(s,t))){const l=Fa(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(o,(e,t)=>Va(t));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&Va(t)){return[qa(t)]}{let e=[];return t&&(e=Wa(t)),Fi(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=ol(e,r);e.listenProvider_.startListening(dl(i),sl(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(dl(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(al(t));e.listenProvider_.stopListening(dl(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=al(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function Za(e,t,n,r){const i=ll(e,r);if(null!=i){const r=cl(i),o=r.path,s=r.queryId,a=Eo(o,t);return ul(e,o,new As(Ps(s),a,n))}return[]}function el(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=Eo(e,i);o=o||Ba(t,n),s=s||Va(t)});let a,l=e.syncPointTree_.get(i);if(l?(s=s||Va(l),o=o||Ba(l,vo())):(l=new Da,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)a=!0;else{a=!1,o=ls.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=Ba(t,vo());n&&(o=o.updateImmediateChild(e,n))})}const c=Ha(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=al(t);Ut(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Ka++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=za(l,t,n,ra(e.pendingWriteTree_,i),o,a);if(!c&&!s&&!r){const n=Ua(l,t);u=u.concat(function(e,t,n){const r=t._path,i=sl(e,t),o=ol(e,n),s=e.listenProvider_.startListening(dl(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)Ut(!Va(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!To(e)&&t&&Va(t))return[qa(t).query];{let e=[];return t&&(e=e.concat(Wa(t).map(e=>e.query))),Fi(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(dl(r),sl(e,r))}}return s}(e,t,n))}return u}function tl(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=Ba(n,Eo(e,t));if(r)return r});return la(r,t,i,n,!0)}function nl(e,t){return rl(t,e.syncPointTree_,null,ra(e.pendingWriteTree_,vo()))}function rl(e,t,n,r){if(To(e.path))return il(e,t,n,r);{const i=t.get(vo());null==n&&null!=i&&(n=Ba(i,vo()));let o=[];const s=bo(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=ga(r,s);o=o.concat(rl(a,l,e,t))}return i&&(o=o.concat(Oa(i,e,r,n))),o}}function il(e,t,n,r){const i=t.get(vo());null==n&&null!=i&&(n=Ba(i,vo()));let o=[];return t.children.inorderTraversal((t,i)=>{const s=n?n.getImmediateChild(t):null,a=ga(r,t),l=e.operationForChild(t);l&&(o=o.concat(il(l,i,s,a)))}),i&&(o=o.concat(Oa(i,e,r,n))),o}function ol(e,t){const n=t.query,r=sl(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ls.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=ll(e,n);if(r){const n=cl(r),i=n.path,o=n.queryId,s=Eo(i,t);return ul(e,i,new Ls(Ps(o),s))}return[]}(e,n._path,r):function(e,t){return nl(e,new Ls({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Ja(e,n,null,r)}}}}function sl(e,t){const n=al(t);return e.queryToTagMap.get(n)}function al(e){return e._path.toString()+"$"+e._queryIdentifier}function ll(e,t){return e.tagToQueryMap.get(t)}function cl(e){const t=e.indexOf("$");return Ut(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new yo(e.substr(0,t))}}function ul(e,t,n){const r=e.syncPointTree_.get(t);Ut(r,"Missing sync point for query tag that we're tracking");return Oa(r,n,ra(e.pendingWriteTree_,t),null)}function dl(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Ut(Aa,"Reference.ts has not been loaded"),Aa)(e._repo,e._path):e}class hl{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new hl(t)}node(){return this.node_}}class pl{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Co(this.path_,e);return new pl(this.syncTree_,t)}node(){return tl(this.syncTree_,this.path_)}}const fl=function(e,t,n){return e&&"object"===typeof e?(Ut(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?gl(e[".sv"],t,n):"object"===typeof e[".sv"]?ml(e[".sv"],t):void Ut(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},gl=function(e,t,n){if("timestamp"===e)return n.timestamp;Ut(!1,"Unexpected server value: "+e)},ml=function(e,t,n){e.hasOwnProperty("increment")||Ut(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Ut(!1,"Unexpected increment value: "+r);const i=t.node();if(Ut(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},yl=function(e,t,n,r){return bl(t,new pl(n,e),r)},vl=function(e,t,n){return bl(e,new hl(t),n)};function bl(e,t,n){const r=e.getPriority().val(),i=fl(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=fl(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Zo(o,us(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Zo(i))),r.forEachChild(es,(e,r)=>{const i=bl(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))}),o}}class xl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function _l(e,t){let n=t instanceof yo?t:new yo(t),r=e,i=bo(n);for(;null!==i;){const e=wn(r.node.children,i)||{children:{},childCount:0};r=new xl(i,r,e),n=_o(n),i=bo(n)}return r}function wl(e){return e.node.value}function kl(e,t){e.node.value=t,jl(e)}function Sl(e){return e.node.childCount>0}function Cl(e,t){Fi(e.node.children,(n,r)=>{t(new xl(n,e,r))})}function Tl(e,t,n,r){n&&!r&&t(e),Cl(e,e=>{Tl(e,t,!0,r)}),n&&r&&t(e)}function El(e){return new yo(null===e.parent?e.name:El(e.parent)+"/"+e.name)}function jl(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===wl(e)&&!Sl(e)}(n),i=_n(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,jl(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,jl(e))}(e.parent,e.name,e)}const Il=/[\[\].#$\/\u0000-\u001F\u007F]/,Rl=/[\[\].#$\u0000-\u001F\u007F]/,Pl=10485760,Nl=function(e){return"string"===typeof e&&0!==e.length&&!Il.test(e)},Ll=function(e){return"string"===typeof e&&0!==e.length&&!Rl.test(e)},Al=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Pi(e)||e&&"object"===typeof e&&_n(e,".sv")},Dl=function(e,t,n,r){r&&void 0===t||Ol(Ln(e,"value"),t,n)},Ol=function(e,t,n){const r=n instanceof yo?new Po(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Lo(r));if("function"===typeof t)throw new Error(e+"contains a function "+Lo(r)+" with contents = "+t.toString());if(Pi(t))throw new Error(e+"contains "+t.toString()+" "+Lo(r));if("string"===typeof t&&t.length>Pl/3&&An(t)>Pl)throw new Error(e+"contains a string greater than "+Pl+" utf8 bytes "+Lo(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(Fi(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Nl(t)))throw new Error(e+" contains an invalid key ("+t+") "+Lo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=An(t),No(e)}(r,t),Ol(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=An(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+Lo(r)+" in addition to actual children.")}},Ml=function(e,t,n,r){if(r&&void 0===t)return;const i=Ln(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];Fi(t,(e,t)=>{const r=new yo(e);if(Ol(i,t,Co(n,r)),".priority"===wo(r)&&!Al(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=ko(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!Nl(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(jo);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Ro(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},zl=function(e,t,n,r){if((!r||void 0!==n)&&!Ll(n))throw new Error(Ln(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Fl=function(e,t){if(".info"===bo(t))throw new Error(e+" failed = Can't modify data under /.info/")},Wl=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Nl(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ll(e)}(n))throw new Error(Ln(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Bl{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ul(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||Io(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Hl(e,t,n){Ul(e,n),ql(e,e=>Io(e,t))}function Vl(e,t,n){Ul(e,n),ql(e,e=>Ro(e,t)||Ro(t,e))}function ql(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Kl(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Kl(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();ki&&Ti("event: "+n.toString()),Hi(r)}}}const $l="repo_interrupt";class Gl{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cs(),this.transactionQueueTree_=new xl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ql(e,t,n){if(e.stats_=io(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ks(e.repoInfo_,(t,n,r,i)=>{Jl(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Zl(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{bn(n)}catch(gg){throw new Error("Invalid authOverride provided: "+gg)}}e.persistentConnection_=new Oo(e.repoInfo_,t,(t,n,r,i)=>{Jl(e,t,n,r,i)},t=>{Zl(e,t)},t=>{!function(e,t){Fi(t,(t,n)=>{ec(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return ro[n]||(ro[n]=t()),ro[n]}(e.repoInfo_,()=>new Is(e.stats_,e.server_)),e.infoData_=new Ss,e.infoSyncTree_=new $a({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Xa(e.infoSyncTree_,t._path,s),setTimeout(()=>{i("ok")},0)),o},stopListening:()=>{}}),ec(e,"connected",!1),e.serverSyncTree_=new $a({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const o=i(n,r);Vl(e.eventQueue_,t._path,o)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Yl(e){const t=e.infoData_.getNode(new yo(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Xl(e){return(t=(t={timestamp:Yl(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Jl(e,t,n,r,i){e.dataUpdateCount++;const o=new yo(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=Sn(n,e=>us(e));s=function(e,t,n,r){const i=ll(e,r);if(i){const r=cl(i),o=r.path,s=r.queryId,a=Eo(o,t),l=qs.fromObject(n);return ul(e,o,new Ds(Ps(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=us(n);s=Za(e.serverSyncTree_,o,t,i)}else if(r){const t=Sn(n,e=>us(e));s=function(e,t,n){const r=qs.fromObject(n);return nl(e,new Ds({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=us(n);s=Xa(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=cc(e,o)),Vl(e.eventQueue_,a,s)}function Zl(e,t){ec(e,"connected",t),!1===t&&function(e){oc(e,"onDisconnectEvents");const t=Xl(e),n=Cs();Es(e.onDisconnect_,vo(),(r,i)=>{const o=yl(r,i,e.serverSyncTree_,t);Ts(n,r,o)});let r=[];Es(n,vo(),(t,n)=>{r=r.concat(Xa(e.serverSyncTree_,t,n));const i=fc(e,t);cc(e,i)}),e.onDisconnect_=Cs(),Vl(e.eventQueue_,vo(),r)}(e)}function ec(e,t,n){const r=new yo("/.info/"+t),i=us(n);e.infoData_.updateSnapshot(r,i);const o=Xa(e.infoSyncTree_,r,i);Vl(e.eventQueue_,r,o)}function tc(e){return e.nextWriteId_++}function nc(e,t,n,r,i){oc(e,"set",{path:t.toString(),value:n,priority:r});const o=Xl(e),s=us(n,r),a=tl(e.serverSyncTree_,t),l=vl(s,a,o),c=tc(e),u=Ga(e.serverSyncTree_,t,l,c,!0);Ul(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(n,r)=>{const o="ok"===n;o||Ri("set at "+t+" failed: "+n);const s=Ya(e.serverSyncTree_,c,!o);Vl(e.eventQueue_,t,s),sc(e,i,n,r)});const d=fc(e,t);cc(e,d),Vl(e.eventQueue_,d,[])}function rc(e,t,n){let r;r=".info"===bo(t._path)?Ja(e.infoSyncTree_,t,n):Ja(e.serverSyncTree_,t,n),Hl(e.eventQueue_,t._path,r)}function ic(e){e.persistentConnection_&&e.persistentConnection_.interrupt($l)}function oc(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Ti(t,...r)}function sc(e,t,n,r){t&&Hi(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}})}function ac(e,t,n){return tl(e.serverSyncTree_,t,n)||ls.EMPTY_NODE}function lc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||pc(e,t),wl(t)){const n=dc(e,t);Ut(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=ac(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];Ut(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Eo(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,r=>{oc(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Ya(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();pc(e,_l(e.transactionQueueTree_,t)),lc(e,e.transactionQueueTree_),Vl(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Hi(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Ri("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}cc(e,t)}},s)}(e,El(t),n)}else Sl(t)&&Cl(t,t=>{lc(e,t)})}function cc(e,t){const n=uc(e,t),r=El(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter(e=>0===e.status),s=o.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const o=t[a],l=Eo(n,o.path);let c,u=!1;if(Ut(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)u=!0,c=o.abortReason,i=i.concat(Ya(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)u=!0,c="maxretry",i=i.concat(Ya(e.serverSyncTree_,o.currentWriteId,!0));else{const n=ac(e,o.path,s);o.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){Ol("transaction failed: Data returned ",r,o.path);let t=us(r);"object"===typeof r&&null!=r&&_n(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=Xl(e),c=vl(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=tc(e),s.splice(s.indexOf(a),1),i=i.concat(Ga(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(Ya(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",i=i.concat(Ya(e.serverSyncTree_,o.currentWriteId,!0))}Vl(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(c),!1,null))))}pc(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Hi(r[a]);lc(e,e.transactionQueueTree_)}(e,dc(e,n),r),r}function uc(e,t){let n,r=e.transactionQueueTree_;for(n=bo(t);null!==n&&void 0===wl(r);)r=_l(r,n),n=bo(t=_o(t));return r}function dc(e,t){const n=[];return hc(e,t,n),n.sort((e,t)=>e.order-t.order),n}function hc(e,t,n){const r=wl(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Cl(t,t=>{hc(e,t,n)})}function pc(e,t){const n=wl(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,kl(t,n.length>0?n:void 0)}Cl(t,t=>{pc(e,t)})}function fc(e,t){const n=El(uc(e,t)),r=_l(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{gc(e,t)}),gc(e,r),Tl(r,t=>{gc(e,t)}),n}function gc(e,t){const n=wl(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Ut(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(Ut(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Ya(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?kl(t,void 0):n.length=o+1,Vl(e.eventQueue_,El(t),i);for(let e=0;e<r.length;e++)Hi(r[e])}}const mc=function(e,t){const n=yc(e),r=n.namespace;"firebase.com"===n.domain&&Ii(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Ii("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ri("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Zi(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new yo(n.pathString)}},yc=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(gg){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ri("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},vc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class bc{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+bn(this.snapshot.exportVal())}}class xc{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class _c{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Ut(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class wc{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return To(this._path)?null:wo(this._path)}get ref(){return new kc(this._repo,this._path)}get _queryIdentifier(){const e=ws(this._queryParams),t=Mi(e);return"{}"===t?"default":t}get _queryObject(){return ws(this._queryParams)}isEqual(e){if(!((e=Dn(e))instanceof wc))return!1;const t=this._repo===e._repo,n=Io(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class kc extends wc{constructor(e,t){super(e,t,new xs,!1)}get parent(){const e=So(this._path);return null===e?null:new kc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Sc{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new yo(e),n=Tc(this.ref,e);return new Sc(this._node.getChild(t),n,es)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new Sc(n,Tc(this.ref,t),es)))}hasChild(e){const t=new yo(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Cc(e,t){return(e=Dn(e))._checkNotDeleted("ref"),void 0!==t?Tc(e._root,t):e._root}function Tc(e,t){var n,r,i,o;return null===bo((e=Dn(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),zl(n,r,i,o)):zl("child","path",t,!1),new kc(e._repo,Co(e._path,t))}function Ec(e){return Fl("remove",e._path),jc(e,null)}function jc(e,t){e=Dn(e),Fl("set",e._path),Dl("set",t,e._path,!1);const n=new on;return nc(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Ic(e,t){Ml("update",t,e._path,!1);const n=new on;return function(e,t,n,r){oc(e,"update",{path:t.toString(),value:n});let i=!0;const o=Xl(e),s={};if(Fi(n,(n,r)=>{i=!1,s[n]=yl(Co(t,n),us(r),e.serverSyncTree_,o)}),i)Ti("update() called with empty data.  Don't do anything."),sc(0,r,"ok",void 0);else{const i=tc(e),o=Qa(e.serverSyncTree_,t,s,i);Ul(e.eventQueue_,o),e.server_.merge(t.toString(),n,(n,o)=>{const s="ok"===n;s||Ri("update at "+t+" failed: "+n);const a=Ya(e.serverSyncTree_,i,!s),l=a.length>0?cc(e,t):t;Vl(e.eventQueue_,l,a),sc(0,r,n,o)}),Fi(n,n=>{const r=fc(e,Co(t,n));cc(e,r)}),Vl(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class Rc{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new bc("value",this,new Sc(e.snapshotNode,new kc(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new xc(this,e,t):null}matches(e){return e instanceof Rc&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Pc{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new xc(this,e,t):null}createEvent(e,t){Ut(null!=e.childName,"Child events should have a childName.");const n=Tc(new kc(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new bc(e.type,this,new Sc(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Pc&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Nc(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{rc(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new _c(n,o||void 0),a="value"===t?new Rc(s):new Pc(t,s);return function(e,t,n){let r;r=".info"===bo(t._path)?el(e.infoSyncTree_,t,n):el(e.serverSyncTree_,t,n),Hl(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>rc(e._repo,e,a)}function Lc(e,t,n,r){return Nc(e,"value",t,n,r)}!function(e){Ut(!La,"__referenceConstructor has already been defined"),La=e}(kc),function(e){Ut(!Aa,"__referenceConstructor has already been defined"),Aa=e}(kc);const Ac={};let Dc=!1;function Oc(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Ii("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ti("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=mc(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=mc(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new $i($i.OWNER):new Ki(e.name,e.options,t);Wl("Invalid Firebase Database URL",l),To(l.path)||Ii("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=Ac[t.name];i||(i={},Ac[t.name]=i);let o=i[e.toURLString()];o&&Ii("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Gl(e,Dc,n,r),i[e.toURLString()]=o,o}(c,e,u,new qi(e,n));return new Mc(d,e)}class Mc{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Ql(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new kc(this._repo,vo())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Ac[t];n&&n[e.key]===e||Ii("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),ic(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ii("Cannot call "+e+" on a deleted database.")}}Oo.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Oo.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){pi(Yr),qr(new On("database",(e,t)=>{let{instanceIdentifier:n}=t;return Oc(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),Zr(ui,di,e),Zr(ui,di,"esm2020")}();const zc=["providerId"],Fc=["uid","auth","stsTokenManager"],Wc=["providerId","signInMethod"];function Bc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Uc=Bc,Hc=new mn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Vc=new Kn("@firebase/auth");function qc(e){if(Vc.logLevel<=Bn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Vc.error("Auth (".concat(Yr,"): ").concat(e),...n)}}function Kc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Yc(e,...n)}function $c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Yc(e,...n)}function Gc(e,t,n){const r=c(c({},Uc()),{},{[t]:n});return new mn("auth","Firebase",r).create(t,{appName:e.name})}function Qc(e){return Gc(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Hc.create(e,...n)}function Xc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Yc(t,...r)}}function Jc(e){const t="INTERNAL ASSERTION FAILED: "+e;throw qc(t),new Error(t)}function Zc(e,t){e||Jc(t)}function eu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function tu(){return"http:"===nu()||"https:"===nu()}function nu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function ru(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(tu()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class iu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zc(t>e,"Short delay should be less than long delay!"),this.isMobile=hn()||pn()}get(){return ru()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ou(e,t){Zc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class su{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Jc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Jc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Jc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const au={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},lu=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cu=new iu(3e4,6e4);function uu(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function du(e,t,n,r){return hu(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=En(c({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&sn(e.emulatorConfig.host)&&(l.credentials="include"),su.fetch()(await fu(e,e.config.apiHost,n,s),l)})}async function hu(e,t,n){e._canInitEmulator=!1;const r=c(c({},au),t);try{const t=new mu(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw yu(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw yu(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw yu(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw yu(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Gc(e,a,s);Kc(e,a)}}catch(gg){if(gg instanceof gn)throw gg;Kc(e,"network-request-failed",{message:String(gg)})}}async function pu(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await du(e,t,n,r,i);return"mfaPendingCredential"in o&&Kc(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function fu(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),o=e,s=o.config.emulator?ou(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(lu.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function gu(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mu{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t($c(this.auth,"network-request-failed")),cu.get())})}}function yu(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$c(e,t,r);return i.customData._tokenResponse=n,i}function vu(e){return void 0!==e&&void 0!==e.enterprise}class bu{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gu(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xu(e,t){return du(e,"GET","/v2/recaptchaConfig",uu(e,t))}async function _u(e,t){return du(e,"POST","/v1/accounts:lookup",t)}function wu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(gg){}}function ku(e){return 1e3*Number(e)}function Su(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const e=Qt(n);return e?JSON.parse(e):(qc("Failed to decode base64 JWT payload"),null)}catch(gg){return qc("Caught error parsing JWT payload as JSON",null===gg||void 0===gg?void 0:gg.toString()),null}}function Cu(e){const t=Su(e);return Xc(t,"internal-error"),Xc("undefined"!==typeof t.exp,"internal-error"),Xc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Tu(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(gg){throw gg instanceof gn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(gg)&&e.auth.currentUser===e&&await e.auth.signOut(),gg}}class Eu{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(gg){return void((null===gg||void 0===gg?void 0:gg.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ju{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Iu(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Tu(e,_u(n,{idToken:r}));Xc(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?Ru(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ju(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function Ru(e){return e.map(e=>{let{providerId:t}=e,n=i(e,zc);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xc(e.idToken,"internal-error"),Xc("undefined"!==typeof e.idToken,"internal-error"),Xc("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Cu(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Xc(0!==e.length,"internal-error");const t=Cu(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Xc(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await hu(e,{},async()=>{const n=En({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await fu(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&sn(e.emulatorConfig.host)&&(a.credentials="include"),su.fetch()(o,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Pu;return n&&(Xc("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Xc("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Xc("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pu,this.toJSON())}_performRefresh(){return Jc("not implemented")}}function Nu(e,t){Xc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Lu{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,o=i(e,Fc);this.providerId="firebase",this.proactiveRefresh=new Eu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ju(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Tu(this,this.stsTokenManager.getToken(this.auth,e));return Xc(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Dn(e),r=await n.getIdToken(t),i=Su(r);Xc(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:wu(ku(i.auth_time)),issuedAtTime:wu(ku(i.iat)),expirationTime:wu(ku(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Dn(e);await Iu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Xc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Lu(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Xc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Iu(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(Qc(this.auth));const e=await this.getIdToken();return await Tu(this,async function(e,t){return du(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:x,isAnonymous:_,providerData:w,stsTokenManager:k}=t;Xc(b&&k,e,"internal-error");const S=Pu.fromJSON(this.name,k);Xc("string"===typeof b,e,"internal-error"),Nu(d,e.name),Nu(h,e.name),Xc("boolean"===typeof x,e,"internal-error"),Xc("boolean"===typeof _,e,"internal-error"),Nu(p,e.name),Nu(f,e.name),Nu(g,e.name),Nu(m,e.name),Nu(y,e.name),Nu(v,e.name);const C=new Lu({uid:b,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:_,photoURL:f,phoneNumber:p,tenantId:g,stsTokenManager:S,createdAt:y,lastLoginAt:v});return w&&Array.isArray(w)&&(C.providerData=w.map(e=>c({},e))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Pu;r.updateFromServerResponse(t);const i=new Lu({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Iu(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Xc(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Ru(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new Pu;s.updateFromIdToken(n);const a=new Lu({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ju(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const Au=new Map;function Du(e){Zc(e instanceof Function,"Expected a class definition");let t=Au.get(e);return t?(Zc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Au.set(e,t),t)}class Ou{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ou.type="NONE";const Mu=Ou;function zu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Fu{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=zu(this.userKey,r.apiKey,i),this.fullPersistenceKey=zu("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await _u(this.auth,{idToken:e}).catch(()=>{});return t?Lu._fromGetAccountInfoResponse(this.auth,t,e):null}return Lu._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Fu(Du(Mu),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Du(Mu);const o=zu(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await _u(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Lu._fromGetAccountInfoResponse(e,r,t)}else n=Lu._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(t){}})),new Fu(i,e,n)):new Fu(i,e,n)}}function Wu(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Vu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Bu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ku(t))return"Blackberry";if($u(t))return"Webos";if(Uu(t))return"Safari";if((t.includes("chrome/")||Hu(t))&&!t.includes("edge/"))return"Chrome";if(qu(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Bu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return/firefox\//i.test(e)}function Uu(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return/crios\//i.test(e)}function Vu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return/iemobile/i.test(e)}function qu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return/android/i.test(e)}function Ku(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return/blackberry/i.test(e)}function $u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return/webos/i.test(e)}function Gu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Qu(){return function(){const e=dn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Yu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn();return Gu(e)||qu(e)||$u(e)||Ku(e)||/windows phone/i.test(e)||Vu(e)}function Xu(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Wu(dn());break;case"Worker":t="".concat(Wu(dn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Yr,"/").concat(r)}class Ju{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(gg){r(gg)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(gg){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===gg||void 0===gg?void 0:gg.message})}}}class Zu{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ed{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nd(this),this.idTokenSubscription=new nd(this),this.beforeStateQueue=new Ju(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Du(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Fu.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(gg){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await _u(this,{idToken:e}),n=await Lu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($r(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,o;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(o=n)||void 0===o?void 0:o._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==s||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(gg){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(gg))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Xc(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(gg){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Iu(e)}catch(gg){if((null===gg||void 0===gg?void 0:gg.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($r(this.app))return Promise.reject(Qc(this));const t=e?Dn(e):null;return t&&Xc(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Xc(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(Qc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $r(this.app)?Promise.reject(Qc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Du(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return du(e,"GET","/v2/passwordPolicy",uu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Zu(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return du(e,"POST","/v2/accounts:revokeToken",uu(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Du(e)||this._popupRedirectResolver;Xc(t,this,"argument-error"),this.redirectPersistenceManager=await Fu.create(this,[Du(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xc(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xc(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if($r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Vc.logLevel<=Bn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Vc.warn("Auth (".concat(Yr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function td(e){return Dn(e)}class nd{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Pn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Xc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function id(e){return rd.loadJS(e)}function od(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class sd{constructor(){this.enterprise=new ad}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ad{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ld="NO_RECAPTCHA";class cd{constructor(e){this.type="recaptcha-enterprise",this.auth=td(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;vu(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(ld)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new sd).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{xu(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new bu(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&vu(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=rd.recaptchaEnterpriseScript;0!==t.length&&(t+=i),id(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function ud(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new cd(e);let s;if(i)s=ld;else try{s=await o.verify(n)}catch(ji){s=await o.verify(n,!0)}const a=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function dd(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ud(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await ud(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await ud(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await ud(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await ud(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function hd(e){const t=td(e),n=await xu(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new bu(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new cd(t).verify()}}function pd(e,t,n){const r=td(e);Xc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),o=fd(t),{host:s,port:a}=function(e){const t=fd(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:gd(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:gd(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(o,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Xc(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Xc(Cn(c,r.config.emulator)&&Cn(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,sn(s)?(an("".concat(o,"//").concat(s).concat(l)),un("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function fd(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function gd(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class md{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jc("not implemented")}_getIdTokenResponse(e){return Jc("not implemented")}_linkToIdToken(e,t){return Jc("not implemented")}_getReauthenticationResolver(e){return Jc("not implemented")}}async function yd(e,t){return du(e,"POST","/v1/accounts:signUp",t)}async function vd(e,t){return pu(e,"POST","/v1/accounts:signInWithPassword",uu(e,t))}class bd extends md{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new bd(e,t,"password")}static _fromEmailAndCode(e,t){return new bd(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return dd(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",vd,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return pu(e,"POST","/v1/accounts:signInWithEmailLink",uu(e,t))}(e,{email:this._email,oobCode:this._password});default:Kc(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return dd(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yd,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return pu(e,"POST","/v1/accounts:signInWithEmailLink",uu(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Kc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xd(e,t){return pu(e,"POST","/v1/accounts:signInWithIdp",uu(e,t))}class _d extends md{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _d(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kc("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,o=i(t,Wc);if(!n||!r)return null;const s=new _d(n,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){return xd(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,xd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xd(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=En(t)}return e}}async function wd(e,t){return du(e,"POST","/v1/accounts:sendVerificationCode",uu(e,t))}const kd={USER_NOT_FOUND:"user-not-found"};class Sd extends md{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Sd({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Sd({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return pu(e,"POST","/v1/accounts:signInWithPhoneNumber",uu(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await pu(e,"POST","/v1/accounts:signInWithPhoneNumber",uu(e,t));if(n.temporaryProof)throw yu(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return pu(e,"POST","/v1/accounts:signInWithPhoneNumber",uu(e,c(c({},t),{},{operation:"REAUTH"})),kd)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Sd({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Cd{constructor(e){var t,n,r,i,o,s;const a=jn(In(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Xc(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.lang)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=jn(In(e)).link,n=t?jn(In(t)).deep_link_id:null,r=jn(In(e)).deep_link_id;return(r?jn(In(r)).link:null)||r||n||t||e}(e);try{return new Cd(t)}catch(n){return null}}}class Td{constructor(){this.providerId=Td.PROVIDER_ID}static credential(e,t){return bd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Cd.parseLink(t);return Xc(n,"argument-error"),bd._fromEmailAndCode(e,n.code,n.tenantId)}}Td.PROVIDER_ID="password",Td.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Td.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ed{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jd extends Ed{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Id extends jd{constructor(){super("facebook.com")}static credential(e){return _d._fromParams({providerId:Id.PROVIDER_ID,signInMethod:Id.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Id.credentialFromTaggedObject(e)}static credentialFromError(e){return Id.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Id.credential(t.oauthAccessToken)}catch(n){return null}}}Id.FACEBOOK_SIGN_IN_METHOD="facebook.com",Id.PROVIDER_ID="facebook.com";class Rd extends jd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _d._fromParams({providerId:Rd.PROVIDER_ID,signInMethod:Rd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Rd.credentialFromTaggedObject(e)}static credentialFromError(e){return Rd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Rd.credential(n,r)}catch(i){return null}}}Rd.GOOGLE_SIGN_IN_METHOD="google.com",Rd.PROVIDER_ID="google.com";class Pd extends jd{constructor(){super("github.com")}static credential(e){return _d._fromParams({providerId:Pd.PROVIDER_ID,signInMethod:Pd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pd.credentialFromTaggedObject(e)}static credentialFromError(e){return Pd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Pd.credential(t.oauthAccessToken)}catch(n){return null}}}Pd.GITHUB_SIGN_IN_METHOD="github.com",Pd.PROVIDER_ID="github.com";class Nd extends jd{constructor(){super("twitter.com")}static credential(e,t){return _d._fromParams({providerId:Nd.PROVIDER_ID,signInMethod:Nd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Nd.credentialFromTaggedObject(e)}static credentialFromError(e){return Nd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Nd.credential(n,r)}catch(i){return null}}}Nd.TWITTER_SIGN_IN_METHOD="twitter.com",Nd.PROVIDER_ID="twitter.com";class Ld{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Lu._fromIdTokenResponse(e,n,r),o=Ad(n);return new Ld({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ad(n);return new Ld({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ad(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Dd extends gn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Dd.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Dd(e,t,n,r)}}function Od(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Dd._fromErrorAndOperation(e,n,t,r);throw n})}async function Md(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Tu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ld._forOperation(e,"link",r)}async function zd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if($r(r.app))return Promise.reject(Qc(r));const i="reauthenticate";try{const o=await Tu(e,Od(r,i,t,e),n);Xc(o.idToken,r,"internal-error");const s=Su(o.idToken);Xc(s,r,"internal-error");const{sub:a}=s;return Xc(e.uid===a,r,"user-mismatch"),Ld._forOperation(e,i,o)}catch(gg){throw(null===gg||void 0===gg?void 0:gg.code)==="auth/".concat("user-not-found")&&Kc(r,"user-mismatch"),gg}}async function Fd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if($r(e.app))return Promise.reject(Qc(e));const r="signIn",i=await Od(e,r,t),o=await Ld._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function Wd(e,t){return du(e,"POST","/v2/accounts/mfaEnrollment:start",uu(e,t))}new WeakMap;const Bd="__sak";class Ud{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bd,"1"),this.storage.removeItem(Bd),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Hd extends Ud{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yu(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Qu()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hd.type="LOCAL";const Vd=Hd;function qd(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Kd(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class $d{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Kd(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return qd(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Kd(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Kd(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=qd(n);const i=setInterval(()=>{const e=qd(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}$d.type="COOKIE";class Gd extends Ud{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Gd.type="SESSION";const Qd=Gd;class Yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Yd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(null===o||void 0===o||!o.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Xd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Yd.receivers=[];class Jd{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=Xd("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Zd(){return window}function eh(){return"undefined"!==typeof Zd().WorkerGlobalScope&&"function"===typeof Zd().importScripts}const th="firebaseLocalStorageDb",nh="firebaseLocalStorage",rh="fbase_key";class ih{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function oh(e,t){return e.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function sh(){const e=indexedDB.open(th,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(nh,{keyPath:rh})}catch(gg){n(gg)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(nh)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(th);return new ih(e).toPromise()}(),t(await sh()))})})}async function ah(e,t,n){const r=oh(e,!0).put({[rh]:t,value:n});return new ih(r).toPromise()}function lh(e,t){const n=oh(e,!0).delete(t);return new ih(n).toPromise()}class ch{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await sh()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(gg){if(t++>3)throw gg;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eh()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yd._getInstance(eh()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Jd(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sh();return await ah(e,Bd,"1"),await lh(e,Bd),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ah(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=oh(e,!1).get(t),r=await new ih(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>lh(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=oh(e,!1).getAll();return new ih(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ch.type="LOCAL";const uh=ch;function dh(e,t){return du(e,"POST","/v2/accounts/mfaSignIn:start",uu(e,t))}od("rcb"),new iu(3e4,6e4);const hh="recaptcha";async function ph(e,t,n){if(!e._getRecaptchaConfig())try{await hd(e)}catch(ji){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Xc("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=dd(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ld){Xc((null===n||void 0===n?void 0:n.type)===hh,e,"argument-error");return Wd(e,await fh(e,t,n))}return Wd(e,t)},"PHONE_PROVIDER"),s=await o.catch(e=>Promise.reject(e));return s.phoneSessionInfo.sessionInfo}{var r;Xc("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Xc(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=dd(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ld){Xc((null===n||void 0===n?void 0:n.type)===hh,e,"argument-error");return dh(e,await fh(e,t,n))}return dh(e,t)},"PHONE_PROVIDER"),l=await a.catch(e=>Promise.reject(e));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=dd(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===ld){Xc((null===n||void 0===n?void 0:n.type)===hh,e,"argument-error");return wd(e,await fh(e,t,n))}return wd(e,t)},"PHONE_PROVIDER"),o=await r.catch(e=>Promise.reject(e));return o.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function fh(e,t,n){Xc(n.type===hh,e,"argument-error");const r=await n.verify();Xc("string"===typeof r,e,"argument-error");const i=c({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class gh{constructor(e){this.providerId=gh.PROVIDER_ID,this.auth=td(e)}verifyPhoneNumber(e,t){return ph(this.auth,e,Dn(t))}static credential(e,t){return Sd._fromVerification(e,t)}static credentialFromResult(e){const t=e;return gh.credentialFromTaggedObject(t)}static credentialFromError(e){return gh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Sd._fromTokenResponse(n,r):null}}function mh(e,t){return t?Du(t):(Xc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}gh.PROVIDER_ID="phone",gh.PHONE_SIGN_IN_METHOD="phone";class yh extends md{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vh(e){return Fd(e.auth,new yh(e),e.bypassAuthState)}function bh(e){const{auth:t,user:n}=e;return Xc(n,t,"internal-error"),zd(n,new yh(e),e.bypassAuthState)}async function xh(e){const{auth:t,user:n}=e;return Xc(n,t,"internal-error"),Md(n,new yh(e),e.bypassAuthState)}class _h{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(gg){this.reject(gg)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(gg){this.reject(gg)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vh;case"linkViaPopup":case"linkViaRedirect":return xh;case"reauthViaPopup":case"reauthViaRedirect":return bh;default:Kc(this.auth,"internal-error")}}resolve(e){Zc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wh=new iu(2e3,1e4);class kh extends _h{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,kh.currentPopupAction&&kh.currentPopupAction.cancel(),kh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xc(e,this.auth,"internal-error"),e}async onExecution(){Zc(1===this.filter.length,"Popup operations only handle one event");const e=Xd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject($c(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject($c(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($c(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,wh.get())};e()}}kh.currentPopupAction=null;const Sh=new Map;class Ch extends _h{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=jh(t),r=Eh(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(gg){e=()=>Promise.reject(gg)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Th(e,t){Sh.set(e._key(),t)}function Eh(e){return Du(e._redirectPersistence)}function jh(e){return zu("pendingRedirect",e.config.apiKey,e.name)}async function Ih(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if($r(e.app))return Promise.reject(Qc(e));const r=td(e),i=mh(r,t),o=new Ch(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Rh{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Nh(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError($c(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ph(e))}saveEventToCache(e){this.cachedEventUids.add(Ph(e)),this.lastProcessedEventTime=Date.now()}}function Ph(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Nh(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Lh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ah=/^https?/;async function Dh(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return du(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Oh(r))return}catch(n){}Kc(e,"unauthorized-domain")}function Oh(e){const t=eu(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ah.test(n))return!1;if(Lh.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Mh=new iu(3e4,6e4);function zh(){const e=Zd().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Fh(e){return new Promise((t,n)=>{var r,i;function o(){zh(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zh(),n($c(e,"network-request-failed"))},timeout:Mh.get()})}if(null!==(r=Zd().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Zd().gapi)||void 0===i||!i.load){const t=od("iframefcb");return Zd()[t]=()=>{gapi.load?o():n($c(e,"network-request-failed"))},id("".concat(rd.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw Wh=null,e})}let Wh=null;const Bh=new iu(5e3,15e3),Uh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vh(e){const t=e.config;Xc(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ou(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Yr},i=Hh.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(En(r).slice(1))}async function qh(e){const t=await function(e){return Wh=Wh||Fh(e),Wh}(e),n=Zd().gapi;return Xc(n,e,"internal-error"),t.open({where:document.body,url:Vh(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uh,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=$c(e,"network-request-failed"),o=Zd().setTimeout(()=>{r(i)},Bh.get());function s(){Zd().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const Kh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $h{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(gg){}}}function Gh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=c(c({},Kh),{},{width:r.toString(),height:i.toString(),top:o,left:s}),u=dn().toLowerCase();n&&(a=Hu(u)?"_blank":n),Bu(u)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Gu(arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new $h(null);const h=window.open(t||"",a,d);Xc(h,e,"popup-blocked");try{h.focus()}catch(gg){}return new $h(h)}const Qh="__/auth/handler",Yh="emulator/auth/handler",Xh=encodeURIComponent("fac");async function Jh(e,t,n,r,i,o){Xc(e.config.authDomain,e,"auth-domain-config-required"),Xc(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Yr,eventId:i};if(t instanceof Ed){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",kn(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof jd){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Xh,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Qh);return ou(t,Yh)}(e),"?").concat(En(a).slice(1)).concat(c)}const Zh="webStorageSupport";const ep=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qd,this._completeRedirectFn=Ih,this._overrideRedirectResult=Th}async _openPopup(e,t,n,r){var i;Zc(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Gh(e,await Jh(e,t,n,eu(),r),Xd())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Zd().location.href=e}(await Jh(e,t,n,eu(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Zc(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await qh(e),n=new Rh(e);return t.register("authEvent",t=>{Xc(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zh,{type:Zh},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Zh];void 0!==i&&t(!!i),Kc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Dh(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yu()||Uu()||Gu()}};var tp="@firebase/auth",np="1.12.0";class rp{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Xc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ip=rn("authIdTokenMaxAge")||300;let op=null;var sp,ap;sp={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=$c("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},rd=sp,ap="Browser",qr(new On("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Xc(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:ap,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xu(ap)},c=new ed(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Du);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),qr(new On("auth-internal",e=>(e=>new rp(e))(td(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(tp,np,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ap)),Zr(tp,np,"esm2020");const lp=Xr({apiKey:"AIzaSyCcDf-QwrU2zkkQan49gSdq6AkjY5JI2rQ",authDomain:"beablevn-operation.firebaseapp.com",databaseURL:"https://beablevn-operation-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"beablevn-operation",storageBucket:"beablevn-operation.firebasestorage.app",messagingSenderId:"18301003388",appId:"1:18301003388:web:a32ceea5343c27a1134bf9",measurementId:"G-L54LMGPTL4"}),cp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr(),t=arguments.length>1?arguments[1]:void 0;const n=Kr(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=(e=>{const t=tn(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Dn(e),e._checkNotDeleted("useEmulator");const i="".concat(t,":").concat(n),o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Cn(r,o.repoInfo_.emulatorOptions))return;Ii("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Ii('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new $i($i.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Gt(JSON.stringify({alg:"none",type:"JWT"})),Gt(JSON.stringify(o)),""].join(".")}(r.mockUserToken,e.app.options.projectId);s=new $i(t)}sn(t)&&(an(t),un("Database",!0));!function(e,t,n,r){const i=t.lastIndexOf(":"),o=sn(t.substring(0,i));e.repoInfo_=new Zi(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(o,i,r,s)}(n,...e)}return n}(lp),up=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr();const t=Kr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Kr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Cn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Kc(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ep,persistence:[uh,Vd,Qd]}),r=rn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ip)return;const r=null===t||void 0===t?void 0:t.token;op!==r&&(op=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Dn(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Dn(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=tn("auth");o&&pd(n,"http://".concat(o))}(lp),(0,e.createContext)(null)),dp=t=>{let{children:n}=t;const[r,i]=(0,e.useState)([]),[o,s]=(0,e.useState)([]),[a,l]=(0,e.useState)([]),[u,d]=(0,e.useState)([]),[h,p]=(0,e.useState)([]),[f,g]=(0,e.useState)([]),[m,y]=(0,e.useState)([]),[v,b]=(0,e.useState)([]);(0,e.useEffect)(()=>{const e=Lc(Cc(cp,"staff"),e=>{const t=e.val();i(t?Object.keys(t).map(e=>c(c({},t[e]),{},{id:e,positions:t[e].positions||[]})):[])}),t=Lc(Cc(cp,"tasks"),e=>{const t=e.val();s(t?Object.keys(t).map(e=>c(c({},t[e]),{},{id:e})):[])}),n=Lc(Cc(cp,"shifts"),e=>{const t=e.val();l(t?Object.keys(t).map(e=>c(c({},t[e]),{},{id:e})):[])}),r=Lc(Cc(cp,"attendance"),e=>{const t=e.val();d(t?Object.keys(t).map(e=>c(c({},t[e]),{},{id:e})):[])}),o=Lc(Cc(cp,"facilityLogs"),e=>{const t=e.val();p(t?Object.keys(t).map(e=>c(c({},t[e]),{},{id:e})):[])}),a=Lc(Cc(cp,"disciplineTypes"),e=>{const t=e.val();g(t?Object.keys(t).map(e=>c(c({},t[e]),{},{id:e})):[])}),u=Lc(Cc(cp,"disciplineRecords"),e=>{const t=e.val();y(t?Object.keys(t).map(e=>c(c({},t[e]),{},{id:e})):[])}),h=Lc(Cc(cp,"schedules"),e=>{const t=e.val();b(t?Object.keys(t).map(e=>c(c({},t[e]),{},{id:e})):[])});return()=>{e(),t(),n(),r(),o(),a(),u(),h()}},[]);return(0,Dt.jsx)(up.Provider,{value:{staffList:r,addStaff:e=>{const t=Date.now().toString();jc(Cc(cp,"staff/"+t),c(c({},e),{},{id:t}))},deleteStaff:e=>Ec(Cc(cp,"staff/"+e)),updateStaffInfo:(e,t)=>Ic(Cc(cp,"staff/"+e),t),tasks:o,addTask:e=>{const t=Date.now().toString()+Math.random().toString(36).substr(2,5);jc(Cc(cp,"tasks/"+t),c(c({},e),{},{id:t,progress:0,status:"assigned",createdDate:(new Date).toISOString()}))},updateTask:(e,t)=>Ic(Cc(cp,"tasks/"+e),t),deleteTask:e=>Ec(Cc(cp,"tasks/"+e)),updateTaskProgress:(e,t,n)=>Ic(Cc(cp,"tasks/"+e),{progress:t,reason:n}),finishTask:e=>{Ic(Cc(cp,"tasks/"+e),{status:"completed",finishedAt:(new Date).toISOString()})},shifts:a,attendanceLogs:u,addAttendance:e=>{const t=Date.now().toString();jc(Cc(cp,"attendance/"+t),c(c({},e),{},{id:t}))},updateAttendanceLog:(e,t)=>{Ic(Cc(cp,"attendance/"+e),t)},facilityLogs:h,addFacilityLog:e=>{const t=Date.now().toString();jc(Cc(cp,"facilityLogs/"+t),c(c({},e),{},{id:t,timestamp:(new Date).toISOString()}))},disciplineTypes:f,addDisciplineType:e=>{const t=Date.now().toString();jc(Cc(cp,"disciplineTypes/"+t),c(c({},e),{},{id:t,createdAt:(new Date).toISOString()}))},updateDisciplineTypeStatus:(e,t)=>Ic(Cc(cp,"disciplineTypes/"+e),{status:t}),softDeleteDisciplineType:(e,t)=>{Ic(Cc(cp,"disciplineTypes/"+e),{status:"Deleted",deletedBy:t.deletedBy,deleteReason:t.deleteReason,deletedAt:(new Date).toISOString()})},proposeDeleteDisciplineType:(e,t)=>{Ic(Cc(cp,"disciplineTypes/"+e),{isDeleteProposed:!0,deleteProposalReason:t.reason,deleteProposedBy:t.by,deleteProposedAt:(new Date).toISOString()})},deleteDisciplineType:e=>{Ec(Cc(cp,"disciplineTypes/"+e))},disciplineRecords:m,addDisciplineRecord:e=>{const t=Date.now().toString();jc(Cc(cp,"disciplineRecords/"+t),c(c({},e),{},{id:t,status:"Active"}))},updateDisciplineRecordStatus:(e,t)=>Ic(Cc(cp,"disciplineRecords/"+e),{status:t}),deleteDisciplineRecord:e=>Ec(Cc(cp,"disciplineRecords/"+e)),schedules:v,addSchedule:e=>{const t=Date.now().toString();return jc(Cc(cp,"schedules/"+t),c(c({},e),{},{id:t,createdAt:(new Date).toISOString()})),t},updateSchedule:(e,t)=>Ic(Cc(cp,"schedules/"+e),t),deleteSchedule:e=>Ec(Cc(cp,"schedules/"+e))},children:n})},hp=()=>(0,e.useContext)(up);var pp=n(825),fp=null;function gp(e,t){if("number"!==typeof(e=e||Ep))throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var n=[];return n.push("$2b$"),e<10&&n.push("0"),n.push(e.toString()),n.push("$"),n.push(Sp(function(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch(t){}try{return pp.randomBytes(e)}catch(n){}if(!fp)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return fp(e)}(Tp),Tp)),n.join("")}function mp(e,t,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof e&&(n=e,e=void 0),"undefined"===typeof e)e=Ep;else if("number"!==typeof e)throw Error("illegal arguments: "+typeof e);function r(t){xp(function(){try{t(null,gp(e))}catch(n){t(n)}})}if(!n)return new Promise(function(e,t){r(function(n,r){n?t(n):e(r)})});if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);r(n)}function yp(e,t){if("undefined"===typeof t&&(t=Ep),"number"===typeof t&&(t=gp(t)),"string"!==typeof e||"string"!==typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return Mp(e,t)}function vp(e,t,n,r){function i(n){"string"===typeof e&&"number"===typeof t?mp(t,function(t,i){Mp(e,i,n,r)}):"string"===typeof e&&"string"===typeof t?Mp(e,t,n,r):xp(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!n)return new Promise(function(e,t){i(function(n,r){n?t(n):e(r)})});if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);i(n)}function bp(e,t){for(var n=e.length^t.length,r=0;r<e.length;++r)n|=e.charCodeAt(r)^t.charCodeAt(r);return 0===n}var xp="function"===typeof setImmediate?setImmediate:"object"===typeof scheduler&&"function"===typeof scheduler.postTask?scheduler.postTask.bind(scheduler):setTimeout;function _p(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296===(64512&n)&&56320===(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t}var wp="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),kp=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Sp(e,t){var n,r,i=0,o=[];if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;i<t;){if(n=255&e[i++],o.push(wp[n>>2&63]),n=(3&n)<<4,i>=t){o.push(wp[63&n]);break}if(n|=(r=255&e[i++])>>4&15,o.push(wp[63&n]),n=(15&r)<<2,i>=t){o.push(wp[63&n]);break}n|=(r=255&e[i++])>>6&3,o.push(wp[63&n]),o.push(wp[63&r])}return o.join("")}function Cp(e,t){var n,r,i,o,s,a=0,l=e.length,c=0,u=[];if(t<=0)throw Error("Illegal len: "+t);for(;a<l-1&&c<t&&(n=(s=e.charCodeAt(a++))<kp.length?kp[s]:-1,r=(s=e.charCodeAt(a++))<kp.length?kp[s]:-1,-1!=n&&-1!=r)&&(o=n<<2>>>0,o|=(48&r)>>4,u.push(String.fromCharCode(o)),!(++c>=t||a>=l))&&-1!=(i=(s=e.charCodeAt(a++))<kp.length?kp[s]:-1)&&(o=(15&r)<<4>>>0,o|=(60&i)>>2,u.push(String.fromCharCode(o)),!(++c>=t||a>=l));)o=(3&i)<<6>>>0,o|=(s=e.charCodeAt(a++))<kp.length?kp[s]:-1,u.push(String.fromCharCode(o)),++c;var d=[];for(a=0;a<c;a++)d.push(u[a].charCodeAt(0));return d}var Tp=16,Ep=10,jp=16,Ip=100,Rp=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Pp=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],Np=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Lp(e,t,n,r){var i,o=e[t],s=e[t+1];return i=r[(o^=n[0])>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i=r[(s^=(i+=r[768|255&o])^n[1])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(o^=(i+=r[768|255&s])^n[2])>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i=r[(s^=(i+=r[768|255&o])^n[3])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(o^=(i+=r[768|255&s])^n[4])>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i=r[(s^=(i+=r[768|255&o])^n[5])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(o^=(i+=r[768|255&s])^n[6])>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i=r[(s^=(i+=r[768|255&o])^n[7])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(o^=(i+=r[768|255&s])^n[8])>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i=r[(s^=(i+=r[768|255&o])^n[9])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(o^=(i+=r[768|255&s])^n[10])>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i=r[(s^=(i+=r[768|255&o])^n[11])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(o^=(i+=r[768|255&s])^n[12])>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i=r[(s^=(i+=r[768|255&o])^n[13])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i=r[(o^=(i+=r[768|255&s])^n[14])>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i=r[(s^=(i+=r[768|255&o])^n[15])>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],o^=(i+=r[768|255&s])^n[16],e[t]=s^n[jp+1],e[t+1]=o,e}function Ap(e,t){for(var n=0,r=0;n<4;++n)r=r<<8|255&e[t],t=(t+1)%e.length;return{key:r,offp:t}}function Dp(e,t,n){for(var r,i=0,o=[0,0],s=t.length,a=n.length,l=0;l<s;l++)i=(r=Ap(e,i)).offp,t[l]=t[l]^r.key;for(l=0;l<s;l+=2)o=Lp(o,0,t,n),t[l]=o[0],t[l+1]=o[1];for(l=0;l<a;l+=2)o=Lp(o,0,t,n),n[l]=o[0],n[l+1]=o[1]}function Op(e,t,n,r,i){var o,s=Np.slice(),a=s.length;if(n<4||n>31){if(o=Error("Illegal number of rounds (4-31): "+n),r)return void xp(r.bind(this,o));throw o}if(t.length!==Tp){if(o=Error("Illegal salt length: "+t.length+" != "+Tp),r)return void xp(r.bind(this,o));throw o}n=1<<n>>>0;var l,c,u,d=0;function h(){if(i&&i(d/n),!(d<n)){for(d=0;d<64;d++)for(u=0;u<a>>1;u++)Lp(s,u<<1,l,c);var o=[];for(d=0;d<a;d++)o.push((s[d]>>24&255)>>>0),o.push((s[d]>>16&255)>>>0),o.push((s[d]>>8&255)>>>0),o.push((255&s[d])>>>0);return r?void r(null,o):o}for(var p=Date.now();d<n&&(d+=1,Dp(e,l,c),Dp(t,l,c),!(Date.now()-p>Ip)););r&&xp(h)}if("function"===typeof Int32Array?(l=new Int32Array(Rp),c=new Int32Array(Pp)):(l=Rp.slice(),c=Pp.slice()),function(e,t,n,r){for(var i,o=0,s=[0,0],a=n.length,l=r.length,c=0;c<a;c++)o=(i=Ap(t,o)).offp,n[c]=n[c]^i.key;for(o=0,c=0;c<a;c+=2)o=(i=Ap(e,o)).offp,s[0]^=i.key,o=(i=Ap(e,o)).offp,s[1]^=i.key,s=Lp(s,0,n,r),n[c]=s[0],n[c+1]=s[1];for(c=0;c<l;c+=2)o=(i=Ap(e,o)).offp,s[0]^=i.key,o=(i=Ap(e,o)).offp,s[1]^=i.key,s=Lp(s,0,n,r),r[c]=s[0],r[c+1]=s[1]}(t,e,l,c),"undefined"!==typeof r)h();else for(var p;;)if("undefined"!==typeof(p=h()))return p||[]}function Mp(e,t,n,r){var i,o,s;if("string"!==typeof e||"string"!==typeof t){if(i=Error("Invalid string / salt: Not a string"),n)return void xp(n.bind(this,i));throw i}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){if(i=Error("Invalid salt version: "+t.substring(0,2)),n)return void xp(n.bind(this,i));throw i}if("$"===t.charAt(2))o=String.fromCharCode(0),s=3;else{if("a"!==(o=t.charAt(2))&&"b"!==o&&"y"!==o||"$"!==t.charAt(3)){if(i=Error("Invalid salt revision: "+t.substring(2,4)),n)return void xp(n.bind(this,i));throw i}s=4}if(t.charAt(s+2)>"$"){if(i=Error("Missing salt rounds"),n)return void xp(n.bind(this,i));throw i}var a=10*parseInt(t.substring(s,s+1),10)+parseInt(t.substring(s+1,s+2),10),l=t.substring(s+3,s+25),c=function(e){for(var t,n,r=0,i=new Array(_p(e)),o=0,s=e.length;o<s;++o)(t=e.charCodeAt(o))<128?i[r++]=t:t<2048?(i[r++]=t>>6|192,i[r++]=63&t|128):55296===(64512&t)&&56320===(64512&(n=e.charCodeAt(o+1)))?(t=65536+((1023&t)<<10)+(1023&n),++o,i[r++]=t>>18|240,i[r++]=t>>12&63|128,i[r++]=t>>6&63|128,i[r++]=63&t|128):(i[r++]=t>>12|224,i[r++]=t>>6&63|128,i[r++]=63&t|128);return i}(e+=o>="a"?"\0":""),u=Cp(l,Tp);function d(e){var t=[];return t.push("$2"),o>="a"&&t.push(o),t.push("$"),a<10&&t.push("0"),t.push(a.toString()),t.push("$"),t.push(Sp(u,u.length)),t.push(Sp(e,4*Np.length-1)),t.join("")}if("undefined"==typeof n)return d(Op(c,u,a));Op(c,u,a,function(e,t){e?n(e,null):n(null,d(t))},r)}const zp={setRandomFallback:function(e){fp=e},genSaltSync:gp,genSalt:mp,hashSync:yp,hash:vp,compareSync:function(e,t){if("string"!==typeof e||"string"!==typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return 60===t.length&&bp(yp(e,t.substring(0,t.length-31)),t)},compare:function(e,t,n,r){function i(n){"string"===typeof e&&"string"===typeof t?60===t.length?vp(e,t.substring(0,29),function(e,r){e?n(e):n(null,bp(r,t))},r):xp(n.bind(this,null,!1)):xp(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!n)return new Promise(function(e,t){i(function(n,r){n?t(n):e(r)})});if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);i(n)},getRounds:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)},getSalt:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);if(60!==e.length)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)},truncates:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);return _p(e)>72},encodeBase64:function(e,t){return Sp(e,t)},decodeBase64:function(e,t){return Cp(e,t)}},Fp=()=>{const[t,n]=(0,e.useState)({id:"",password:""}),[r,i]=(0,e.useState)(""),[o,s]=(0,e.useState)(!1),a=we(),{login:l}=zt(),{staffList:u}=hp(),d={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8fafc",padding:"16px",fontFamily:"'Josefin Sans', sans-serif"},card:{backgroundColor:"white",padding:"32px",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",width:"100%",maxWidth:"448px",border:"1px solid #f1f5f9"},logoWrapper:{textAlign:"center",marginBottom:"32px"},logoBox:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"16px",margin:"0 auto 16px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",border:"1px solid #f8fafc"},logoImg:{width:"56px",height:"56px",objectFit:"contain"},title:{fontSize:"1.5rem",fontWeight:"800",color:"#003366",margin:0},subtitle:{color:"#94a3b8",fontSize:"0.875rem",marginTop:"4px",fontWeight:"500"},errorBox:{backgroundColor:"#fef2f2",color:"#dc2626",padding:"12px",borderRadius:"12px",fontSize:"0.875rem",marginBottom:"24px",display:"flex",alignItems:"center",gap:"8px",border:"1px solid #fee2e2",fontWeight:"500"},formGroup:{marginBottom:"20px"},label:{display:"block",fontSize:"0.75rem",fontWeight:"700",color:"#003366",textTransform:"uppercase",marginBottom:"6px",marginLeft:"4px"},inputWrapper:{position:"relative"},input:{width:"100%",padding:"12px 16px 12px 40px",border:"1px solid #e2e8f0",borderRadius:"12px",outline:"none",transition:"all 0.2s",backgroundColor:"white",color:"#334155",fontWeight:"500",fontSize:"1rem",boxSizing:"border-box"},icon:{position:"absolute",left:"12px",top:"14px",color:"#94a3b8",width:"20px",height:"20px"},button:{width:"100%",backgroundColor:"#003366",color:"white",fontWeight:"700",padding:"14px",borderRadius:"12px",border:"none",cursor:o?"not-allowed":"pointer",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",transition:"all 0.2s",boxShadow:"0 10px 15px -3px rgba(0, 51, 102, 0.1)",opacity:o?.7:1,fontSize:"1rem"}};return(0,Dt.jsx)("div",{style:d.container,children:(0,Dt.jsxs)("div",{style:d.card,children:[(0,Dt.jsxs)("div",{style:d.logoWrapper,children:[(0,Dt.jsx)("div",{style:d.logoBox,children:(0,Dt.jsx)("img",{src:"/BA LOGO.png",alt:"Logo",style:d.logoImg})}),(0,Dt.jsx)("h1",{style:d.title,children:"BE ABLE VN"}),(0,Dt.jsx)("p",{style:d.subtitle,children:"H\u1ec7 th\u1ed1ng Qu\u1ea3n tr\u1ecb Nh\xe2n s\u1ef1"})]}),r&&(0,Dt.jsxs)("div",{style:d.errorBox,children:[(0,Dt.jsx)("span",{children:"\u26a0\ufe0f"})," ",r]}),(0,Dt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(""),s(!0),setTimeout(()=>{try{const e=(Array.isArray(u)?u:[]).find(e=>e.username===t.id);let n=!1;if(e){const r=e.password||"";n=r.startsWith("$2")?zp.compareSync(t.password,r):r===t.password}if(e&&n){if("suspended"===e.status)return i("T\xe0i kho\u1ea3n \u0111\xe3 b\u1ecb \u0111\xecnh ch\u1ec9. Li\xean h\u1ec7 Chief Administrator."),void s(!1);l(e),["chief","reg","op","scheduler"].includes(e.role)?"scheduler"===e.role?a("/admin/task-manager"):a("/admin/staff-manager"):a("/staff/attendance")}else i("Sai t\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u!"),s(!1)}catch(e){console.error(e),i("C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng th\u1eed l\u1ea1i."),s(!1)}},600)},children:[(0,Dt.jsxs)("div",{style:d.formGroup,children:[(0,Dt.jsx)("label",{style:d.label,children:"T\xean \u0111\u0103ng nh\u1eadp / M\xe3 HV"}),(0,Dt.jsxs)("div",{style:d.inputWrapper,children:[(0,Dt.jsx)("input",{type:"text",style:d.input,placeholder:"V\xed d\u1ee5: admin, gv01...",value:t.id,onChange:e=>n(c(c({},t),{},{id:e.target.value})),required:!0}),(0,Dt.jsx)("span",{style:d.icon,children:(0,Dt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:"20",height:"20",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})})})]})]}),(0,Dt.jsxs)("div",{style:d.formGroup,children:[(0,Dt.jsx)("label",{style:d.label,children:"M\u1eadt kh\u1ea9u"}),(0,Dt.jsxs)("div",{style:d.inputWrapper,children:[(0,Dt.jsx)("input",{type:"password",style:d.input,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:t.password,onChange:e=>n(c(c({},t),{},{password:e.target.value})),required:!0}),(0,Dt.jsx)("span",{style:d.icon,children:(0,Dt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:"20",height:"20",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})})})]})]}),(0,Dt.jsx)("button",{type:"submit",disabled:o,style:d.button,children:o?(0,Dt.jsx)("span",{children:"\u0110ang x\u1eed l\xfd..."}):(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsx)("span",{children:"\u0110\u0103ng Nh\u1eadp"}),(0,Dt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",width:"16",height:"16",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})]})})]})]})})},Wp=e=>{let{active:t}=e;return(0,Dt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:t?"#003366":"#9ca3af",width:"24",height:"24",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})})},Bp=e=>{let{active:t}=e;return(0,Dt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:t?"#003366":"#9ca3af",width:"24",height:"24",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 019 9v.375M10.125 2.25A3.375 3.375 0 0113.5 5.485m1.5 0v.908l4.5 4.5m-4.5-4.5l4.5 4.5"})})},Up=e=>{let{active:t}=e;return(0,Dt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:t?"#003366":"#9ca3af",width:"24",height:"24",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})})},Hp=e=>{let{active:t}=e;return(0,Dt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:t?"#003366":"#9ca3af",width:"24",height:"24",children:[(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"}),(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"})]})},Vp=()=>(0,Dt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:"20",height:"20",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})}),qp=()=>{const{user:e,logout:t}=zt(),n=be();if(!e)return(0,Dt.jsx)(Ue,{to:"/"});const r=e=>n.pathname.includes(e),i="scheduler"===(null===e||void 0===e?void 0:e.role),o=e=>({display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",textDecoration:"none",color:r(e)?"#003366":"#4b5563",background:r(e)?"#f0f9ff":"transparent",borderRadius:"8px",marginBottom:"8px",fontWeight:r(e)?"600":"500",transition:"all 0.2s"}),s=e=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textDecoration:"none",color:r(e)?"#003366":"#9ca3af",flex:1,padding:"10px 0",borderTop:r(e)?"2px solid #003366":"2px solid transparent"});return(0,Dt.jsxs)("div",{className:"admin-layout",style:{minHeight:"100vh",background:"#f3f4f6"},children:[(0,Dt.jsx)("style",{children:"\n        /* M\u1eb7c \u0111\u1ecbnh (Desktop): Hi\u1ec7n Sidebar, \u1ea8n Bottom Nav */\n        .admin-container { display: flex; }\n        .admin-sidebar { width: 260px; height: 100vh; position: fixed; left: 0; top: 0; background: white; border-right: 1px solid #e5e7eb; display: flex; flex-direction: column; z-index: 50; }\n        .admin-content { margin-left: 260px; padding: 24px; flex: 1; }\n        .admin-bottom-nav { display: none; }\n        .admin-header-mobile { display: none; }\n\n        /* Mobile (M\xe0n h\xecnh < 768px): \u1ea8n Sidebar, Hi\u1ec7n Bottom Nav */\n        @media (max-width: 768px) {\n          .admin-container { display: block; }\n          .admin-sidebar { display: none; }\n          .admin-content { margin-left: 0; padding: 16px; padding-bottom: 80px; } /* Padding bottom \u0111\u1ec3 tr\xe1nh b\u1ecb nav che */\n          .admin-bottom-nav { display: flex; position: fixed; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); border-top: 1px solid #e5e7eb; height: 60px; z-index: 1000; justify-content: space-around; padding-bottom: env(safe-area-inset-bottom); }\n          \n          /* Header mobile \u0111\u01a1n gi\u1ea3n */\n          .admin-header-mobile { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: white; border-bottom: 1px solid #e5e7eb; position: sticky; top: 0; z-index: 100; }\n        }\n      "}),(0,Dt.jsxs)("aside",{className:"admin-sidebar",children:[(0,Dt.jsxs)("div",{style:{padding:"24px",borderBottom:"1px solid #f3f4f6",display:"flex",alignItems:"center",gap:"12px"},children:[(0,Dt.jsx)("img",{src:"/BA LOGO.png",alt:"Logo",style:{height:"32px"}}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("h2",{style:{margin:0,fontSize:"1rem",color:"#003366"},children:"Admin Portal"}),(0,Dt.jsx)("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:"Qu\u1ea3n l\xfd h\u1ec7 th\u1ed1ng"})]})]}),(0,Dt.jsxs)("nav",{style:{flex:1,padding:"24px"},children:[!i&&(0,Dt.jsxs)(Et,{to:"/admin/staff-manager",style:o("staff-manager"),children:[(0,Dt.jsx)(Wp,{active:r("staff-manager")})," ",(0,Dt.jsx)("span",{children:"Nh\xe2n s\u1ef1"})]}),(0,Dt.jsxs)(Et,{to:"/admin/task-manager",style:o("task-manager"),children:[(0,Dt.jsx)(Bp,{active:r("task-manager")})," ",(0,Dt.jsx)("span",{children:"Nhi\u1ec7m v\u1ee5"})]}),!i&&(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsxs)(Et,{to:"/admin/discipline-manager",style:o("discipline-manager"),children:[(0,Dt.jsx)(Up,{active:r("discipline-manager")})," ",(0,Dt.jsx)("span",{children:"K\u1ef7 lu\u1eadt"})]}),(0,Dt.jsxs)(Et,{to:"/admin/reports",style:o("reports"),children:[(0,Dt.jsx)(Hp,{active:r("reports")})," ",(0,Dt.jsx)("span",{children:"B\xe1o c\xe1o"})]})]})]}),(0,Dt.jsx)("div",{style:{padding:"24px",borderTop:"1px solid #f3f4f6"},children:(0,Dt.jsxs)("button",{onClick:t,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"10px",background:"#fee2e2",color:"#991b1b",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600"},children:[(0,Dt.jsx)(Vp,{})," \u0110\u0103ng xu\u1ea5t"]})})]}),(0,Dt.jsxs)("div",{className:"admin-header-mobile",children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,Dt.jsx)("img",{src:"/BA LOGO.png",alt:"Logo",style:{height:"28px"}}),(0,Dt.jsx)("span",{style:{fontWeight:"bold",color:"#003366"},children:"Admin Portal"})]}),(0,Dt.jsx)("button",{onClick:t,style:{fontSize:"0.8rem",padding:"4px 10px",background:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:"4px"},children:"Tho\xe1t"})]}),(0,Dt.jsx)("div",{className:"admin-content",children:(0,Dt.jsx)(He,{})}),(0,Dt.jsxs)("nav",{className:"admin-bottom-nav",children:[!i&&(0,Dt.jsxs)(Et,{to:"/admin/staff-manager",style:s("staff-manager"),children:[(0,Dt.jsx)(Wp,{active:r("staff-manager")}),(0,Dt.jsx)("span",{style:{fontSize:"0.65rem",marginTop:"4px",fontWeight:r("staff-manager")?"600":"500"},children:"Nh\xe2n s\u1ef1"})]}),(0,Dt.jsxs)(Et,{to:"/admin/task-manager",style:s("task-manager"),children:[(0,Dt.jsx)(Bp,{active:r("task-manager")}),(0,Dt.jsx)("span",{style:{fontSize:"0.65rem",marginTop:"4px",fontWeight:r("task-manager")?"600":"500"},children:"Nhi\u1ec7m v\u1ee5"})]}),!i&&(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsxs)(Et,{to:"/admin/discipline-manager",style:s("discipline-manager"),children:[(0,Dt.jsx)(Up,{active:r("discipline-manager")}),(0,Dt.jsx)("span",{style:{fontSize:"0.65rem",marginTop:"4px",fontWeight:r("discipline-manager")?"600":"500"},children:"K\u1ef7 lu\u1eadt"})]}),(0,Dt.jsxs)(Et,{to:"/admin/reports",style:s("reports"),children:[(0,Dt.jsx)(Hp,{active:r("reports")}),(0,Dt.jsx)("span",{style:{fontSize:"0.65rem",marginTop:"4px",fontWeight:r("reports")?"600":"500"},children:"B\xe1o c\xe1o"})]})]})]})]})},Kp=e=>{let{active:t}=e;return(0,Dt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:t?"#003366":"#9ca3af",width:"24",height:"24",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})})},$p=e=>{let{active:t}=e;return(0,Dt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:t?"#003366":"#9ca3af",width:"24",height:"24",children:[(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0119.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 004.5 10.5a7.464 7.464 0 01-1.15 3.993m1.989 3.559A11.209 11.209 0 008.25 10.5a3.75 3.75 0 117.5 0c0 .527-.021 1.049-.064 1.565m4.382-2.895A5.986 5.986 0 0122 10.5a8.288 8.288 0 01-1.7 5.23"}),(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 10.5a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z"})]})},Gp=e=>{let{active:t}=e;return(0,Dt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:t?"#003366":"#9ca3af",width:"24",height:"24",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008z"})})},Qp=e=>{let{active:t}=e;return(0,Dt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:t?"#003366":"#9ca3af",width:"24",height:"24",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5M9 11.25v1.5M12 9v3.75m3-6v6"})})},Yp=e=>{let{active:t}=e;return(0,Dt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:t?"#003366":"#9ca3af",width:"24",height:"24",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})})},Xp=()=>(0,Dt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#003366",width:"16",height:"16",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),Jp=()=>{const{user:t,logout:n}=zt(),{staffList:r,updateStaffInfo:i}=hp(),o=be(),[s,a]=(0,e.useState)(!1),[l,u]=(0,e.useState)({current:"",new:"",confirm:""});if(!t)return(0,Dt.jsx)(Ue,{to:"/"});const d=(Array.isArray(r)?r:[]).find(e=>String(e.id)===String(t.id))||t,h=Array.isArray(null===d||void 0===d?void 0:d.positions)?d.positions:[],p=e=>o.pathname===e,f=e=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textDecoration:"none",color:p(e)?"#003366":"#9ca3af",flex:1,padding:"12px 0",transition:"all 0.2s ease",borderTop:p(e)?"2px solid #003366":"2px solid transparent"});return(0,Dt.jsxs)("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh",background:"#f9fafb",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif'},children:[(0,Dt.jsxs)("header",{style:{background:"#ffffff",padding:"0 24px",height:"64px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 1px 3px 0 rgba(0,0,0,0.05)",position:"sticky",top:0,zIndex:1e3},children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Dt.jsx)("img",{src:"/BA LOGO.png",alt:"Logo",style:{height:"32px",objectFit:"contain"}}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("h1",{style:{margin:0,fontSize:"1rem",fontWeight:"600",color:"#111827",letterSpacing:"-0.025em"},children:"Be Able VN"}),(0,Dt.jsx)("span",{style:{fontSize:"0.75rem",color:"#6b7280",fontWeight:"500"},children:"Staff Portal"})]})]}),(0,Dt.jsx)("button",{onClick:n,style:{border:"1px solid #e5e7eb",background:"white",color:"#374151",padding:"6px 14px",borderRadius:"6px",cursor:"pointer",fontSize:"0.8rem",fontWeight:"500",transition:"background 0.2s"},onMouseOver:e=>e.target.style.background="#f3f4f6",onMouseOut:e=>e.target.style.background="white",children:"\u0110\u0103ng xu\u1ea5t"})]}),(0,Dt.jsxs)("main",{style:{flex:1,padding:"20px",paddingBottom:"100px",maxWidth:"600px",margin:"0 auto",width:"100%",boxSizing:"border-box"},children:[(0,Dt.jsx)("div",{style:{background:"white",padding:"24px",borderRadius:"16px",marginBottom:"24px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.05)",border:"1px solid #f3f4f6"},children:(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsxs)("div",{onClick:()=>a(!0),style:{fontSize:"1.25rem",color:"#111827",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[d.name||t.name||"Nh\xe2n vi\xean",(0,Dt.jsx)("div",{style:{background:"#f0f9ff",padding:"4px",borderRadius:"4px",display:"flex"},children:(0,Dt.jsx)(Xp,{})})]}),(0,Dt.jsx)("div",{style:{display:"flex",gap:"6px",marginTop:"10px",flexWrap:"wrap"},children:h.length>0?h.map((e,t)=>(0,Dt.jsx)("span",{style:{background:"#f3f4f6",color:"#4b5563",padding:"4px 10px",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600"},children:e},t)):(0,Dt.jsx)("span",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:"Staff"})})]}),(0,Dt.jsxs)("div",{style:{textAlign:"right"},children:[(0,Dt.jsxs)("div",{style:{fontSize:"0.75rem",color:"#6b7280",textTransform:"uppercase",marginBottom:"4px",fontWeight:"600"},children:["UBI (",(Number(d.ubi1Percent)+Number(d.ubi2Percent))/2||100,"%)"]}),(0,Dt.jsxs)("strong",{style:{color:"#059669",fontSize:"1.5rem",fontWeight:"700",letterSpacing:"-0.025em"},children:[(g=d,(Number(null===g||void 0===g?void 0:g.ubi1Base)||0)*(Number(null===g||void 0===g?void 0:g.ubi1Percent)||100)/100+(Number(null===g||void 0===g?void 0:g.ubi2Base)||0)*(Number(null===g||void 0===g?void 0:g.ubi2Percent)||100)/100).toLocaleString(),(0,Dt.jsx)("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"500",marginLeft:"3px"},children:"\u0111"})]})]})]})}),(0,Dt.jsx)(He,{})]}),s&&(0,Dt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:2e3,display:"flex",justifyContent:"center",alignItems:"center",backdropFilter:"blur(4px)"},children:(0,Dt.jsxs)("div",{style:{background:"white",padding:"32px",borderRadius:"16px",width:"90%",maxWidth:"360px",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1)"},children:[(0,Dt.jsx)("h3",{style:{marginTop:0,color:"#111827",textAlign:"center",marginBottom:"24px",fontSize:"1.25rem"},children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"}),(0,Dt.jsxs)("form",{onSubmit:e=>{e.preventDefault();const n=d.password||"";let r=!1;if(r=n.startsWith("$2")?zp.compareSync(l.current,n):String(l.current)===String(n),!r)return alert("M\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i kh\xf4ng \u0111\xfang!");if(l.new.length<1)return alert("Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u m\u1edbi.");if(l.new!==l.confirm)return alert("X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u m\u1edbi kh\xf4ng kh\u1edbp!");const o=zp.genSaltSync(10),s=zp.hashSync(l.new,o);"function"===typeof i?(i(t.id,{password:s}),alert("\u0110\u1ed5i m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng!"),a(!1),u({current:"",new:"",confirm:""})):alert("L\u1ed7i h\u1ec7 th\u1ed1ng: Kh\xf4ng t\xecm th\u1ea5y h\xe0m c\u1eadp nh\u1eadt.")},style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,Dt.jsx)("input",{type:"password",placeholder:"M\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i",required:!0,value:l.current,onChange:e=>u(c(c({},l),{},{current:e.target.value})),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",outline:"none",boxSizing:"border-box",fontSize:"0.95rem"}}),(0,Dt.jsx)("input",{type:"password",placeholder:"M\u1eadt kh\u1ea9u m\u1edbi",required:!0,value:l.new,onChange:e=>u(c(c({},l),{},{new:e.target.value})),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",outline:"none",boxSizing:"border-box",fontSize:"0.95rem"}}),(0,Dt.jsx)("input",{type:"password",placeholder:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u m\u1edbi",required:!0,value:l.confirm,onChange:e=>u(c(c({},l),{},{confirm:e.target.value})),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",outline:"none",boxSizing:"border-box",fontSize:"0.95rem"}}),(0,Dt.jsxs)("div",{style:{display:"flex",gap:"12px",marginTop:"12px"},children:[(0,Dt.jsx)("button",{type:"submit",style:{flex:1,background:"#003366",color:"white",padding:"12px",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.95rem"},children:"X\xe1c nh\u1eadn"}),(0,Dt.jsx)("button",{type:"button",onClick:()=>a(!1),style:{flex:1,background:"#f3f4f6",color:"#374151",padding:"12px",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"500",fontSize:"0.95rem"},children:"H\u1ee7y"})]})]})]})}),(0,Dt.jsxs)("nav",{style:{position:"fixed",bottom:0,left:0,right:0,background:"rgba(255,255,255,0.95)",backdropFilter:"blur(10px)",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"space-around",paddingBottom:"safe-area-inset-bottom",zIndex:1e3,height:"60px"},children:[(0,Dt.jsxs)(Et,{to:"/staff/dashboard",style:f("/staff/dashboard"),children:[(0,Dt.jsx)(Yp,{active:p("/staff/dashboard")}),(0,Dt.jsx)("span",{style:{fontSize:"0.65rem",marginTop:"4px",fontWeight:p("/staff/dashboard")?"600":"500"},children:"Th\xf4ng b\xe1o"})]}),(0,Dt.jsxs)(Et,{to:"/staff/my-tasks",style:f("/staff/my-tasks"),children:[(0,Dt.jsx)(Kp,{active:p("/staff/my-tasks")}),(0,Dt.jsx)("span",{style:{fontSize:"0.65rem",marginTop:"4px",fontWeight:p("/staff/my-tasks")?"600":"500"},children:"Nhi\u1ec7m v\u1ee5"})]}),(0,Dt.jsxs)(Et,{to:"/staff/attendance",style:f("/staff/attendance"),children:[(0,Dt.jsx)($p,{active:p("/staff/attendance")}),(0,Dt.jsx)("span",{style:{fontSize:"0.65rem",marginTop:"4px",fontWeight:p("/staff/attendance")?"600":"500"},children:"Ch\u1ea5m c\xf4ng"})]}),(0,Dt.jsxs)(Et,{to:"/staff/facility-check",style:f("/staff/facility-check"),children:[(0,Dt.jsx)(Gp,{active:p("/staff/facility-check")}),(0,Dt.jsx)("span",{style:{fontSize:"0.65rem",marginTop:"4px",fontWeight:p("/staff/facility-check")?"600":"500"},children:"CSVC"})]}),(0,Dt.jsxs)(Et,{to:"/staff/performance",style:f("/staff/performance"),children:[(0,Dt.jsx)(Qp,{active:p("/staff/performance")}),(0,Dt.jsx)("span",{style:{fontSize:"0.65rem",marginTop:"4px",fontWeight:p("/staff/performance")?"600":"500"},children:"Hi\u1ec7u su\u1ea5t"})]})]})]});var g},Zp=["newPassword"],ef=()=>(0,Dt.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),tf=()=>(0,Dt.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),nf=()=>(0,Dt.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),rf=()=>(0,Dt.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),of=()=>(0,Dt.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"#9ca3af",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})}),sf=()=>(0,Dt.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"#6b7280",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),af=()=>(0,Dt.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"#ef4444",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),lf=e=>{if(""===e||null===e||void 0===e)return 0;const t=Number(e);return isNaN(t)?0:t},cf={input:{padding:"10px 12px",border:"1px solid #e0e0e0",borderRadius:"6px",fontSize:"0.9rem",outline:"none"},filterSelect:{padding:"10px 12px",border:"1px solid #e0e0e0",borderRadius:"6px",fontSize:"0.9rem",outline:"none",background:"white",color:"#374151",minWidth:"180px"},inputFull:{padding:"8px 10px",border:"1px solid #d1d5db",borderRadius:"5px",width:"100%",boxSizing:"border-box",fontSize:"0.85rem",outline:"none"},sectionBox:{background:"#f9fafb",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb"},sectionTitle:{fontSize:"0.75rem",fontWeight:"700",color:"#003366",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},checkboxLabel:{fontSize:"0.75rem",display:"flex",alignItems:"center",gap:"4px",background:"white",padding:"4px 8px",border:"1px solid #e5e7eb",borderRadius:"4px",cursor:"pointer"},financeRow:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},financeLabel:{fontSize:"0.8rem",fontWeight:"600",color:"#4b5563",width:"90px"},btnAdd:{border:"none",borderRadius:"6px",padding:"10px 20px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontWeight:"500"},btnSave:{background:"#003366",color:"white",border:"none",borderRadius:"5px",padding:"8px",flex:1,cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",gap:"6px",fontWeight:"500",fontSize:"0.85rem"},btnCancel:{background:"#f3f4f6",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"5px",padding:"8px 15px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500"},btnEdit:{background:"white",border:"1px solid #003366",color:"#003366",borderRadius:"6px",padding:"8px 16px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"0.85rem",fontWeight:"600"},btnDelete:{background:"white",border:"1px solid #ef4444",color:"#ef4444",borderRadius:"6px",padding:"8px 16px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"0.85rem",fontWeight:"600"}},uf=()=>{const{user:t}=zt(),{staffList:n,addStaff:r,deleteStaff:o,updateStaffInfo:s}=hp(),[a,l]=(0,e.useState)({name:"",username:"",password:""}),[u,d]=(0,e.useState)(null),[h,p]=(0,e.useState)({}),[f,g]=(0,e.useState)("all"),[m,y]=(0,e.useState)(""),v=["ST","TT","CCS","CCO","CCA","FFM","FFS","FFA"];if(!("chief"===(null===t||void 0===t?void 0:t.role)))return(0,Dt.jsx)("div",{style:{padding:"20px",color:"#d32f2f"},children:"B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n truy c\u1eadp qu\u1ea3n l\xfd nh\xe2n s\u1ef1 c\u1ea5p cao."});const b=n.filter(e=>{if("admin"===f){if(["staff"].includes(e.role))return!1}else if("staff"===f&&"staff"!==e.role)return!1;if(m){if(!(e=>{if(!e)return"";const t=e.trim().split(" ");return t.length>0?t[t.length-1].toLowerCase():""})(e.name).includes(m.toLowerCase().trim()))return!1}return!0}),x=(e,t,n)=>{const r=[...h.remunerations];r[e]=c(c({},r[e]),{},{[t]:n}),p(c(c({},h),{},{remunerations:r}))},_=()=>{const e=[...h.remunerations||[],{amount:0,position:"",keywords:""}];p(c(c({},h),{},{remunerations:e}))},w=e=>{switch(e){case"chief":return"Chief Admin";case"reg":return"Regulatory Admin";case"op":return"Operational Admin";case"scheduler":return"Scheduler";default:return"Staff"}};return(0,Dt.jsxs)("div",{style:{paddingBottom:"40px"},children:[(0,Dt.jsx)("h2",{style:{color:"#003366",borderBottom:"2px solid #e5e7eb",paddingBottom:"15px",marginBottom:"20px",fontWeight:"bold",fontSize:"1.5rem"},children:"QU\u1ea2N L\xdd NH\xc2N S\u1ef0 - CHIEF"}),(0,Dt.jsxs)("div",{style:{background:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.05)",marginBottom:"25px",border:"1px solid #f0f0f0"},children:[(0,Dt.jsx)("h4",{style:{margin:"0 0 15px 0",color:"#003366",fontWeight:"600"},children:"Kh\u1edfi t\u1ea1o t\xe0i kho\u1ea3n m\u1edbi"}),(0,Dt.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!a.name||!a.username||!a.password)return;const t=zp.genSaltSync(10),n=zp.hashSync(a.password,t);r(c(c({},a),{},{password:n,role:"staff",positions:[],minWorkHours:0,ubi1Base:0,ubi1Percent:100,ubi2Base:0,ubi2Percent:100,remunerations:[],status:"active"})),l({name:"",username:"",password:""}),alert("T\u1ea1o t\xe0i kho\u1ea3n th\xe0nh c\xf4ng (M\u1eadt kh\u1ea9u \u0111\xe3 \u0111\u01b0\u1ee3c m\xe3 h\xf3a)!")},style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[(0,Dt.jsx)("input",{placeholder:"H\u1ecd v\xe0 T\xean",value:a.name,onChange:e=>l(c(c({},a),{},{name:e.target.value})),required:!0,style:c(c({},cf.input),{},{flex:"1 1 200px"})}),(0,Dt.jsx)("input",{placeholder:"ID \u0110\u0103ng nh\u1eadp",value:a.username,onChange:e=>l(c(c({},a),{},{username:e.target.value})),required:!0,style:c(c({},cf.input),{},{flex:"1 1 150px"})}),(0,Dt.jsx)("input",{placeholder:"M\u1eadt kh\u1ea9u",type:"password",value:a.password,onChange:e=>l(c(c({},a),{},{password:e.target.value})),required:!0,style:c(c({},cf.input),{},{flex:"1 1 150px"})}),(0,Dt.jsxs)("button",{type:"submit",style:c(c({},cf.btnAdd),{},{background:"#003366",color:"white",flex:"0 0 auto"}),children:[(0,Dt.jsx)(rf,{})," T\u1ea1o m\u1edbi"]})]})]}),(0,Dt.jsxs)("div",{style:{display:"flex",gap:"15px",marginBottom:"20px",flexWrap:"wrap",alignItems:"center"},children:[(0,Dt.jsxs)("select",{value:f,onChange:e=>g(e.target.value),style:c(c({},cf.filterSelect),{},{flex:"1 1 200px"}),children:[(0,Dt.jsx)("option",{value:"all",children:"T\u1ea5t c\u1ea3 t\xe0i kho\u1ea3n"}),(0,Dt.jsx)("option",{value:"admin",children:"Nh\xf3m Admin (Qu\u1ea3n tr\u1ecb)"}),(0,Dt.jsx)("option",{value:"staff",children:"Nh\xf3m Staff (Nh\xe2n vi\xean)"})]}),(0,Dt.jsxs)("div",{style:{position:"relative",flex:"1 1 200px",minWidth:"200px"},children:[(0,Dt.jsx)("input",{type:"text",placeholder:"T\xecm theo t\xean (vd: Lan, Viet...)",value:m,onChange:e=>y(e.target.value),style:c(c({},cf.input),{},{width:"100%",paddingLeft:"38px",boxSizing:"border-box"})}),(0,Dt.jsx)("div",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"},children:(0,Dt.jsx)(sf,{})})]})]}),(0,Dt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:[b.map(e=>{return(0,Dt.jsxs)("div",{style:{background:"white",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",padding:"20px",border:u===e.id?"2px solid #003366":"1px solid #f0f0f0",opacity:"suspended"===e.status&&u!==e.id?.6:1,transition:"all 0.2s ease"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"15px",borderBottom:"1px solid #f5f5f5",paddingBottom:"10px"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,Dt.jsx)("div",{style:{width:"40px",height:"40px",background:"#e6f7ff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#003366",fontWeight:"bold",fontSize:"1rem"},children:e.name.charAt(0).toUpperCase()}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("div",{style:{fontWeight:"600",color:"#111827"},children:e.name}),(0,Dt.jsxs)("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:["@",e.username]})]})]}),(0,Dt.jsx)("span",{style:{background:"#f9fafb",color:"#4b5563",padding:"4px 10px",borderRadius:"20px",fontSize:"0.75rem",height:"fit-content",fontWeight:"500",border:"1px solid #e5e7eb"},children:w(e.role)})]}),(0,Dt.jsx)("div",{style:{flex:1},children:u===e.id?(0,Dt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(0,Dt.jsxs)("div",{style:cf.sectionBox,children:[(0,Dt.jsx)("div",{style:cf.sectionTitle,children:"1. \u0110\u1ecbnh danh"}),(0,Dt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,Dt.jsx)("input",{value:h.name,onChange:e=>p(c(c({},h),{},{name:e.target.value})),placeholder:"T\xean hi\u1ec3n th\u1ecb",style:cf.inputFull}),(0,Dt.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,Dt.jsx)("input",{value:h.username,onChange:e=>p(c(c({},h),{},{username:e.target.value})),placeholder:"ID Account",style:c(c({},cf.inputFull),{},{flex:1,minWidth:"120px"})}),(0,Dt.jsxs)("div",{style:{position:"relative",width:"100%",flex:1,minWidth:"150px"},children:[(0,Dt.jsx)("input",{value:h.newPassword,onChange:e=>p(c(c({},h),{},{newPassword:e.target.value})),placeholder:"Reset m\u1eadt kh\u1ea9u...",style:c(c({},cf.inputFull),{},{paddingLeft:"28px"})}),(0,Dt.jsx)("div",{style:{position:"absolute",left:"8px",top:"50%",transform:"translateY(-50%)"},children:(0,Dt.jsx)(of,{})})]})]})]})]}),(0,Dt.jsxs)("div",{style:cf.sectionBox,children:[(0,Dt.jsx)("div",{style:cf.sectionTitle,children:"2. Quy\u1ec1n & V\u1ecb tr\xed"}),(0,Dt.jsxs)("select",{value:h.role,onChange:e=>p(c(c({},h),{},{role:e.target.value})),style:cf.inputFull,children:[(0,Dt.jsx)("option",{value:"staff",children:"Staff (Nh\xe2n vi\xean)"}),(0,Dt.jsx)("option",{value:"op",children:"Operational Admin"}),(0,Dt.jsx)("option",{value:"reg",children:"Regulatory Admin"}),(0,Dt.jsx)("option",{value:"chief",children:"Chief Admin"}),(0,Dt.jsx)("option",{value:"scheduler",children:"Scheduler (L\xean l\u1ecbch)"})]}),(0,Dt.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"8px"},children:v.map(e=>{var t;return(0,Dt.jsxs)("label",{style:cf.checkboxLabel,children:[(0,Dt.jsx)("input",{type:"checkbox",checked:null===(t=h.positions)||void 0===t?void 0:t.includes(e),onChange:()=>(e=>{const t=h.positions||[];p(c(c({},h),{},{positions:t.includes(e)?t.filter(t=>t!==e):[...t,e]}))})(e)})," ",e]},e)})}),(0,Dt.jsxs)("div",{style:{marginTop:"12px",display:"flex",alignItems:"center",justifyContent:"space-between",borderTop:"1px dashed #e5e7eb",paddingTop:"10px"},children:[(0,Dt.jsx)("span",{style:{fontSize:"0.8rem",fontWeight:"600",color:"#4b5563"},children:"S\u1ed1 gi\u1edd l\xe0m t\u1ed1i thi\u1ec3u/th\xe1ng:"}),(0,Dt.jsx)("input",{type:"number",placeholder:"0",value:h.minWorkHours||0,onChange:e=>p(c(c({},h),{},{minWorkHours:e.target.value})),style:c(c({},cf.inputFull),{},{width:"80px",textAlign:"center"})})]}),(0,Dt.jsxs)("select",{value:h.status,onChange:e=>p(c(c({},h),{},{status:e.target.value})),style:c(c({marginTop:"12px"},cf.inputFull),{},{borderColor:"suspended"===h.status?"red":"#d1d5db",color:"suspended"===h.status?"red":"inherit"}),children:[(0,Dt.jsx)("option",{value:"active",children:"Active (Ho\u1ea1t \u0111\u1ed9ng)"}),(0,Dt.jsx)("option",{value:"suspended",children:"Suspended (\u0110\xecnh ch\u1ec9)"})]})]}),(0,Dt.jsxs)("div",{style:cf.sectionBox,children:[(0,Dt.jsx)("div",{style:cf.sectionTitle,children:"3. T\xe0i ch\xednh"}),(0,Dt.jsxs)("div",{style:c(c({},cf.financeRow),{},{flexWrap:"wrap"}),children:[(0,Dt.jsx)("span",{style:cf.financeLabel,children:"UBI 1"}),(0,Dt.jsxs)("div",{style:{display:"flex",gap:"5px",flex:1,minWidth:"150px"},children:[(0,Dt.jsx)("input",{type:"number",placeholder:"VN\u0110",value:h.ubi1Base,onChange:e=>p(c(c({},h),{},{ubi1Base:e.target.value})),style:c(c({},cf.inputFull),{},{flex:2})}),(0,Dt.jsx)("input",{type:"number",placeholder:"%",value:h.ubi1Percent,onChange:e=>p(c(c({},h),{},{ubi1Percent:e.target.value})),style:c(c({},cf.inputFull),{},{flex:1})})]})]}),(0,Dt.jsxs)("div",{style:c(c({},cf.financeRow),{},{flexWrap:"wrap"}),children:[(0,Dt.jsx)("span",{style:cf.financeLabel,children:"UBI 2"}),(0,Dt.jsxs)("div",{style:{display:"flex",gap:"5px",flex:1,minWidth:"150px"},children:[(0,Dt.jsx)("input",{type:"number",placeholder:"VN\u0110",value:h.ubi2Base,onChange:e=>p(c(c({},h),{},{ubi2Base:e.target.value})),style:c(c({},cf.inputFull),{},{flex:2})}),(0,Dt.jsx)("input",{type:"number",placeholder:"%",value:h.ubi2Percent,onChange:e=>p(c(c({},h),{},{ubi2Percent:e.target.value})),style:c(c({},cf.inputFull),{},{flex:1})})]})]}),(0,Dt.jsx)("div",{style:{height:"1px",background:"#e5e7eb",margin:"10px 0"}}),(0,Dt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Dt.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#4b5563"},children:"Remuneration (Theo vi\u1ec7c)"}),(0,Dt.jsx)("button",{type:"button",onClick:_,style:{fontSize:"0.75rem",color:"#003366",background:"white",border:"1px solid #003366",borderRadius:"4px",padding:"4px 8px",cursor:"pointer",fontWeight:"bold"},children:"+ TH\xcaM R"})]}),h.remunerations&&h.remunerations.map((e,t)=>(0,Dt.jsxs)("div",{style:{display:"flex",gap:"5px",flexWrap:"wrap",alignItems:"center",background:"white",padding:"8px",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[(0,Dt.jsxs)("span",{style:{fontSize:"0.75rem",color:"#6b7280",fontWeight:"bold",minWidth:"20px"},children:["R",t+1]}),(0,Dt.jsxs)("div",{style:{display:"flex",gap:"5px",flex:"1 1 140px"},children:[(0,Dt.jsx)("input",{type:"number",placeholder:"VN\u0110/Gi\u1edd",value:e.amount,onChange:e=>x(t,"amount",e.target.value),style:c(c({},cf.inputFull),{},{flex:1.5})}),(0,Dt.jsxs)("select",{value:e.position,onChange:e=>x(t,"position",e.target.value),style:c(c({},cf.inputFull),{},{flex:1,padding:"8px 2px"}),children:[(0,Dt.jsx)("option",{value:"",children:"--"}),v.map(e=>(0,Dt.jsx)("option",{value:e,children:e},e))]})]}),(0,Dt.jsx)("input",{placeholder:"Keywords",value:e.keywords,onChange:e=>x(t,"keywords",e.target.value),style:c(c({},cf.inputFull),{},{flex:"1 1 100%",minWidth:"100px"})}),(0,Dt.jsx)("button",{type:"button",onClick:()=>(e=>{const t=[...h.remunerations];t.splice(e,1),p(c(c({},h),{},{remunerations:t}))})(t),style:{border:"none",background:"none",cursor:"pointer",padding:"4px",color:"#ef4444"},title:"X\xf3a",children:(0,Dt.jsx)(af,{})})]},t)),(!h.remunerations||0===h.remunerations.length)&&(0,Dt.jsx)("div",{style:{fontSize:"0.8rem",color:"#9ca3af",fontStyle:"italic",textAlign:"center",padding:"10px"},children:"Ch\u01b0a c\xf3 c\u1ea5u h\xecnh Remuneration."})]})]}),(0,Dt.jsxs)("div",{style:{display:"flex",gap:"8px",marginTop:"5px"},children:[(0,Dt.jsxs)("button",{onClick:()=>(async e=>{try{const{newPassword:t}=h,n=c({},i(h,Zp));if(t&&""!==t.trim()){const e=zp.genSaltSync(10);n.password=zp.hashSync(t,e)}n.minWorkHours=lf(n.minWorkHours),n.ubi1Base=lf(n.ubi1Base),n.ubi1Percent=lf(n.ubi1Percent),n.ubi2Base=lf(n.ubi2Base),n.ubi2Percent=lf(n.ubi2Percent),Array.isArray(n.remunerations)?n.remunerations=n.remunerations.map(e=>c(c({},e),{},{amount:lf(e.amount)})):n.remunerations=[],await s(e,n),d(null),p({}),alert("C\u1eadp nh\u1eadt th\xf4ng tin th\xe0nh c\xf4ng!")}catch(ji){console.error("L\u1ed7i khi l\u01b0u:",ji),alert("C\xf3 l\u1ed7i x\u1ea3y ra: "+ji.message)}})(e.id),style:cf.btnSave,children:[(0,Dt.jsx)(tf,{})," L\u01b0u thay \u0111\u1ed5i"]}),(0,Dt.jsx)("button",{onClick:()=>d(null),style:cf.btnCancel,children:"H\u1ee7y"})]})]}):(0,Dt.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"space-between"},children:[(0,Dt.jsxs)("div",{style:{fontSize:"0.9rem",color:"#4b5563"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Dt.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px",minHeight:"24px"},children:e.positions&&e.positions.length>0?e.positions.map(e=>(0,Dt.jsx)("span",{style:{fontSize:"0.75rem",background:"#f3f4f6",color:"#1f2937",padding:"3px 8px",borderRadius:"4px",border:"1px solid #e5e7eb"},children:e},e)):(0,Dt.jsx)("span",{style:{fontSize:"0.75rem",color:"#9ca3af",fontStyle:"italic"},children:"Ch\u01b0a x\xe9t v\u1ecb tr\xed"})}),(0,Dt.jsxs)("div",{style:{fontSize:"0.75rem",background:"#fffbeb",color:"#d97706",padding:"3px 8px",borderRadius:"4px",border:"1px solid #fde68a",fontWeight:"600"},children:["Min: ",e.minWorkHours||0,"h"]})]}),(0,Dt.jsxs)("div",{style:{marginTop:"15px",padding:"10px",background:"#f9fafb",borderRadius:"6px",border:"1px solid #f3f4f6"},children:[(0,Dt.jsx)("div",{style:{fontSize:"0.7rem",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"4px"},children:"T\u1ed5ng UBI (C\u1ed1 \u0111\u1ecbnh)"}),(0,Dt.jsxs)("div",{style:{color:"#059669",fontWeight:"700",fontSize:"1.1rem"},children:[(t=e,lf(t.ubi1Base)*lf(t.ubi1Percent)/100+lf(t.ubi2Base)*lf(t.ubi2Percent)/100).toLocaleString()," ",(0,Dt.jsx)("span",{style:{fontSize:"0.75rem",color:"#374151",fontWeight:"400"},children:"VN\u0110"})]}),(0,Dt.jsxs)("div",{style:{marginTop:"10px",borderTop:"1px dashed #e5e7eb",paddingTop:"8px"},children:[(0,Dt.jsx)("div",{style:{fontSize:"0.7rem",color:"#6b7280",marginBottom:"4px"},children:"Remuneration (Theo vi\u1ec7c):"}),e.remunerations&&e.remunerations.length>0?e.remunerations.map((e,t)=>e.amount>0&&(0,Dt.jsxs)("div",{style:{fontSize:"0.75rem",display:"flex",justifyContent:"space-between",color:"#374151",marginBottom:"2px"},children:[(0,Dt.jsxs)("span",{children:[(0,Dt.jsxs)("b",{style:{color:"#003366"},children:["R",t+1,":"]})," ",Number(e.amount).toLocaleString(),"/h"]}),(0,Dt.jsxs)("span",{style:{color:"#6b7280",fontStyle:"italic"},children:[e.position," / ",e.keywords||"All"]})]},t)):(0,Dt.jsx)("div",{style:{fontSize:"0.75rem",color:"#9ca3af",fontStyle:"italic"},children:"Ch\u01b0a c\u1ea5u h\xecnh m\u1ee9c th\xf9 lao"})]})]})]}),(0,Dt.jsxs)("div",{style:{marginTop:"20px",paddingTop:"15px",borderTop:"1px solid #f3f4f6",display:"flex",justifyContent:"flex-end",gap:"10px"},children:[(0,Dt.jsxs)("button",{onClick:()=>(e=>{d(e.id);const t=Array.isArray(e.remunerations)?e.remunerations:[];p(c(c({},e),{},{newPassword:"",remunerations:t}))})(e),style:cf.btnEdit,children:[(0,Dt.jsx)(ef,{})," \u0110i\u1ec1u ch\u1ec9nh"]}),(0,Dt.jsxs)("button",{onClick:()=>{window.confirm("X\xf3a nh\xe2n s\u1ef1 n\xe0y?")&&o(e.id)},style:cf.btnDelete,children:[(0,Dt.jsx)(nf,{})," X\xf3a"]})]})]})})]},e.id);var t}),0===b.length&&(0,Dt.jsx)("div",{style:{textAlign:"center",gridColumn:"1/-1",color:"#9ca3af",padding:"20px"},children:"Kh\xf4ng t\xecm th\u1ea5y nh\xe2n s\u1ef1 ph\xf9 h\u1ee3p."})]})]})},df=(e,t)=>e.toDateString()===t.toDateString(),hf=(e,t)=>e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear(),pf=(e,t)=>{const n=new Date(t);n.setHours(0,0,0,0),n.setDate(n.getDate()-n.getDay()+1);const r=new Date(n);return r.setDate(r.getDate()+6),e>=n&&e<=r},ff=e=>{if(!e)return"";const t=new Date(e);return new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().slice(0,16)},gf=()=>(0,Dt.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"#003366",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),mf=()=>(0,Dt.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"#003366",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})}),yf=()=>(0,Dt.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})}),vf=()=>(0,Dt.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),bf={formContainer:{background:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.05)",marginBottom:"25px",border:"1px solid #f0f0f0"},formGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px"},input:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #ccc",marginTop:"5px",boxSizing:"border-box"},select:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #ccc",marginTop:"5px",background:"white"},filterSelect:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #d1d5db",outline:"none",color:"#374151",cursor:"pointer",background:"white"},label:{fontSize:"0.8rem",fontWeight:"bold",color:"#555"},btnSubmit:{gridColumn:"1 / -1",padding:"12px",background:"#003366",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},menuCard:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",border:"1px solid #e5e7eb",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"160px"},iconBox:{width:"36px",height:"36px",background:"#e0f2fe",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#003366"},cardTitle:{margin:0,fontSize:"1rem",fontWeight:"600",color:"#1f2937"},accessBtn:{marginTop:"auto",background:"#003366",color:"white",border:"none",padding:"10px 16px",borderRadius:"8px",cursor:"pointer",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background 0.2s"},backBtn:{background:"#fef2f2",color:"#ef4444",border:"1px solid #fecaca",padding:"6px 12px",borderRadius:"8px",cursor:"pointer",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"}},xf=()=>{const{user:t}=zt(),{tasks:n,addTask:r,deleteTask:i,updateTask:o,staffList:s,disciplineTypes:a,schedules:l,addSchedule:u,deleteSchedule:d,updateSchedule:h}=hp(),p=a.filter(e=>"Active"===e.status),f="scheduler"===(null===t||void 0===t?void 0:t.role),g=["chief","reg","op"].includes(null===t||void 0===t?void 0:t.role),[m,y]=(0,e.useState)("overview"),[v,b]=(0,e.useState)({title:"",assigneeId:"",description:"",startTime:"",endTime:"",assignedRole:"ST",paymentType:"",disciplineId:""}),[x,_]=(0,e.useState)({repeatWeeks:1,days:[]}),[w,k]=(0,e.useState)(null),[S,C]=(0,e.useState)(null),[T,E]=(0,e.useState)({}),[j,I]=(0,e.useState)("all"),[R,P]=(0,e.useState)("all"),[N,L]=(0,e.useState)("all"),[A,D]=(0,e.useState)("all"),[O,M]=(0,e.useState)("all"),[z,F]=(0,e.useState)("all"),[W,B]=(0,e.useState)("all"),[U,H]=(0,e.useState)("all"),[V,q]=(0,e.useState)(""),K=[{key:"Mon",label:"T2",val:1},{key:"Tue",label:"T3",val:2},{key:"Wed",label:"T4",val:3},{key:"Thu",label:"T5",val:4},{key:"Fri",label:"T6",val:5},{key:"Sat",label:"T7",val:6},{key:"Sun",label:"CN",val:0}],$=(e,t)=>{const n=new Date(e),r=new Date(t),i=n.toLocaleDateString("vi-VN"),o="".concat(n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ").concat(r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}));return(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("div",{style:{fontWeight:"bold",fontSize:"0.85rem"},children:i}),(0,Dt.jsx)("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:o})]})},G=(e,t)=>{const n=new Date(e),r=new Date(t);return"".concat(n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ").concat(r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},Q=(e,t)=>{const{startTime:n,endTime:i,repeatWeeks:o,repeatDays:s}=e,a=new Date(n),l=new Date(i)-a,c=K.filter(e=>s.includes(e.key)).map(e=>e.val);for(let u=0;u<o;u++)for(let n=0;n<7;n++){const i=new Date(a);if(i.setDate(a.getDate()+7*u+n),c.includes(i.getDay())){const n=new Date(i),o=new Date(n.getTime()+l),s={title:e.title,assigneeId:e.assigneeId,assigneeName:e.assigneeName,description:e.description,assignedRole:e.assignedRole,startTime:n.toISOString(),endTime:o.toISOString(),paymentType:"Theo l\u1ecbch",disciplineId:"",disciplineName:"",deadline:o.toISOString(),fromScheduleId:t,generatedDate:(new Date).toISOString()};r(s)}}},Y=e=>{n.filter(t=>t.fromScheduleId===e).forEach(e=>i(e.id))},X=e=>{if(e.preventDefault(),!v.title||!v.assigneeId||!v.endTime)return alert("Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ee7 th\xf4ng tin!");if(0===x.days.length)return alert("Vui l\xf2ng ch\u1ecdn \xedt nh\u1ea5t m\u1ed9t ng\xe0y trong tu\u1ea7n!");const n=s.find(e=>e.id===v.assigneeId),r=c(c({},v),{},{assigneeName:n?n.name:"Unknown",paymentType:null,disciplineId:null,disciplineName:null,repeatWeeks:Number(x.repeatWeeks),repeatDays:x.days,createdBy:t.username});if(f&&w)h(w,{request:{type:"edit",reason:"\u0110i\u1ec1u ch\u1ec9nh th\xf4ng tin",draftData:r,requestedBy:t.username,requestedAt:(new Date).toISOString()}}),alert("\u0110\xe3 g\u1eedi y\xeau c\u1ea7u \u0111i\u1ec1u ch\u1ec9nh. Admin s\u1ebd xem x\xe9t v\xe0 ph\xea duy\u1ec7t.");else{const e=u(r);Q(r,e),alert("\u0110\xe3 l\xean l\u1ecbch v\xe0 t\u1ea1o tasks cho ".concat(r.assigneeName,"!"))}b({title:"",assigneeId:"",description:"",startTime:"",endTime:"",assignedRole:"ST",paymentType:"",disciplineId:""}),_({repeatWeeks:1,days:[]}),k(null)},J=e=>{window.confirm("X\xf3a nhi\u1ec7m v\u1ee5 n\xe0y?")&&i(e)},Z=e=>{_(t=>{const n=t.days.includes(e);return c(c({},t),{},{days:n?t.days.filter(t=>t!==e):[...t.days,e]})})},ee=()=>{if(!T.title||!T.assigneeId||!T.startTime||!T.endTime)return alert("Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ee7 th\xf4ng tin!");const e=s.find(e=>e.id===T.assigneeId);o(S,{title:T.title,assigneeId:T.assigneeId,assigneeName:e?e.name:"Unknown",assignedRole:T.assignedRole,startTime:new Date(T.startTime).toISOString(),endTime:new Date(T.endTime).toISOString()}),C(null)},te=l.filter(e=>{const t="all"===j||e.assigneeId===j,n="all"===R||e.repeatDays&&e.repeatDays.includes(R);return t&&n}),ne=n.filter(e=>!e.fromScheduleId).filter(e=>{const t=new Date(e.startTime),n=new Date,r="all"===N||e.assigneeId===N;let i=!0;if("all"!==A){var o;const e=null===(o=K.find(e=>e.key===A))||void 0===o?void 0:o.val;i=t.getDay()===e}let s=!0;return"day"===O?s=df(t,n):"week"===O?s=pf(t,n):"month"===O&&(s=hf(t,n)),r&&i&&s}),re=l.filter(e=>{if(!V.trim())return!0;const t=V.toLowerCase(),n=e.title&&e.title.toLowerCase().includes(t),r=e.assigneeName&&e.assigneeName.toLowerCase().includes(t);return n||r}),ie=n.filter(e=>e.fromScheduleId).filter(e=>{const t=new Date(e.startTime),n=new Date,r="all"===z||e.assigneeId===z;let i=!0;if("all"!==W){var o;const e=null===(o=K.find(e=>e.key===W))||void 0===o?void 0:o.val;i=t.getDay()===e}let s=!0;return"day"===U?s=df(t,n):"week"===U?s=pf(t,n):"month"===U&&(s=hf(t,n)),r&&i&&s});return(0,Dt.jsxs)("div",{style:{paddingBottom:"20px"},children:[(0,Dt.jsx)("h2",{style:{color:"#003366",borderBottom:"2px solid #e5e7eb",paddingBottom:"15px",marginBottom:"20px",fontWeight:"bold",fontSize:"1.5rem"},children:f?"L\xcaN L\u1ecaCH C\xd4NG T\xc1C (SCHEDULER)":"QU\u1ea2N L\xdd NHI\u1ec6M V\u1ee4 - OPERATIONS"}),g&&l.some(e=>e.request)&&(0,Dt.jsxs)("div",{style:{background:"#fff7ed",padding:"20px",borderRadius:"16px",border:"1px solid #fed7aa",marginBottom:"24px"},children:[(0,Dt.jsx)("h4",{style:{color:"#c2410c",marginTop:0},children:"\u26a0\ufe0f Y\xeau c\u1ea7u \u0111i\u1ec1u ch\u1ec9nh t\u1eeb Scheduler"}),(0,Dt.jsx)("div",{style:{overflowX:"auto"},children:(0,Dt.jsxs)("table",{style:{width:"100%",fontSize:"0.9rem",borderCollapse:"collapse",minWidth:"600px"},children:[(0,Dt.jsx)("thead",{children:(0,Dt.jsxs)("tr",{style:{textAlign:"left",color:"#9a3412"},children:[(0,Dt.jsx)("th",{children:"Scheduler"}),(0,Dt.jsx)("th",{children:"L\u1ecbch tr\xecnh"}),(0,Dt.jsx)("th",{children:"Lo\u1ea1i y\xeau c\u1ea7u"}),(0,Dt.jsx)("th",{children:"L\xfd do"}),(0,Dt.jsx)("th",{children:"H\xe0nh \u0111\u1ed9ng"})]})}),(0,Dt.jsx)("tbody",{children:l.filter(e=>e.request).map(e=>(0,Dt.jsxs)("tr",{style:{borderTop:"1px solid #ffedd5"},children:[(0,Dt.jsx)("td",{style:{padding:"8px"},children:e.request.requestedBy}),(0,Dt.jsx)("td",{children:e.title}),(0,Dt.jsx)("td",{children:(0,Dt.jsx)("span",{style:{padding:"2px 8px",borderRadius:"4px",fontWeight:"bold",fontSize:"0.8rem",background:"delete"===e.request.type?"#fee2e2":"#dbeafe",color:"delete"===e.request.type?"#991b1b":"#1e40af"},children:"delete"===e.request.type?"XIN X\xd3A":"XIN S\u1eecA"})}),(0,Dt.jsx)("td",{children:e.request.reason}),(0,Dt.jsxs)("td",{children:[(0,Dt.jsx)("button",{onClick:()=>(e=>{const{request:t}=e;if(t&&window.confirm('X\xe1c nh\u1eadn ph\xea duy\u1ec7t y\xeau c\u1ea7u "'.concat(t.type,'" c\u1ee7a ').concat(t.requestedBy,"?")))if(Y(e.id),"delete"===t.type)d(e.id);else if("edit"===t.type){const n=c(c({},t.draftData),{},{request:null});h(e.id,n),Q(n,e.id)}})(e),style:{marginRight:"8px",cursor:"pointer",background:"#16a34a",color:"white",border:"none",padding:"4px 10px",borderRadius:"4px"},children:"Duy\u1ec7t"}),(0,Dt.jsx)("button",{onClick:()=>(e=>{const t=window.prompt("L\xfd do t\u1eeb ch\u1ed1i (t\xf9y ch\u1ecdn):");window.confirm("T\u1eeb ch\u1ed1i y\xeau c\u1ea7u n\xe0y?")&&h(e.id,{request:null,rejectionReason:t||""})})(e),style:{cursor:"pointer",background:"#dc2626",color:"white",border:"none",padding:"4px 10px",borderRadius:"4px"},children:"T\u1eeb ch\u1ed1i"})]})]},e.id))})]})})]}),f?(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsxs)("div",{style:bf.formContainer,children:[(0,Dt.jsx)("h4",{style:{margin:"0 0 15px 0",color:"#003366",fontWeight:"600"},children:w?"\u0110ang so\u1ea1n y\xeau c\u1ea7u \u0111i\u1ec1u ch\u1ec9nh":"L\xean l\u1ecbch c\xf4ng t\xe1c m\u1edbi"}),(0,Dt.jsxs)("form",{onSubmit:X,style:bf.formGrid,children:[(0,Dt.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,Dt.jsx)("label",{style:bf.label,children:"Ti\xeau \u0111\u1ec1 c\xf4ng vi\u1ec7c"}),(0,Dt.jsx)("input",{value:v.title,onChange:e=>b(c(c({},v),{},{title:e.target.value})),style:bf.input,required:!0})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{style:bf.label,children:"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n"}),(0,Dt.jsxs)("select",{value:v.assigneeId,onChange:e=>b(c(c({},v),{},{assigneeId:e.target.value})),style:bf.select,required:!0,children:[(0,Dt.jsx)("option",{value:"",children:"-- Ch\u1ecdn nh\xe2n s\u1ef1 --"}),s.map(e=>(0,Dt.jsxs)("option",{value:e.id,children:[e.name," (",e.role,")"]},e.id))]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{style:bf.label,children:"Vai tr\xf2 th\u1ef1c hi\u1ec7n"}),(0,Dt.jsx)("select",{value:v.assignedRole,onChange:e=>b(c(c({},v),{},{assignedRole:e.target.value})),style:bf.select,children:["ST","TT","CCS","CCO","CCA","FFM","FFS","FFA"].map(e=>(0,Dt.jsx)("option",{value:e,children:e},e))})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{style:bf.label,children:"B\u1eaft \u0111\u1ea7u (Check-in)"}),(0,Dt.jsx)("input",{type:"datetime-local",value:v.startTime,onChange:e=>b(c(c({},v),{},{startTime:e.target.value})),style:bf.input,required:!0})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{style:bf.label,children:"K\u1ebft th\xfac (Check-out)"}),(0,Dt.jsx)("input",{type:"datetime-local",value:v.endTime,onChange:e=>b(c(c({},v),{},{endTime:e.target.value})),style:bf.input,required:!0})]}),(0,Dt.jsxs)("div",{style:{gridColumn:"1 / -1",background:"#f9fafb",padding:"15px",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,Dt.jsx)("h5",{style:{margin:"0 0 10px 0",fontSize:"0.9rem",color:"#003366"},children:"C\u1ea5u h\xecnh l\u1eb7p l\u1ea1i"}),(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px",flexWrap:"wrap"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Dt.jsx)("label",{style:bf.label,children:"S\u1ed1 tu\u1ea7n l\u1eb7p l\u1ea1i:"}),(0,Dt.jsx)("input",{type:"number",min:"1",max:"52",value:x.repeatWeeks,onChange:e=>_(c(c({},x),{},{repeatWeeks:e.target.value})),style:c(c({},bf.input),{},{width:"100px"})})]}),(0,Dt.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Dt.jsx)("label",{style:bf.label,children:"Ch\u1ecdn th\u1ee9 trong tu\u1ea7n:"}),(0,Dt.jsx)("div",{style:{display:"flex",gap:"8px",marginTop:"5px",flexWrap:"wrap"},children:K.map(e=>(0,Dt.jsx)("div",{onClick:()=>Z(e.key),style:{width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",cursor:"pointer",fontWeight:"bold",border:"1px solid #d1d5db",background:x.days.includes(e.key)?"#003366":"white",color:x.days.includes(e.key)?"white":"#6b7280"},children:e.label},e.key))})]})]})]}),(0,Dt.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,Dt.jsx)("label",{style:bf.label,children:"M\xf4 t\u1ea3 chi ti\u1ebft"}),(0,Dt.jsx)("textarea",{value:v.description,onChange:e=>b(c(c({},v),{},{description:e.target.value})),style:c(c({},bf.input),{},{height:"80px"})})]}),(0,Dt.jsx)("button",{type:"submit",style:bf.btnSubmit,children:w?"G\u1eedi y\xeau c\u1ea7u \u0111i\u1ec1u ch\u1ec9nh":"L\u01b0u l\u1ecbch & T\u1ea1o Tasks"}),w&&(0,Dt.jsx)("button",{type:"button",onClick:()=>{k(null),b({title:"",assigneeId:"",description:"",startTime:"",endTime:"",assignedRole:"ST",paymentType:"",disciplineId:""}),_({repeatWeeks:1,days:[]})},style:c(c({},bf.btnSubmit),{},{background:"#9ca3af",marginTop:"-10px"}),children:"H\u1ee7y thao t\xe1c"})]})]}),(0,Dt.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"16px"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px",marginBottom:"15px"},children:[(0,Dt.jsx)("h4",{style:{margin:0},children:"Danh s\xe1ch l\u1ecbch \u0111\xe3 thi\u1ebft l\u1eadp"}),(0,Dt.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,Dt.jsxs)("select",{value:j,onChange:e=>I(e.target.value),style:bf.filterSelect,children:[(0,Dt.jsx)("option",{value:"all",children:"T\u1ea5t c\u1ea3 nh\xe2n s\u1ef1"}),s.map(e=>(0,Dt.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Dt.jsxs)("select",{value:R,onChange:e=>P(e.target.value),style:bf.filterSelect,children:[(0,Dt.jsx)("option",{value:"all",children:"T\u1ea5t c\u1ea3 c\xe1c ng\xe0y"}),K.map(e=>(0,Dt.jsx)("option",{value:e.key,children:e.label},e.key))]})]})]}),(0,Dt.jsx)("div",{style:{overflowX:"auto"},children:(0,Dt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem",minWidth:"700px"},children:[(0,Dt.jsx)("thead",{children:(0,Dt.jsxs)("tr",{style:{textAlign:"left",borderBottom:"1px solid #eee",background:"#f9fafb",color:"#6b7280"},children:[(0,Dt.jsx)("th",{style:{padding:"12px",width:"50px"},children:"STT"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"Ti\xeau \u0111\u1ec1"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"Th\u1eddi gian"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"L\u1eb7p l\u1ea1i"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"C\xe1c ng\xe0y"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"Thao t\xe1c"})]})}),(0,Dt.jsxs)("tbody",{children:[te.map((e,n)=>{var r;return(0,Dt.jsxs)("tr",{style:{borderBottom:"1px solid #f9f9f9",background:e.request?"#fefce8":"transparent"},children:[(0,Dt.jsx)("td",{style:{padding:"12px",textAlign:"center",fontWeight:"bold",color:"#9ca3af"},children:n+1}),(0,Dt.jsxs)("td",{style:{padding:"12px"},children:[(0,Dt.jsx)("strong",{children:e.title}),(0,Dt.jsxs)("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:[null===(r=e.description)||void 0===r?void 0:r.substring(0,30),"..."]}),e.request&&(0,Dt.jsxs)("div",{style:{fontSize:"0.7rem",color:"#d97706",fontWeight:"bold",marginTop:"4px"},children:["\u23f3 \u0110ang ch\u1edd duy\u1ec7t: ","delete"===e.request.type?"X\xd3A":"S\u1eecA"]})]}),(0,Dt.jsx)("td",{style:{padding:"12px",color:"#003366",fontWeight:"600"},children:G(e.startTime,e.endTime)}),(0,Dt.jsxs)("td",{style:{padding:"12px"},children:[e.assigneeName," (",e.assignedRole,")"]}),(0,Dt.jsxs)("td",{style:{padding:"12px"},children:[e.repeatWeeks," tu\u1ea7n"]}),(0,Dt.jsx)("td",{style:{padding:"12px"},children:(0,Dt.jsx)("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:e.repeatDays&&e.repeatDays.map(e=>(0,Dt.jsx)("span",{style:{fontSize:"0.7rem",background:"#e5e7eb",padding:"2px 6px",borderRadius:"4px"},children:e},e))})}),(0,Dt.jsx)("td",{style:{padding:"12px"},children:e.request?(0,Dt.jsx)("span",{style:{fontSize:"0.8rem",color:"#9ca3af",fontStyle:"italic"},children:"\u0110\xe3 g\u1eedi y\xeau c\u1ea7u"}):(0,Dt.jsx)("button",{onClick:()=>(e=>{const n=window.prompt("B\u1ea1n mu\u1ed1n th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng g\xec?\n- Nh\u1eadp 'delete' \u0111\u1ec3 xin X\xd3A\n- Nh\u1eadp 'edit' \u0111\u1ec3 xin S\u1eecA");if(n)if("delete"===n.toLowerCase()){const n=window.prompt("Vui l\xf2ng nh\u1eadp l\xfd do mu\u1ed1n x\xf3a (B\u1eaft bu\u1ed9c):");if(!n||""===n.trim())return alert("B\u1eaft bu\u1ed9c ph\u1ea3i c\xf3 l\xfd do \u0111\u1ec3 xin x\xf3a!");h(e.id,{request:{type:"delete",reason:n,requestedBy:t.username,requestedAt:(new Date).toISOString()}}),alert("\u0110\xe3 g\u1eedi y\xeau c\u1ea7u x\xf3a. Vui l\xf2ng \u0111\u1ee3i Admin ph\xea duy\u1ec7t.")}else"edit"===n.toLowerCase()?(k(e.id),b({title:e.title,assigneeId:e.assigneeId,description:e.description,startTime:e.startTime,endTime:e.endTime,assignedRole:e.assignedRole,paymentType:"",disciplineId:""}),_({repeatWeeks:e.repeatWeeks,days:e.repeatDays||[]}),window.scrollTo({top:0,behavior:"smooth"}),alert("D\u1eef li\u1ec7u \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea3i l\xean form. H\xe3y ch\u1ec9nh s\u1eeda v\xe0 nh\u1ea5n n\xfat 'G\u1eedi y\xeau c\u1ea7u \u0111i\u1ec1u ch\u1ec9nh'.")):alert("L\u1ec7nh kh\xf4ng h\u1ee3p l\u1ec7. Vui l\xf2ng nh\u1eadp 'delete' ho\u1eb7c 'edit'.")})(e),style:{color:"#003366",border:"1px solid #003366",background:"white",cursor:"pointer",fontWeight:"600",padding:"4px 8px",borderRadius:"6px",fontSize:"0.8rem",whiteSpace:"nowrap"},children:"Xin \u0111i\u1ec1u ch\u1ec9nh"})})]},e.id)}),0===te.length&&(0,Dt.jsx)("tr",{children:(0,Dt.jsx)("td",{colSpan:"7",style:{padding:"30px",textAlign:"center",color:"#9ca3af",fontStyle:"italic"},children:"Kh\xf4ng t\xecm th\u1ea5y l\u1ecbch ph\xf9 h\u1ee3p."})})]})]})})]})]}):(0,Dt.jsxs)(Dt.Fragment,{children:["overview"===m&&(0,Dt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[(0,Dt.jsxs)("div",{style:bf.menuCard,children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},children:[(0,Dt.jsx)("div",{style:bf.iconBox,children:(0,Dt.jsx)(gf,{})}),(0,Dt.jsx)("h3",{style:bf.cardTitle,children:"1. Giao nhi\u1ec7m v\u1ee5 (TASK+)"})]}),(0,Dt.jsx)("div",{style:{color:"#6b7280",fontSize:"0.9rem",marginBottom:"20px"},children:"Thi\u1ebft l\u1eadp vi\u1ec7c m\u1edbi & M\u1ee9c k\u1ef7 lu\u1eadt."}),(0,Dt.jsxs)("button",{onClick:()=>{y("create_task"),b({title:"",assigneeId:"",description:"",startTime:"",endTime:"",assignedRole:"ST",paymentType:"",disciplineId:""})},style:bf.accessBtn,children:["Truy c\u1eadp ",(0,Dt.jsx)(yf,{})]})]}),(0,Dt.jsxs)("div",{style:bf.menuCard,children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},children:[(0,Dt.jsx)("div",{style:bf.iconBox,children:(0,Dt.jsx)(mf,{})}),(0,Dt.jsx)("h3",{style:bf.cardTitle,children:"2. L\xean l\u1ecbch c\xf4ng t\xe1c \u0111\u1ecbnh k\u1ef3"})]}),(0,Dt.jsx)("div",{style:{color:"#6b7280",fontSize:"0.9rem",marginBottom:"20px"},children:"Kh\u1edfi t\u1ea1o l\u1ecbch l\xe0m vi\u1ec7c l\u1eb7p l\u1ea1i."}),(0,Dt.jsxs)("button",{onClick:()=>{y("create_schedule"),k(null),b({title:"",assigneeId:"",description:"",startTime:"",endTime:"",assignedRole:"ST",paymentType:"",disciplineId:""}),_({repeatWeeks:1,days:[]})},style:bf.accessBtn,children:["Truy c\u1eadp ",(0,Dt.jsx)(yf,{})]})]}),(0,Dt.jsxs)("div",{style:bf.menuCard,children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},children:[(0,Dt.jsx)("div",{style:bf.iconBox,children:(0,Dt.jsx)(gf,{})}),(0,Dt.jsx)("h3",{style:bf.cardTitle,children:"3. Qu\u1ea3n l\xfd nhi\u1ec7m v\u1ee5 (TASK+)"})]}),(0,Dt.jsx)("div",{style:{color:"#6b7280",fontSize:"0.9rem",marginBottom:"20px"},children:"Theo d\xf5i ti\u1ebfn \u0111\u1ed9 vi\u1ec7c l\u1ebb."}),(0,Dt.jsxs)("button",{onClick:()=>y("manage_tasks"),style:bf.accessBtn,children:["Truy c\u1eadp ",(0,Dt.jsx)(yf,{})]})]}),(0,Dt.jsxs)("div",{style:bf.menuCard,children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},children:[(0,Dt.jsx)("div",{style:bf.iconBox,children:(0,Dt.jsx)(mf,{})}),(0,Dt.jsx)("h3",{style:bf.cardTitle,children:"4. Qu\u1ea3n l\xfd c\xf4ng t\xe1c \u0111\u1ecbnh k\u1ef3"})]}),(0,Dt.jsx)("div",{style:{color:"#6b7280",fontSize:"0.9rem",marginBottom:"20px"},children:"Qu\u1ea3n l\xfd l\u1ecbch g\u1ed1c & C\xe1c ca th\u1ef1c t\u1ebf."}),(0,Dt.jsxs)("button",{onClick:()=>y("manage_schedules"),style:bf.accessBtn,children:["Truy c\u1eadp ",(0,Dt.jsx)(yf,{})]})]})]}),"create_task"===m&&(0,Dt.jsxs)("div",{style:bf.formContainer,children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,Dt.jsx)("h4",{style:{margin:0,color:"#003366",fontWeight:"600"},children:"Giao nhi\u1ec7m v\u1ee5 (TASK+) & Thi\u1ebft l\u1eadp K\u1ef7 lu\u1eadt"}),(0,Dt.jsxs)("button",{onClick:()=>y("overview"),style:bf.backBtn,children:[(0,Dt.jsx)(vf,{})," \u1ea8n"]})]}),(0,Dt.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!v.title||!v.assigneeId||!v.endTime)return alert("Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ee7 th\xf4ng tin!");const t=s.find(e=>e.id===v.assigneeId),n=p.find(e=>e.id===v.disciplineId);r(c(c({},v),{},{assigneeName:t?t.name:"Unknown",disciplineName:n?n.name:"Ch\u01b0a quy \u0111\u1ecbnh",deadline:v.endTime,paymentType:v.paymentType?"".concat(v.paymentType," VN\u0110"):"Ch\u01b0a nh\u1eadp"})),b({title:"",assigneeId:"",description:"",startTime:"",endTime:"",assignedRole:"ST",paymentType:"",disciplineId:""}),alert("\u0110\xe3 giao nhi\u1ec7m v\u1ee5 th\xe0nh c\xf4ng!")},style:bf.formGrid,children:[(0,Dt.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,Dt.jsx)("label",{style:bf.label,children:"Ti\xeau \u0111\u1ec1 c\xf4ng vi\u1ec7c"}),(0,Dt.jsx)("input",{value:v.title,onChange:e=>b(c(c({},v),{},{title:e.target.value})),style:bf.input,required:!0})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{style:bf.label,children:"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n"}),(0,Dt.jsxs)("select",{value:v.assigneeId,onChange:e=>b(c(c({},v),{},{assigneeId:e.target.value})),style:bf.select,required:!0,children:[(0,Dt.jsx)("option",{value:"",children:"-- Ch\u1ecdn nh\xe2n s\u1ef1 --"}),s.map(e=>(0,Dt.jsxs)("option",{value:e.id,children:[e.name," (",e.role,")"]},e.id))]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{style:bf.label,children:"Vai tr\xf2 th\u1ef1c hi\u1ec7n"}),(0,Dt.jsx)("select",{value:v.assignedRole,onChange:e=>b(c(c({},v),{},{assignedRole:e.target.value})),style:bf.select,children:["ST","TT","CCS","CCO","CCA","FFM","FFS","FFA"].map(e=>(0,Dt.jsx)("option",{value:e,children:e},e))})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{style:bf.label,children:"B\u1eaft \u0111\u1ea7u (Check-in)"}),(0,Dt.jsx)("input",{type:"datetime-local",value:v.startTime,onChange:e=>b(c(c({},v),{},{startTime:e.target.value})),style:bf.input,required:!0})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{style:bf.label,children:"K\u1ebft th\xfac (Check-out)"}),(0,Dt.jsx)("input",{type:"datetime-local",value:v.endTime,onChange:e=>b(c(c({},v),{},{endTime:e.target.value})),style:bf.input,required:!0})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{style:bf.label,children:"M\u1ee9c ti\u1ec1n chi tr\u1ea3 (VN\u0110)"}),(0,Dt.jsx)("input",{type:"number",placeholder:"V\xed d\u1ee5: 100000",value:v.paymentType,onChange:e=>b(c(c({},v),{},{paymentType:e.target.value})),style:bf.input})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{style:bf.label,children:"K\u1ef7 lu\u1eadt (n\u1ebfu tr\u1ec5)"}),(0,Dt.jsxs)("select",{value:v.disciplineId,onChange:e=>b(c(c({},v),{},{disciplineId:e.target.value})),style:c(c({},bf.select),{},{borderColor:"red",color:"#b91c1c"}),children:[(0,Dt.jsx)("option",{value:"",children:"-- Ch\u1ecdn h\xecnh th\u1ee9c --"}),p.map(e=>(0,Dt.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Dt.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,Dt.jsx)("label",{style:bf.label,children:"M\xf4 t\u1ea3 chi ti\u1ebft"}),(0,Dt.jsx)("textarea",{value:v.description,onChange:e=>b(c(c({},v),{},{description:e.target.value})),style:c(c({},bf.input),{},{height:"80px"})})]}),(0,Dt.jsx)("button",{type:"submit",style:bf.btnSubmit,children:"Giao vi\u1ec7c"})]})]}),"create_schedule"===m&&(0,Dt.jsxs)("div",{style:bf.formContainer,children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,Dt.jsx)("h4",{style:{margin:0,color:"#003366",fontWeight:"600"},children:w?"Ch\u1ec9nh s\u1eeda L\u1ecbch c\xf4ng t\xe1c":"L\xean l\u1ecbch c\xf4ng t\xe1c \u0111\u1ecbnh k\u1ef3"}),(0,Dt.jsxs)("button",{onClick:()=>{y("overview"),k(null)},style:bf.backBtn,children:[(0,Dt.jsx)(vf,{})," \u1ea8n"]})]}),(0,Dt.jsxs)("form",{onSubmit:X,style:bf.formGrid,children:[(0,Dt.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,Dt.jsx)("label",{style:bf.label,children:"Ti\xeau \u0111\u1ec1 l\u1ecbch tr\xecnh"}),(0,Dt.jsx)("input",{value:v.title,onChange:e=>b(c(c({},v),{},{title:e.target.value})),style:bf.input,required:!0})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{style:bf.label,children:"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n"}),(0,Dt.jsxs)("select",{value:v.assigneeId,onChange:e=>b(c(c({},v),{},{assigneeId:e.target.value})),style:bf.select,required:!0,children:[(0,Dt.jsx)("option",{value:"",children:"-- Ch\u1ecdn nh\xe2n s\u1ef1 --"}),s.map(e=>(0,Dt.jsxs)("option",{value:e.id,children:[e.name," (",e.role,")"]},e.id))]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{style:bf.label,children:"Vai tr\xf2 th\u1ef1c hi\u1ec7n"}),(0,Dt.jsx)("select",{value:v.assignedRole,onChange:e=>b(c(c({},v),{},{assignedRole:e.target.value})),style:bf.select,children:["ST","TT","CCS","CCO","CCA","FFM","FFS","FFA"].map(e=>(0,Dt.jsx)("option",{value:e,children:e},e))})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{style:bf.label,children:"B\u1eaft \u0111\u1ea7u (Gi\u1edd & Ng\xe0y)"}),(0,Dt.jsx)("input",{type:"datetime-local",value:v.startTime,onChange:e=>b(c(c({},v),{},{startTime:e.target.value})),style:bf.input,required:!0})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{style:bf.label,children:"K\u1ebft th\xfac (Gi\u1edd & Ng\xe0y)"}),(0,Dt.jsx)("input",{type:"datetime-local",value:v.endTime,onChange:e=>b(c(c({},v),{},{endTime:e.target.value})),style:bf.input,required:!0})]}),(0,Dt.jsxs)("div",{style:{gridColumn:"1 / -1",background:"#f9fafb",padding:"15px",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,Dt.jsx)("h5",{style:{margin:"0 0 10px 0",fontSize:"0.9rem",color:"#003366"},children:"C\u1ea5u h\xecnh l\u1eb7p l\u1ea1i"}),(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px",flexWrap:"wrap"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Dt.jsx)("label",{style:bf.label,children:"S\u1ed1 tu\u1ea7n l\u1eb7p l\u1ea1i:"}),(0,Dt.jsx)("input",{type:"number",min:"1",max:"52",value:x.repeatWeeks,onChange:e=>_(c(c({},x),{},{repeatWeeks:e.target.value})),style:c(c({},bf.input),{},{width:"100px"})})]}),(0,Dt.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Dt.jsx)("label",{style:bf.label,children:"Ch\u1ecdn th\u1ee9 trong tu\u1ea7n:"}),(0,Dt.jsx)("div",{style:{display:"flex",gap:"8px",marginTop:"5px",flexWrap:"wrap"},children:K.map(e=>(0,Dt.jsx)("div",{onClick:()=>Z(e.key),style:{width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",cursor:"pointer",fontWeight:"bold",border:"1px solid #d1d5db",background:x.days.includes(e.key)?"#003366":"white",color:x.days.includes(e.key)?"white":"#6b7280"},children:e.label},e.key))})]})]})]}),(0,Dt.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,Dt.jsx)("label",{style:bf.label,children:"M\xf4 t\u1ea3 chi ti\u1ebft"}),(0,Dt.jsx)("textarea",{value:v.description,onChange:e=>b(c(c({},v),{},{description:e.target.value})),style:c(c({},bf.input),{},{height:"80px"})})]}),(0,Dt.jsx)("button",{type:"submit",style:bf.btnSubmit,children:"L\u01b0u L\u1ecbch & T\u1ea1o Nhi\u1ec7m V\u1ee5"})]})]}),"manage_tasks"===m&&(0,Dt.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.05)",border:"1px solid #e5e7eb"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px",marginBottom:"20px"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Dt.jsx)("div",{style:bf.iconBox,children:(0,Dt.jsx)(gf,{})}),(0,Dt.jsx)("h4",{style:{margin:0,fontSize:"1.2rem",color:"#003366"},children:"Qu\u1ea3n l\xfd Nhi\u1ec7m v\u1ee5 (TASK+)"})]}),(0,Dt.jsxs)("button",{onClick:()=>y("overview"),style:bf.backBtn,children:[(0,Dt.jsx)(vf,{})," \u1ea8n"]})]}),(0,Dt.jsxs)("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginBottom:"15px"},children:[(0,Dt.jsxs)("select",{value:N,onChange:e=>L(e.target.value),style:bf.filterSelect,children:[(0,Dt.jsx)("option",{value:"all",children:"T\u1ea5t c\u1ea3 nh\xe2n s\u1ef1"}),s.map(e=>(0,Dt.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Dt.jsxs)("select",{value:A,onChange:e=>D(e.target.value),style:bf.filterSelect,children:[(0,Dt.jsx)("option",{value:"all",children:"T\u1ea5t c\u1ea3 c\xe1c ng\xe0y"}),K.map(e=>(0,Dt.jsx)("option",{value:e.key,children:e.label},e.key))]}),(0,Dt.jsxs)("select",{value:O,onChange:e=>M(e.target.value),style:bf.filterSelect,children:[(0,Dt.jsx)("option",{value:"all",children:"T\u1ea5t c\u1ea3 th\u1eddi gian"}),(0,Dt.jsx)("option",{value:"day",children:"H\xf4m nay"}),(0,Dt.jsx)("option",{value:"week",children:"Tu\u1ea7n n\xe0y"}),(0,Dt.jsx)("option",{value:"month",children:"Th\xe1ng n\xe0y"})]})]}),(0,Dt.jsx)("div",{style:{overflowX:"auto"},children:(0,Dt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem",minWidth:"600px"},children:[(0,Dt.jsx)("thead",{children:(0,Dt.jsxs)("tr",{style:{textAlign:"left",borderBottom:"1px solid #eee",background:"#f9fafb",color:"#6b7280"},children:[(0,Dt.jsx)("th",{style:{padding:"12px",width:"50px"},children:"STT"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"Nhi\u1ec7m v\u1ee5"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"Ng\u01b0\u1eddi l\xe0m"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"Vai tr\xf2"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"Th\u1eddi gian"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"Ti\u1ebfn \u0111\u1ed9"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"X\xf3a"})]})}),(0,Dt.jsxs)("tbody",{children:[ne.map((e,t)=>(0,Dt.jsxs)("tr",{style:{borderBottom:"1px solid #f9f9f9"},children:[(0,Dt.jsx)("td",{style:{padding:"12px",textAlign:"center",fontWeight:"bold",color:"#9ca3af"},children:t+1}),(0,Dt.jsxs)("td",{style:{padding:"12px"},children:[(0,Dt.jsx)("strong",{children:e.title}),(0,Dt.jsx)("br",{}),(0,Dt.jsx)("span",{style:{fontSize:"0.75rem",color:"#059669",fontWeight:"600"},children:e.paymentType})]}),(0,Dt.jsx)("td",{style:{padding:"12px"},children:e.assigneeName}),(0,Dt.jsx)("td",{style:{padding:"12px"},children:e.assignedRole}),(0,Dt.jsx)("td",{style:{padding:"12px"},children:$(e.startTime,e.endTime)}),(0,Dt.jsxs)("td",{style:{padding:"12px"},children:[e.progress,"%"]}),(0,Dt.jsx)("td",{style:{padding:"12px"},children:(0,Dt.jsx)("button",{onClick:()=>J(e.id),style:{color:"red",border:"none",background:"none",cursor:"pointer"},children:"X\xf3a"})})]},e.id)),0===ne.length&&(0,Dt.jsx)("tr",{children:(0,Dt.jsx)("td",{colSpan:"7",style:{padding:"30px",textAlign:"center",color:"#9ca3af",fontStyle:"italic"},children:"Kh\xf4ng t\xecm th\u1ea5y nhi\u1ec7m v\u1ee5 ph\xf9 h\u1ee3p."})})]})]})})]}),"manage_schedules"===m&&(0,Dt.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.05)",border:"1px solid #e5e7eb"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px",marginBottom:"20px"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Dt.jsx)("div",{style:bf.iconBox,children:(0,Dt.jsx)(mf,{})}),(0,Dt.jsx)("h4",{style:{margin:0,fontSize:"1.2rem",color:"#003366"},children:"Qu\u1ea3n l\xfd C\xf4ng t\xe1c \u0111\u1ecbnh k\u1ef3"})]}),(0,Dt.jsxs)("button",{onClick:()=>y("overview"),style:bf.backBtn,children:[(0,Dt.jsx)(vf,{})," \u1ea8n"]})]}),(0,Dt.jsxs)("div",{style:{marginBottom:"40px",padding:"15px",border:"1px solid #e5e7eb",borderRadius:"12px",background:"#f9fafb"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px",marginBottom:"15px"},children:[(0,Dt.jsx)("h5",{style:{margin:0,color:"#1f2937"},children:"A. L\u1ecbch g\u1ed1c \u0111\u1ecbnh k\u1ef3 (Templates)"}),(0,Dt.jsx)("input",{type:"text",placeholder:"T\xecm ti\xeau \u0111\u1ec1, nh\xe2n s\u1ef1...",value:V,onChange:e=>q(e.target.value),style:c(c({},bf.input),{},{width:"250px",marginTop:0,padding:"6px 10px"})})]}),(0,Dt.jsx)("div",{style:{overflowX:"auto",background:"white",borderRadius:"8px",border:"1px solid #e5e7eb"},children:(0,Dt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem",minWidth:"500px"},children:[(0,Dt.jsx)("thead",{children:(0,Dt.jsxs)("tr",{style:{textAlign:"left",borderBottom:"1px solid #eee",background:"#f3f4f6",color:"#6b7280"},children:[(0,Dt.jsx)("th",{style:{padding:"10px",width:"50px"},children:"STT"}),(0,Dt.jsx)("th",{style:{padding:"10px"},children:"Th\xf4ng tin l\u1ecbch tr\xecnh"}),(0,Dt.jsx)("th",{style:{padding:"10px"},children:"H\xe0nh \u0111\u1ed9ng"})]})}),(0,Dt.jsxs)("tbody",{children:[re.map((e,t)=>(0,Dt.jsxs)("tr",{style:{borderBottom:"1px solid #f9f9f9"},children:[(0,Dt.jsx)("td",{style:{padding:"10px",textAlign:"center",fontWeight:"bold",color:"#9ca3af"},children:t+1}),(0,Dt.jsxs)("td",{style:{padding:"10px"},children:[(0,Dt.jsx)("strong",{children:e.title}),e.assigneeName&&(0,Dt.jsxs)("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:["Ph\u1ee5 tr\xe1ch: ",e.assigneeName," ",e.assignedRole?"(".concat(e.assignedRole,")"):""]})]}),(0,Dt.jsxs)("td",{style:{padding:"10px"},children:[(0,Dt.jsx)("button",{onClick:()=>{return k((t=e).id),b({title:t.title,assigneeId:t.assigneeId,description:t.description,startTime:t.startTime,endTime:t.endTime,assignedRole:t.assignedRole,paymentType:"",disciplineId:""}),_({repeatWeeks:t.repeatWeeks,days:t.repeatDays||[]}),y("create_schedule"),void window.scrollTo({top:0,behavior:"smooth"});var t},style:{color:"#003366",border:"none",background:"none",cursor:"pointer",marginRight:"10px",fontWeight:"600"},children:"S\u1eeda"}),(0,Dt.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("X\xf3a l\u1ecbch n\xe0y s\u1ebd x\xf3a c\u1ea3 c\xe1c ca l\xe0m vi\u1ec7c li\xean quan. Ti\u1ebfp t\u1ee5c?")&&(Y(t),d(t)));var t},style:{color:"#dc2626",border:"none",background:"none",cursor:"pointer",fontWeight:"600"},children:"X\xf3a"})]})]},e.id)),0===re.length&&(0,Dt.jsx)("tr",{children:(0,Dt.jsx)("td",{colSpan:"3",style:{padding:"20px",textAlign:"center",color:"#9ca3af",fontStyle:"italic"},children:"Tr\u1ed1ng."})})]})]})})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("h5",{style:{margin:"0 0 15px 0",color:"#1f2937"},children:"B. Danh s\xe1ch ca l\xe0m vi\u1ec7c th\u1ef1c t\u1ebf (Generated Tasks)"}),(0,Dt.jsxs)("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginBottom:"15px"},children:[(0,Dt.jsxs)("select",{value:z,onChange:e=>F(e.target.value),style:bf.filterSelect,children:[(0,Dt.jsx)("option",{value:"all",children:"T\u1ea5t c\u1ea3 nh\xe2n s\u1ef1"}),s.map(e=>(0,Dt.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Dt.jsxs)("select",{value:W,onChange:e=>B(e.target.value),style:bf.filterSelect,children:[(0,Dt.jsx)("option",{value:"all",children:"T\u1ea5t c\u1ea3 c\xe1c ng\xe0y"}),K.map(e=>(0,Dt.jsx)("option",{value:e.key,children:e.label},e.key))]}),(0,Dt.jsxs)("select",{value:U,onChange:e=>H(e.target.value),style:bf.filterSelect,children:[(0,Dt.jsx)("option",{value:"all",children:"T\u1ea5t c\u1ea3 th\u1eddi gian"}),(0,Dt.jsx)("option",{value:"day",children:"H\xf4m nay"}),(0,Dt.jsx)("option",{value:"week",children:"Tu\u1ea7n n\xe0y"}),(0,Dt.jsx)("option",{value:"month",children:"Th\xe1ng n\xe0y"})]})]}),(0,Dt.jsx)("div",{style:{overflowX:"auto",border:"1px solid #e5e7eb",borderRadius:"8px"},children:(0,Dt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem",minWidth:"800px"},children:[(0,Dt.jsx)("thead",{children:(0,Dt.jsxs)("tr",{style:{textAlign:"left",borderBottom:"1px solid #eee",background:"#f9fafb",color:"#6b7280"},children:[(0,Dt.jsx)("th",{style:{padding:"12px",width:"50px"},children:"STT"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"Nhi\u1ec7m v\u1ee5"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"Ng\u01b0\u1eddi l\xe0m"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"Vai tr\xf2"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"Th\u1eddi gian (Checkin-Checkout)"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"Ti\u1ebfn \u0111\u1ed9"}),(0,Dt.jsx)("th",{style:{padding:"12px"},children:"H\xe0nh \u0111\u1ed9ng"})]})}),(0,Dt.jsxs)("tbody",{children:[ie.map((e,t)=>(0,Dt.jsxs)("tr",{style:{borderBottom:"1px solid #f9f9f9",background:S===e.id?"#f0fdf4":"transparent"},children:[(0,Dt.jsx)("td",{style:{padding:"12px",textAlign:"center",fontWeight:"bold",color:"#9ca3af"},children:t+1}),S===e.id?(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsx)("td",{style:{padding:"8px"},children:(0,Dt.jsx)("input",{value:T.title,onChange:e=>E(c(c({},T),{},{title:e.target.value})),style:c(c({},bf.input),{},{padding:"6px",marginTop:0})})}),(0,Dt.jsx)("td",{style:{padding:"8px"},children:(0,Dt.jsx)("select",{value:T.assigneeId,onChange:e=>E(c(c({},T),{},{assigneeId:e.target.value})),style:c(c({},bf.select),{},{padding:"6px",marginTop:0}),children:s.map(e=>(0,Dt.jsx)("option",{value:e.id,children:e.name},e.id))})}),(0,Dt.jsx)("td",{style:{padding:"8px"},children:(0,Dt.jsx)("select",{value:T.assignedRole,onChange:e=>E(c(c({},T),{},{assignedRole:e.target.value})),style:c(c({},bf.select),{},{padding:"6px",marginTop:0}),children:["ST","TT","CCS","CCO","CCA","FFM","FFS","FFA"].map(e=>(0,Dt.jsx)("option",{value:e,children:e},e))})}),(0,Dt.jsxs)("td",{style:{padding:"8px",display:"flex",flexDirection:"column",gap:"4px"},children:[(0,Dt.jsx)("input",{type:"datetime-local",value:ff(T.startTime),onChange:e=>E(c(c({},T),{},{startTime:e.target.value})),style:c(c({},bf.input),{},{padding:"6px",marginTop:0})}),(0,Dt.jsx)("input",{type:"datetime-local",value:ff(T.endTime),onChange:e=>E(c(c({},T),{},{endTime:e.target.value})),style:c(c({},bf.input),{},{padding:"6px",marginTop:0})})]}),(0,Dt.jsxs)("td",{style:{padding:"12px"},children:[e.progress,"%"]}),(0,Dt.jsxs)("td",{style:{padding:"8px"},children:[(0,Dt.jsx)("button",{onClick:ee,style:{color:"white",background:"#059669",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",width:"100%",marginBottom:"4px"},children:"L\u01b0u"}),(0,Dt.jsx)("button",{onClick:()=>C(null),style:{color:"#4b5563",background:"#e5e7eb",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",width:"100%"},children:"H\u1ee7y"})]})]}):(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsx)("td",{style:{padding:"12px"},children:(0,Dt.jsx)("strong",{children:e.title})}),(0,Dt.jsx)("td",{style:{padding:"12px"},children:e.assigneeName}),(0,Dt.jsx)("td",{style:{padding:"12px"},children:e.assignedRole}),(0,Dt.jsx)("td",{style:{padding:"12px"},children:$(e.startTime,e.endTime)}),(0,Dt.jsxs)("td",{style:{padding:"12px"},children:[e.progress,"%"]}),(0,Dt.jsxs)("td",{style:{padding:"12px"},children:[(0,Dt.jsx)("button",{onClick:()=>{return C((t=e).id),void E({title:t.title,assigneeId:t.assigneeId,assignedRole:t.assignedRole||"ST",startTime:t.startTime,endTime:t.endTime});var t},style:{color:"#003366",border:"none",background:"none",cursor:"pointer",marginRight:"10px",fontWeight:"bold"},children:"S\u1eeda"}),(0,Dt.jsx)("button",{onClick:()=>J(e.id),style:{color:"red",border:"none",background:"none",cursor:"pointer",fontWeight:"bold"},children:"X\xf3a"})]})]})]},e.id)),0===ie.length&&(0,Dt.jsx)("tr",{children:(0,Dt.jsx)("td",{colSpan:"7",style:{padding:"30px",textAlign:"center",color:"#9ca3af",fontStyle:"italic"},children:"Kh\xf4ng t\xecm th\u1ea5y ca l\xe0m vi\u1ec7c ph\xf9 h\u1ee3p."})})]})]})})]})]})]})]})},_f=()=>(0,Dt.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),wf=()=>(0,Dt.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),kf=()=>(0,Dt.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),Sf=()=>(0,Dt.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),Cf=()=>(0,Dt.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Tf=()=>(0,Dt.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),Ef={card:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",border:"1px solid #e5e7eb"},input:{padding:"10px",borderRadius:"6px",border:"1px solid #d1d5db",outline:"none"},select:{padding:"10px",borderRadius:"6px",border:"1px solid #d1d5db",outline:"none",background:"white"},btnAdd:{background:"#003366",color:"white",border:"none",borderRadius:"6px",padding:"0 20px",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px",fontWeight:"600"},table:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},btnIconRed:{background:"none",border:"none",color:"#ef4444",cursor:"pointer",padding:"4px"},btnIconGreen:{background:"none",border:"none",color:"#16a34a",cursor:"pointer",padding:"4px"},btnIconBlue:{background:"none",border:"none",color:"#003366",cursor:"pointer",padding:"4px"},btnIconOrange:{background:"none",border:"none",color:"#f97316",cursor:"pointer",padding:"4px"},levelBadge:{background:"#f3f4f6",color:"#374151",padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"500",border:"1px solid #e5e7eb"}},jf=()=>{const{user:t}=zt(),{disciplineTypes:n,addDisciplineType:r,updateDisciplineTypeStatus:i,softDeleteDisciplineType:o,proposeDeleteDisciplineType:s,deleteDisciplineType:a,disciplineRecords:l,staffList:u}=hp(),d=["1. Nh\u1eafc nh\u1edf","2. Khi\u1ec3n tr\xe1ch","3. C\u1ea3nh c\xe1o","4. Xem x\xe9t c\xe1ch ch\u1ee9c","5. Xem x\xe9t sa th\u1ea3i"],[h,p]=(0,e.useState)({name:"",description:"",level:d[0]}),f="chief"===(null===t||void 0===t?void 0:t.role),g="reg"===(null===t||void 0===t?void 0:t.role),m="op"===(null===t||void 0===t?void 0:t.role),y=f||g,v=n.filter(e=>"Deleted"!==e.status&&(!m||("Active"===e.status||e.createdBy===t.username))),b=n.filter(e=>"Deleted"===e.status),x=e=>{if(g){const n=window.prompt("Nh\u1eadp l\xfd do \u0110\u1ec0 XU\u1ea4T X\xd3A h\xecnh th\u1ee9c n\xe0y:");if(!n)return;return s(e.id,{reason:n,by:t.username}),void alert("\u0110\xe3 g\u1eedi \u0111\u1ec1 xu\u1ea5t x\xf3a l\xean Chief Admin.")}if(f){if(!e.isDeleteProposed)return void alert("Ch\u1ec9 c\xf3 th\u1ec3 x\xf3a c\xe1c h\xecnh th\u1ee9c \u0111\xe3 \u0111\u01b0\u1ee3c Regulatory \u0111\u1ec1 xu\u1ea5t x\xf3a!");if(window.confirm("X\xe1c nh\u1eadn x\xf3a h\xecnh th\u1ee9c n\xe0y (Chuy\u1ec3n v\xe0o th\xf9ng r\xe1c)?\nL\xfd do \u0111\u1ec1 xu\u1ea5t: ".concat(e.deleteProposalReason))){const n={deletedBy:t.username,deleteReason:e.deleteProposalReason};o(e.id,n)}}},_=e=>"Pending"===e.status?(0,Dt.jsx)("span",{style:{color:"blue",fontSize:"0.8rem"},children:"\u23f3 Ch\u1edd duy\u1ec7t"}):"Suspended"===e.status?(0,Dt.jsx)("span",{style:{color:"red",fontSize:"0.8rem"},children:"\u26d4 \u0110\xecnh ch\u1ec9"}):e.isDeleteProposed?(0,Dt.jsx)("span",{style:{color:"yellow",fontSize:"0.8rem"},children:"\u26a0\ufe0f \u0110\u1ec1 xu\u1ea5t x\xf3a"}):(0,Dt.jsx)("span",{style:{color:"green",fontSize:"0.8rem"},children:"\u25cf \u0110\xe3 duy\u1ec7t"});return(0,Dt.jsxs)("div",{style:{paddingBottom:"40px"},children:[(0,Dt.jsx)("h2",{style:{color:"#003366",borderBottom:"2px solid #e5e7eb",paddingBottom:"15px",marginBottom:"20px",fontWeight:"bold",fontSize:"1.5rem"},children:"QU\u1ea2N L\xdd K\u1ef6 LU\u1eacT - REGULATIONS"}),(0,Dt.jsxs)("div",{style:{background:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.05)",marginBottom:"25px",border:"1px solid #f0f0f0"},children:[(0,Dt.jsx)("h4",{style:{margin:"0 0 15px 0",color:"#003366",fontWeight:"600"},children:m?"\u0110\u1ec1 xu\u1ea5t h\xecnh th\u1ee9c k\u1ef7 lu\u1eadt m\u1edbi":"Ban h\xe0nh h\xecnh th\u1ee9c k\u1ef7 lu\u1eadt m\u1edbi"}),(0,Dt.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!h.name)return alert("Vui l\xf2ng nh\u1eadp t\xean h\xecnh th\u1ee9c!");const n=m?"Pending":"Active";r(c(c({},h),{},{status:n,createdBy:t.username,createdAt:(new Date).toISOString()})),p({name:"",description:"",level:d[0]}),alert(m?"\u0110\xe3 g\u1eedi \u0111\u1ec1 xu\u1ea5t h\xecnh th\u1ee9c k\u1ef7 lu\u1eadt!":"\u0110\xe3 ban h\xe0nh h\xecnh th\u1ee9c k\u1ef7 lu\u1eadt m\u1edbi!")},style:{display:"grid",gap:"15px",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))"},children:[(0,Dt.jsx)("input",{placeholder:"T\xean vi ph\u1ea1m (VD: \u0110i tr\u1ec5)",value:h.name,onChange:e=>p(c(c({},h),{},{name:e.target.value})),style:Ef.input,required:!0}),(0,Dt.jsx)("select",{value:h.level,onChange:e=>p(c(c({},h),{},{level:e.target.value})),style:Ef.select,children:d.map(e=>(0,Dt.jsx)("option",{value:e,children:e},e))}),(0,Dt.jsx)("input",{placeholder:"M\xf4 t\u1ea3 / Quy \u0111\u1ecbnh \xe1p d\u1ee5ng...",value:h.description,onChange:e=>p(c(c({},h),{},{description:e.target.value})),style:Ef.input}),(0,Dt.jsxs)("button",{type:"submit",style:Ef.btnAdd,children:[(0,Dt.jsx)(_f,{})," ",m?"\u0110\u1ec1 xu\u1ea5t":"L\u01b0u"]})]})]}),(0,Dt.jsxs)("div",{style:c(c({},Ef.card),{},{marginTop:"20px"}),children:[(0,Dt.jsx)("h4",{style:{margin:"0 0 15px 0",color:"#003366",fontWeight:"600"},children:"1. Danh m\u1ee5c h\xecnh th\u1ee9c k\u1ef7 lu\u1eadt (Hi\u1ec7n h\xe0nh)"}),(0,Dt.jsx)("div",{style:{overflowX:"auto"},children:(0,Dt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem",minWidth:"600px"},children:[(0,Dt.jsx)("thead",{children:(0,Dt.jsxs)("tr",{style:{textAlign:"left",background:"#f9fafb",color:"#6b7280"},children:[(0,Dt.jsx)("th",{style:{padding:"10px"},children:"Vi ph\u1ea1m"}),(0,Dt.jsx)("th",{style:{padding:"10px"},children:"M\u1ee9c \u0111\u1ed9 K\u1ef7 lu\u1eadt"}),(0,Dt.jsx)("th",{style:{padding:"10px"},children:"M\xf4 t\u1ea3"}),(0,Dt.jsx)("th",{style:{padding:"10px"},children:"T\xecnh tr\u1ea1ng"}),(0,Dt.jsx)("th",{style:{padding:"10px"},children:"H\xe0nh \u0111\u1ed9ng"})]})}),(0,Dt.jsxs)("tbody",{children:[v.map(e=>(0,Dt.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[(0,Dt.jsx)("td",{style:{padding:"10px",fontWeight:"600"},children:e.name}),(0,Dt.jsx)("td",{style:{padding:"10px"},children:(0,Dt.jsx)("span",{style:Ef.levelBadge,children:e.level||"---"})}),(0,Dt.jsx)("td",{style:{padding:"10px",color:"#4b5563",fontSize:"0.9rem"},children:e.description}),(0,Dt.jsxs)("td",{style:{padding:"10px"},children:[_(e),e.isDeleteProposed&&(0,Dt.jsxs)("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"4px",fontStyle:"italic"},children:["L\xfd do x\xf3a: ",e.deleteProposalReason]})]}),(0,Dt.jsx)("td",{style:{padding:"10px"},children:(0,Dt.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[y&&"Pending"===e.status&&(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Ph\xea duy\u1ec7t h\xecnh th\u1ee9c n\xe0y?")&&i(t,"Active"));var t},style:Ef.btnIconGreen,title:"Duy\u1ec7t",children:(0,Dt.jsx)(Sf,{})}),(0,Dt.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("\u0110\xecnh ch\u1ec9 (T\u1eeb ch\u1ed1i) h\xecnh th\u1ee9c n\xe0y?")&&i(t,"Suspended"));var t},style:Ef.btnIconRed,title:"\u0110\xecnh ch\u1ec9",children:(0,Dt.jsx)(Cf,{})})]}),g&&"Active"===e.status&&!e.isDeleteProposed&&(0,Dt.jsx)("button",{onClick:()=>x(e),style:Ef.btnIconOrange,title:"\u0110\u1ec1 xu\u1ea5t x\xf3a",children:(0,Dt.jsx)(Tf,{})}),f&&e.isDeleteProposed&&(0,Dt.jsx)("button",{onClick:()=>x(e),style:Ef.btnIconRed,title:"Chuy\u1ec3n v\xe0o th\xf9ng r\xe1c",children:(0,Dt.jsx)(wf,{})})]})})]},e.id)),0===v.length&&(0,Dt.jsx)("tr",{children:(0,Dt.jsx)("td",{colSpan:"5",style:{textAlign:"center",padding:"20px",color:"#9ca3af"},children:"Ch\u01b0a c\xf3 d\u1eef li\u1ec7u"})})]})]})})]}),(0,Dt.jsxs)("div",{style:c(c({},Ef.card),{},{marginTop:"20px"}),children:[(0,Dt.jsx)("h4",{style:{margin:"0 0 15px 0",color:"#003366",fontWeight:"600"},children:"2. H\u1ed3 s\u01a1 nh\xe2n s\u1ef1 vi ph\u1ea1m"}),(0,Dt.jsx)("div",{style:{overflowX:"auto"},children:(0,Dt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem",minWidth:"600px"},children:[(0,Dt.jsx)("thead",{children:(0,Dt.jsxs)("tr",{style:{textAlign:"left",background:"#f9fafb",color:"#6b7280"},children:[(0,Dt.jsx)("th",{style:{padding:"10px"},children:"Nh\xe2n s\u1ef1"}),(0,Dt.jsx)("th",{style:{padding:"10px"},children:"Vi ph\u1ea1m"}),(0,Dt.jsx)("th",{style:{padding:"10px"},children:"M\u1ee9c \u0111\u1ed9 K\u1ef7 lu\u1eadt"}),(0,Dt.jsx)("th",{style:{padding:"10px"},children:"Ng\xe0y ghi nh\u1eadn"})]})}),(0,Dt.jsxs)("tbody",{children:[l.map(e=>{const t=u.find(t=>t.id===e.staffId),r=n.find(t=>t.id===e.disciplineId);return(0,Dt.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[(0,Dt.jsx)("td",{style:{padding:"10px",fontWeight:"600"},children:t?t.name:"Unknown"}),(0,Dt.jsx)("td",{style:{padding:"10px"},children:e.taskTitle||"---"}),(0,Dt.jsx)("td",{style:{padding:"10px"},children:(0,Dt.jsx)("span",{style:Ef.levelBadge,children:r?r.level:e.disciplineName||"---"})}),(0,Dt.jsx)("td",{style:{padding:"10px",color:"#6b7280"},children:new Date(e.date).toLocaleDateString("vi-VN")})]},e.id)}),0===l.length&&(0,Dt.jsx)("tr",{children:(0,Dt.jsx)("td",{colSpan:"4",style:{textAlign:"center",padding:"20px",color:"#9ca3af"},children:"Ch\u01b0a c\xf3 h\u1ed3 s\u01a1 vi ph\u1ea1m"})})]})]})})]}),!m&&b.length>0&&(0,Dt.jsxs)("div",{style:c(c({},Ef.card),{},{marginTop:"20px",background:"#fff1f2",border:"1px solid #fecdd3"}),children:[(0,Dt.jsx)("h4",{style:{margin:"0 0 15px 0",color:"#991b1b",fontWeight:"600"},children:"3. Danh m\u1ee5c c\xe1c h\xecnh th\u1ee9c k\u1ef7 lu\u1eadt \u0111\xe3 \u0111\u01b0\u1ee3c hi\u1ec7u ch\u1ec9nh (Deleted)"}),(0,Dt.jsx)("div",{style:{overflowX:"auto"},children:(0,Dt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem",minWidth:"600px"},children:[(0,Dt.jsx)("thead",{children:(0,Dt.jsxs)("tr",{style:{textAlign:"left",color:"#991b1b"},children:[(0,Dt.jsx)("th",{style:{padding:"10px"},children:"H\xecnh th\u1ee9c"}),(0,Dt.jsx)("th",{style:{padding:"10px"},children:"M\u1ee9c \u0111\u1ed9"}),(0,Dt.jsx)("th",{style:{padding:"10px"},children:"L\xfd do h\u1ee7y"}),(0,Dt.jsx)("th",{style:{padding:"10px"},children:"Ng\u01b0\u1eddi h\u1ee7y"}),(0,Dt.jsx)("th",{style:{padding:"10px"},children:"H\xe0nh \u0111\u1ed9ng"})," "]})}),(0,Dt.jsx)("tbody",{children:b.map(e=>(0,Dt.jsxs)("tr",{style:{borderBottom:"1px solid #fecdd3"},children:[(0,Dt.jsx)("td",{style:{padding:"10px",fontWeight:"600"},children:e.name}),(0,Dt.jsx)("td",{style:{padding:"10px"},children:e.level}),(0,Dt.jsx)("td",{style:{padding:"10px",fontStyle:"italic"},children:e.deleteReason}),(0,Dt.jsx)("td",{style:{padding:"10px"},children:e.deletedBy}),(0,Dt.jsx)("td",{style:{padding:"10px"},children:f&&(0,Dt.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Dt.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Kh\xf4i ph\u1ee5c h\xecnh th\u1ee9c n\xe0y?")&&i(t,"Active"));var t},style:Ef.btnIconBlue,title:"Kh\xf4i ph\u1ee5c",children:(0,Dt.jsx)(kf,{})}),(0,Dt.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("C\u1ea2NH B\xc1O: H\xe0nh \u0111\u1ed9ng n\xe0y s\u1ebd x\xf3a v\u0129nh vi\u1ec5n d\u1eef li\u1ec7u n\xe0y kh\u1ecfi h\u1ec7 th\u1ed1ng.\nB\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n ti\u1ebfp t\u1ee5c?")&&(a?a(t):alert("L\u1ed7i: H\xe0m x\xf3a v\u0129nh vi\u1ec5n ch\u01b0a \u0111\u01b0\u1ee3c c\u1ea5u h\xecnh trong DataContext!")));var t},style:Ef.btnIconRed,title:"X\xf3a v\u0129nh vi\u1ec5n",children:(0,Dt.jsx)(Cf,{})})]})})]},e.id))})]})})]})]})},If=e=>{if(void 0===e||null===e||""===e)return 0;const t=String(e).replace(/,/g,"").replace(/\s/g,""),n=Number(t);return isNaN(n)?0:n},Rf=e=>{if(void 0===e||null===e||""===e)return 100;const t=String(e).replace(/,/g,"").replace(/\s/g,""),n=Number(t);return isNaN(n)?100:n},Pf=(e,t)=>e.toDateString()===t.toDateString(),Nf=(e,t)=>e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear(),Lf=(e,t)=>{const n=new Date(t);n.setHours(0,0,0,0),n.setDate(n.getDate()-n.getDay()+1);const r=new Date(n);return r.setDate(r.getDate()+6),e>=n&&e<=r},Af=e=>{if(!e)return"---";const t=new Date(e);return"".concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ").concat(t.getDate(),"/").concat(t.getMonth()+1)},Df=(e,t,n,r)=>{if(!e||!t||!n||!r)return"---";const i=new Date(e),o=new Date(t),s=new Date(n),a=new Date(r);let l;if(a>o)l=o;else{l=(o-a)/6e4<=10?o:a}const c=l-(s>i?s:i);if(c<0)return"0h 00p";const u=Math.floor(c/6e4),d=Math.floor(u/60),h=u%60;return"".concat(d,"h ").concat(h<10?"0"+h:h,"p")},Of=()=>(0,Dt.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"#003366",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Mf=()=>(0,Dt.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"#003366",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),zf=()=>(0,Dt.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"#003366",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),Ff=()=>(0,Dt.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"#003366",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})}),Wf=()=>(0,Dt.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"})}),Bf=()=>(0,Dt.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})}),Uf=()=>(0,Dt.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),Hf={card:{background:"white",borderRadius:"12px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.05)",border:"1px solid #f3f4f6",marginBottom:"30px",overflow:"hidden"},cardHeader:{padding:"16px 20px",borderBottom:"1px solid #f3f4f6",display:"flex",alignItems:"center",gap:"12px",background:"#f9fafb"},iconBox:{width:"36px",height:"36px",background:"#e0f2fe",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#003366"},cardTitle:{margin:0,fontSize:"1rem",fontWeight:"600",color:"#1f2937"},cardBody:{padding:"20px"},statRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px",fontSize:"0.9rem",color:"#4b5563"},filterSelect:{padding:"6px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",outline:"none",fontWeight:"600",color:"#4b5563",cursor:"pointer",fontSize:"0.85rem"},printBtn:{display:"flex",alignItems:"center",gap:"8px",background:"white",color:"#003366",border:"1px solid #003366",borderRadius:"8px",padding:"8px 16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},table:{width:"100%",borderCollapse:"separate",borderSpacing:"0"},tableHeadRow:{background:"#f8fafc"},th:{padding:"12px 16px",textAlign:"left",color:"#64748b",fontSize:"0.8rem",fontWeight:"700",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},tr:{transition:"background 0.2s"},td:{padding:"12px 16px",borderBottom:"1px solid #f1f5f9",fontSize:"0.9rem",color:"#334155"},emptyTd:{padding:"30px",textAlign:"center",color:"#94a3b8",fontStyle:"italic",fontSize:"0.9rem"},badgeSuccess:{background:"#ecfdf5",color:"#059669",padding:"4px 10px",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"700"},badgePending:{background:"#fff7ed",color:"#ea580c",padding:"4px 10px",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"700"},badgeError:{background:"#fef2f2",color:"#b91c1c",padding:"4px 10px",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"700"},badgeInfo:{background:"#eff6ff",color:"#1d4ed8",padding:"4px 10px",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"700"},statBoxBlue:{flex:1,background:"#f0f9ff",padding:"15px",borderRadius:"12px",border:"1px solid #bae6fd",minWidth:"120px"},statBoxGreen:{flex:1,background:"#f0fdf4",padding:"15px",borderRadius:"12px",border:"1px solid #bbf7d0",minWidth:"120px"},statBoxGray:{flex:1,background:"#f9fafb",padding:"15px",borderRadius:"12px",border:"1px solid #e5e7eb",minWidth:"120px"},menuCard:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",border:"1px solid #e5e7eb",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"160px"},accessBtn:{marginTop:"auto",background:"#003366",color:"white",border:"none",padding:"10px 16px",borderRadius:"8px",cursor:"pointer",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background 0.2s"},backBtn:{background:"#fef2f2",color:"#ef4444",border:"1px solid #fecaca",padding:"6px 12px",borderRadius:"8px",cursor:"pointer",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"}},Vf=()=>{const{user:t}=zt(),{tasks:n,staffList:r,facilityLogs:i}=hp(),[o,s]=(0,e.useState)("overview"),[a,l]=(0,e.useState)("month"),[u,d]=(0,e.useState)("all"),[h,p]=(0,e.useState)("all"),[f,g]=(0,e.useState)("all"),[m,y]=(0,e.useState)("all"),[v,b]=(0,e.useState)("all"),[x,_]=(0,e.useState)("month"),[w,k]=(0,e.useState)("all"),[S,C]=(0,e.useState)("all"),T=[{key:"Mon",label:"Th\u1ee9 2",val:1},{key:"Tue",label:"Th\u1ee9 3",val:2},{key:"Wed",label:"Th\u1ee9 4",val:3},{key:"Thu",label:"Th\u1ee9 5",val:4},{key:"Fri",label:"Th\u1ee9 6",val:5},{key:"Sat",label:"Th\u1ee9 7",val:6},{key:"Sun",label:"Ch\u1ee7 Nh\u1eadt",val:0}],E=Array.isArray(n)?n.filter(e=>!e.fromScheduleId):[],j=Array.isArray(n)?n.filter(e=>e.fromScheduleId):[];let I=0;const R=[],P=new Date,N=j.filter(e=>{if(!e.startTime)return!1;const t=new Date(e.startTime);return!isNaN(t.getTime())&&Nf(t,P)});(Array.isArray(r)?r:[]).forEach(e=>{if("all"!==f&&String(e.id)!==String(f))return;const t=If(e.ubi1Base)*Rf(e.ubi1Percent)/100+If(e.ubi2Base)*Rf(e.ubi2Percent)/100,n=N.filter(t=>String(t.assigneeId)===String(e.id));let r=0,i=0,o=[];n.forEach(t=>{if(!e.remunerations||!Array.isArray(e.remunerations))return;if(!t.checkInTime||!t.checkOutTime)return;const n=e.remunerations.find(e=>{if(!e)return!1;if(e.position&&""!==String(e.position).trim()){if(String(e.position).trim().toLowerCase()!==String(t.assignedRole||"").trim().toLowerCase())return!1}if(e.keywords&&""!==String(e.keywords).trim()){const n=String(e.keywords).split(",").map(e=>e.trim().toLowerCase()).filter(e=>e),r=String(t.title||"").toLowerCase();if(!n.some(e=>r.includes(e)))return!1}return!0});if(n){const e=((e,t,n,r)=>{if(!e||!t||!n||!r)return 0;const i=new Date(e),o=new Date(t),s=new Date(n),a=new Date(r);let l;l=a>o||(o-a)/6e4<=10?o:a;const c=l-(s>i?s:i);return c<0?0:Math.floor(c/6e4)/60})(t.startTime,t.endTime,t.checkInTime,t.checkOutTime);i+=e,o.push({hours:e,rate:If(n.amount)})}});const s=If(e.minWorkHours);if(i>=s){o.sort((e,t)=>e.rate-t.rate);let e=s;o.forEach(t=>{e>0&&(t.hours<=e?(e-=t.hours,t.hours=0):(t.hours-=e,e=0)),t.hours>0&&(r+=t.hours*t.rate)})}else r=0;const a=t+r;(a>0||s>0)&&(R.push({item:e.name,type:"UBI: ".concat(Math.round(t).toLocaleString(),"\u0111 + Th\xf9 lao v\u01b0\u1ee3t m\u1ee9c: ").concat(Math.round(r).toLocaleString(),"\u0111 (L\xe0m ").concat(i.toFixed(1),"/").concat(s,"h)"),amount:a,date:(new Date).toLocaleDateString("vi-VN")}),I+=a)});const L=[...new Set(i.map(e=>e.area).filter(Boolean))],A=[...new Set(i.map(e=>e.staffName).filter(Boolean))],D=i.filter(e=>{if("all"!==m&&e.area!==m)return!1;if("all"!==v&&e.staffName!==v)return!1;const t=new Date(e.timestamp),n=new Date;return!("day"===x&&!Pf(t,n))&&(!("week"===x&&!Lf(t,n))&&!("month"===x&&!Nf(t,n)))}),O=E.filter(e=>{if("all"!==w&&String(e.assigneeId)!==String(w))return!1;const t="completed"===e.status,n=new Date>new Date(e.endTime)&&!t;return!("completed"===S&&!t)&&(!("overdue"===S&&!n)&&("inprogress"!==S||!t&&!n))}),M=O.length,z=O.filter(e=>"completed"===e.status).length,F=0===M?0:Math.round(z/M*100),W=j.filter(e=>{const t=new Date(e.startTime),n=new Date;if("day"===a&&!Pf(t,n))return!1;if("week"===a&&!Lf(t,n))return!1;if("month"===a&&!Nf(t,n))return!1;if("all"!==u&&String(e.assigneeId)!==String(u))return!1;if("all"!==h){var r;const e=null===(r=T.find(e=>e.key===h))||void 0===r?void 0:r.val;if(t.getDay()!==e)return!1}return!0});return(0,Dt.jsxs)("div",{style:{paddingBottom:"40px"},className:"reports-page",children:[(0,Dt.jsx)("style",{children:"\n        @media print {\n          .admin-sidebar, .admin-header-mobile, .admin-bottom-nav, .btn-print, .filter-select, .nav-back-btn { display: none !important; }\n          .admin-content { margin: 0 !important; padding: 20px !important; width: 100% !important; }\n          body { background: white; -webkit-print-color-adjust: exact; }\n          .card { box-shadow: none !important; border: 1px solid #ddd !important; break-inside: avoid; }\n        }\n        .filter-group { display: flex; gap: 8px; flex-wrap: wrap; }\n      "}),(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"2px solid #e5e7eb",paddingBottom:"15px",marginBottom:"20px"},children:[(0,Dt.jsx)("h2",{style:{color:"#003366",margin:0,fontWeight:"bold",fontSize:"1.5rem"},children:"B\xc1O C\xc1O QU\u1ea2N TR\u1eca"}),(0,Dt.jsxs)("button",{onClick:()=>{window.print()},className:"btn-print",style:Hf.printBtn,children:[(0,Dt.jsx)(Wf,{})," Xu\u1ea5t B\xe1o c\xe1o"]})]}),"overview"===o&&(0,Dt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:["chief"===(null===t||void 0===t?void 0:t.role)&&(0,Dt.jsxs)("div",{style:Hf.menuCard,children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},children:[(0,Dt.jsx)("div",{style:Hf.iconBox,children:(0,Dt.jsx)(Of,{})}),(0,Dt.jsx)("h3",{style:Hf.cardTitle,children:"T\xe0i ch\xednh & Thu nh\u1eadp"})]}),(0,Dt.jsxs)("div",{style:{color:"#6b7280",fontSize:"0.9rem",marginBottom:"20px"},children:["T\u1ed5ng chi d\u1ef1 ki\u1ebfn (Th\xe1ng): ",(0,Dt.jsxs)("strong",{style:{color:"#059669"},children:[Math.round(I).toLocaleString()," VN\u0110"]})]}),(0,Dt.jsxs)("button",{onClick:()=>s("finance"),style:Hf.accessBtn,children:["Truy c\u1eadp ",(0,Dt.jsx)(Bf,{})]})]}),(0,Dt.jsxs)("div",{style:Hf.menuCard,children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},children:[(0,Dt.jsx)("div",{style:Hf.iconBox,children:(0,Dt.jsx)(Mf,{})}),(0,Dt.jsx)("h3",{style:Hf.cardTitle,children:"T\xecnh tr\u1ea1ng C\u01a1 s\u1edf v\u1eadt ch\u1ea5t"})]}),(0,Dt.jsxs)("div",{style:{color:"#6b7280",fontSize:"0.9rem",marginBottom:"20px"},children:["B\xe1o c\xe1o m\u1edbi: ",(0,Dt.jsx)("strong",{children:D.length})]}),(0,Dt.jsxs)("button",{onClick:()=>s("facility"),style:Hf.accessBtn,children:["Truy c\u1eadp ",(0,Dt.jsx)(Bf,{})]})]}),(0,Dt.jsxs)("div",{style:Hf.menuCard,children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},children:[(0,Dt.jsx)("div",{style:Hf.iconBox,children:(0,Dt.jsx)(Ff,{})}),(0,Dt.jsx)("h3",{style:Hf.cardTitle,children:"B\xe1o c\xe1o Ch\u1ea5m c\xf4ng"})]}),(0,Dt.jsx)("div",{style:{color:"#6b7280",fontSize:"0.9rem",marginBottom:"20px"},children:"D\u1eef li\u1ec7u ch\u1ea5m c\xf4ng theo l\u1ecbch Scheduler."}),(0,Dt.jsxs)("button",{onClick:()=>s("attendance"),style:Hf.accessBtn,children:["Truy c\u1eadp ",(0,Dt.jsx)(Bf,{})]})]}),(0,Dt.jsxs)("div",{style:Hf.menuCard,children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},children:[(0,Dt.jsx)("div",{style:Hf.iconBox,children:(0,Dt.jsx)(zf,{})}),(0,Dt.jsx)("h3",{style:Hf.cardTitle,children:"Ti\u1ebfn \u0111\u1ed9 C\xf4ng vi\u1ec7c (Op Admin)"})]}),(0,Dt.jsxs)("div",{style:{color:"#6b7280",fontSize:"0.9rem",marginBottom:"20px"},children:["T\u1ed5ng: ",(0,Dt.jsx)("strong",{children:M})," | Xong: ",(0,Dt.jsx)("strong",{children:z})]}),(0,Dt.jsxs)("button",{onClick:()=>s("tasks"),style:Hf.accessBtn,children:["Truy c\u1eadp ",(0,Dt.jsx)(Bf,{})]})]})]}),"finance"===o&&"chief"===(null===t||void 0===t?void 0:t.role)&&(0,Dt.jsxs)("div",{style:Hf.card,className:"card",children:[(0,Dt.jsxs)("div",{style:c(c({},Hf.cardHeader),{},{justifyContent:"space-between"}),children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Dt.jsx)("div",{style:Hf.iconBox,children:(0,Dt.jsx)(Of,{})}),(0,Dt.jsxs)("h3",{style:Hf.cardTitle,children:["T\xe0i ch\xednh & Thu nh\u1eadp (Th\xe1ng ",(new Date).getMonth()+1,")"]})]}),(0,Dt.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Dt.jsxs)("select",{value:f,onChange:e=>g(e.target.value),style:Hf.filterSelect,children:[(0,Dt.jsx)("option",{value:"all",children:"T\u1ea5t c\u1ea3 nh\xe2n s\u1ef1"}),r.map(e=>(0,Dt.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Dt.jsxs)("button",{onClick:()=>s("overview"),style:Hf.backBtn,className:"nav-back-btn",children:[(0,Dt.jsx)(Uf,{})," \u1ea8n"]})]})]}),(0,Dt.jsx)("div",{style:c(c({},Hf.cardBody),{},{overflowX:"auto"}),children:(0,Dt.jsxs)("table",{style:Hf.table,children:[(0,Dt.jsx)("thead",{children:(0,Dt.jsxs)("tr",{style:Hf.tableHeadRow,children:[(0,Dt.jsx)("th",{style:c(c({},Hf.th),{},{width:"50px"}),children:"STT"}),(0,Dt.jsx)("th",{style:Hf.th,children:"Nh\xe2n s\u1ef1"}),(0,Dt.jsx)("th",{style:Hf.th,children:"Chi ti\u1ebft Ph\xe2n b\u1ed5"}),(0,Dt.jsx)("th",{style:Hf.th,children:"T\u1ed5ng S\u1ed1 Ti\u1ec1n (VN\u0110)"}),(0,Dt.jsx)("th",{style:Hf.th,children:"Ng\xe0y ch\u1ed1t BC"})]})}),(0,Dt.jsx)("tbody",{children:R.length>0?R.map((e,t)=>(0,Dt.jsxs)("tr",{style:Hf.tr,children:[(0,Dt.jsx)("td",{style:c(c({},Hf.td),{},{textAlign:"center",fontWeight:"bold",color:"#9ca3af"}),children:t+1}),(0,Dt.jsx)("td",{style:c(c({},Hf.td),{},{fontWeight:"600",color:"#111827"}),children:e.item}),(0,Dt.jsx)("td",{style:c(c({},Hf.td),{},{fontSize:"0.8rem",color:"#4b5563"}),children:e.type}),(0,Dt.jsx)("td",{style:c(c({},Hf.td),{},{fontWeight:"bold",color:"#059669"}),children:Math.round(e.amount).toLocaleString()}),(0,Dt.jsx)("td",{style:Hf.td,children:e.date})]},t)):(0,Dt.jsx)("tr",{children:(0,Dt.jsx)("td",{colSpan:"5",style:Hf.emptyTd,children:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u hi\u1ec3n th\u1ecb."})})})]})})]}),"facility"===o&&(0,Dt.jsxs)("div",{style:Hf.card,className:"card",children:[(0,Dt.jsxs)("div",{style:c(c({},Hf.cardHeader),{},{flexDirection:"column",alignItems:"flex-start",gap:"10px"}),children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Dt.jsx)("div",{style:Hf.iconBox,children:(0,Dt.jsx)(Mf,{})}),(0,Dt.jsx)("h3",{style:Hf.cardTitle,children:"T\xecnh tr\u1ea1ng C\u01a1 s\u1edf v\u1eadt ch\u1ea5t"})]}),(0,Dt.jsxs)("button",{onClick:()=>s("overview"),style:Hf.backBtn,className:"nav-back-btn",children:[(0,Dt.jsx)(Uf,{})," \u1ea8n"]})]}),(0,Dt.jsxs)("div",{className:"filter-group",style:{width:"100%"},children:[(0,Dt.jsxs)("select",{value:m,onChange:e=>y(e.target.value),style:c(c({},Hf.filterSelect),{},{flex:1}),children:[(0,Dt.jsx)("option",{value:"all",children:"Khu v\u1ef1c: T\u1ea5t c\u1ea3"}),L.map(e=>(0,Dt.jsx)("option",{value:e,children:e},e))]}),(0,Dt.jsxs)("select",{value:v,onChange:e=>b(e.target.value),style:c(c({},Hf.filterSelect),{},{flex:1}),children:[(0,Dt.jsx)("option",{value:"all",children:"Nh\xe2n s\u1ef1: T\u1ea5t c\u1ea3"}),A.map(e=>(0,Dt.jsx)("option",{value:e,children:e},e))]}),(0,Dt.jsxs)("select",{value:x,onChange:e=>_(e.target.value),style:c(c({},Hf.filterSelect),{},{flex:1}),children:[(0,Dt.jsx)("option",{value:"day",children:"H\xf4m nay"}),(0,Dt.jsx)("option",{value:"week",children:"Tu\u1ea7n n\xe0y"}),(0,Dt.jsx)("option",{value:"month",children:"Th\xe1ng n\xe0y"})]})]})]}),(0,Dt.jsx)("div",{style:c(c({},Hf.cardBody),{},{overflowX:"auto"}),children:(0,Dt.jsxs)("table",{style:Hf.table,children:[(0,Dt.jsx)("thead",{children:(0,Dt.jsxs)("tr",{style:Hf.tableHeadRow,children:[(0,Dt.jsx)("th",{style:c(c({},Hf.th),{},{width:"50px"}),children:"STT"}),(0,Dt.jsx)("th",{style:Hf.th,children:"Khu v\u1ef1c"}),(0,Dt.jsx)("th",{style:Hf.th,children:"T\xecnh tr\u1ea1ng tr\u01b0\u1edbc"}),(0,Dt.jsx)("th",{style:Hf.th,children:"T\xecnh tr\u1ea1ng sau"}),(0,Dt.jsx)("th",{style:Hf.th,children:"Nh\xe2n s\u1ef1 b\xe1o c\xe1o"})]})}),(0,Dt.jsx)("tbody",{children:D.length>0?[...D].reverse().map((e,t)=>(0,Dt.jsxs)("tr",{style:Hf.tr,children:[(0,Dt.jsx)("td",{style:c(c({},Hf.td),{},{textAlign:"center",fontWeight:"bold",color:"#9ca3af"}),children:t+1}),(0,Dt.jsx)("td",{style:c(c({},Hf.td),{},{fontWeight:"600"}),children:e.area||"---"}),(0,Dt.jsxs)("td",{style:Hf.td,children:[(0,Dt.jsx)("div",{style:{fontWeight:"700",fontSize:"0.9rem",marginBottom:"4px",color:"#1f2937"},children:e.itemName||e.item||e.category||"H\u1ea1ng m\u1ee5c"}),(0,Dt.jsx)("div",{style:{color:"#4b5563"},children:e.prevStatus?e.prevStatus:(0,Dt.jsx)("span",{style:{fontStyle:"italic",color:"#9ca3af"},children:"---"})}),(0,Dt.jsx)("div",{style:{fontSize:"0.75rem",color:"#9ca3af",marginTop:"2px"},children:Af(e.prevTime)})]}),(0,Dt.jsxs)("td",{style:Hf.td,children:[(0,Dt.jsx)("div",{style:{fontWeight:"700",fontSize:"0.9rem",marginBottom:"4px",color:"#1f2937"},children:e.itemName||e.item||e.category||"H\u1ea1ng m\u1ee5c"}),(0,Dt.jsx)("div",{style:{color:"#003366",fontWeight:"500"},children:e.status||e.note||"\u0110\xe3 ki\u1ec3m tra"}),(0,Dt.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"2px"},children:Af(e.timestamp)})]}),(0,Dt.jsx)("td",{style:Hf.td,children:e.staffName||"Unknown"})]},t)):(0,Dt.jsx)("tr",{children:(0,Dt.jsx)("td",{colSpan:"5",style:Hf.emptyTd,children:"Ch\u01b0a c\xf3 b\xe1o c\xe1o ki\u1ec3m tra ph\xf9 h\u1ee3p."})})})]})})]}),"attendance"===o&&(0,Dt.jsxs)("div",{style:Hf.card,className:"card",children:[(0,Dt.jsxs)("div",{style:c(c({},Hf.cardHeader),{},{flexDirection:"column",alignItems:"flex-start",gap:"15px"}),children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Dt.jsx)("div",{style:Hf.iconBox,children:(0,Dt.jsx)(Ff,{})}),(0,Dt.jsx)("h3",{style:Hf.cardTitle,children:"B\xe1o c\xe1o Ch\u1ea5m c\xf4ng (Theo L\u1ecbch Scheduler)"})]}),(0,Dt.jsxs)("button",{onClick:()=>s("overview"),style:Hf.backBtn,className:"nav-back-btn",children:[(0,Dt.jsx)(Uf,{})," \u1ea8n"]})]}),(0,Dt.jsxs)("div",{className:"filter-group",style:{width:"100%"},children:[(0,Dt.jsxs)("select",{value:u,onChange:e=>d(e.target.value),style:c(c({},Hf.filterSelect),{},{flex:1}),children:[(0,Dt.jsx)("option",{value:"all",children:"Nh\xe2n s\u1ef1: T\u1ea5t c\u1ea3"}),r.map(e=>(0,Dt.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Dt.jsxs)("select",{value:h,onChange:e=>p(e.target.value),style:c(c({},Hf.filterSelect),{},{flex:1}),children:[(0,Dt.jsx)("option",{value:"all",children:"Ng\xe0y: T\u1ea5t c\u1ea3"}),T.map(e=>(0,Dt.jsx)("option",{value:e.key,children:e.label},e.key))]}),(0,Dt.jsxs)("select",{value:a,onChange:e=>l(e.target.value),style:c(c({},Hf.filterSelect),{},{flex:1}),children:[(0,Dt.jsx)("option",{value:"day",children:"H\xf4m nay"}),(0,Dt.jsx)("option",{value:"week",children:"Tu\u1ea7n n\xe0y"}),(0,Dt.jsx)("option",{value:"month",children:"Th\xe1ng n\xe0y"})]})]})]}),(0,Dt.jsx)("div",{style:c(c({},Hf.cardBody),{},{overflowX:"auto"}),children:(0,Dt.jsxs)("table",{style:Hf.table,children:[(0,Dt.jsx)("thead",{children:(0,Dt.jsxs)("tr",{style:Hf.tableHeadRow,children:[(0,Dt.jsx)("th",{style:c(c({},Hf.th),{},{borderRadius:"8px 0 0 8px",width:"50px"}),children:"STT"}),(0,Dt.jsx)("th",{style:Hf.th,children:"Nh\xe2n s\u1ef1"}),(0,Dt.jsx)("th",{style:Hf.th,children:"Ca l\xe0m vi\u1ec7c"}),(0,Dt.jsx)("th",{style:Hf.th,children:"Th\u1eddi gian"}),(0,Dt.jsx)("th",{style:Hf.th,children:"S\u1ed1 gi\u1edd"}),(0,Dt.jsx)("th",{style:Hf.th,children:"Tr\u1ea1ng th\xe1i"}),(0,Dt.jsx)("th",{style:c(c({},Hf.th),{},{borderRadius:"0 8px 8px 0"}),children:"K\u1ebft qu\u1ea3"})]})}),(0,Dt.jsx)("tbody",{children:W.length>0?W.map((e,t)=>{const n="completed"===e.status||100===e.progress,r=[];if(e.checkInTime){const t=new Date(e.startTime),n=(new Date(e.checkInTime)-t)/6e4;if(n>3&&r.push("Check-in tr\u1ec5 ".concat(Math.round(n),"p")),e.checkOutTime){const t=new Date(e.endTime),n=(new Date(e.checkOutTime)-t)/6e4;n>15&&r.push("Check-out tr\u1ec5 ".concat(Math.round(n),"p"))}else r.push("Ch\u01b0a check-out")}else r.push("Ch\u01b0a check-in");return e.explanation&&r.push("Gi\u1ea3i tr\xecnh: ".concat(e.explanation)),(0,Dt.jsxs)("tr",{style:Hf.tr,children:[(0,Dt.jsx)("td",{style:c(c({},Hf.td),{},{textAlign:"center",fontWeight:"bold",color:"#9ca3af"}),children:t+1}),(0,Dt.jsx)("td",{style:c(c({},Hf.td),{},{fontWeight:"600"}),children:e.assigneeName}),(0,Dt.jsxs)("td",{style:Hf.td,children:[(0,Dt.jsx)("div",{children:e.title}),(0,Dt.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:e.assignedRole})]}),(0,Dt.jsxs)("td",{style:Hf.td,children:[new Date(e.startTime).toLocaleDateString("vi-VN")," ",(0,Dt.jsx)("br",{}),(0,Dt.jsxs)("span",{style:{fontSize:"0.75rem",color:"#64748b"},children:[new Date(e.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",new Date(e.endTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),(0,Dt.jsx)("td",{style:c(c({},Hf.td),{},{fontWeight:"bold",color:"#059669"}),children:Df(e.startTime,e.endTime,e.checkInTime,e.checkOutTime)}),(0,Dt.jsxs)("td",{style:Hf.td,children:[n?(0,Dt.jsx)("span",{style:Hf.badgeSuccess,children:"\u0110\xe3 ch\u1ea5m c\xf4ng"}):(0,Dt.jsx)("span",{style:Hf.badgePending,children:"Ch\u01b0a ho\xe0n th\xe0nh"}),r.length>0&&(0,Dt.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px",fontStyle:"italic"},children:r.map((e,t)=>(0,Dt.jsxs)("div",{children:["- ",e]},t))})]}),(0,Dt.jsxs)("td",{style:Hf.td,children:[e.progress,"%"]})]},e.id)}):(0,Dt.jsx)("tr",{children:(0,Dt.jsx)("td",{colSpan:"7",style:Hf.emptyTd,children:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u ch\u1ea5m c\xf4ng ph\xf9 h\u1ee3p."})})})]})})]}),"tasks"===o&&(0,Dt.jsxs)("div",{style:Hf.card,className:"card",children:[(0,Dt.jsxs)("div",{style:c(c({},Hf.cardHeader),{},{flexDirection:"column",alignItems:"flex-start",gap:"15px"}),children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Dt.jsx)("div",{style:Hf.iconBox,children:(0,Dt.jsx)(zf,{})}),(0,Dt.jsx)("h3",{style:Hf.cardTitle,children:"Ti\u1ebfn \u0111\u1ed9 C\xf4ng vi\u1ec7c (Operational Admin giao)"})]}),(0,Dt.jsxs)("button",{onClick:()=>s("overview"),style:Hf.backBtn,className:"nav-back-btn",children:[(0,Dt.jsx)(Uf,{})," \u1ea8n"]})]}),(0,Dt.jsxs)("div",{className:"filter-group",style:{width:"100%"},children:[(0,Dt.jsxs)("select",{value:w,onChange:e=>k(e.target.value),style:c(c({},Hf.filterSelect),{},{flex:1}),children:[(0,Dt.jsx)("option",{value:"all",children:"Nh\xe2n s\u1ef1: T\u1ea5t c\u1ea3"}),r.map(e=>(0,Dt.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Dt.jsxs)("select",{value:S,onChange:e=>C(e.target.value),style:c(c({},Hf.filterSelect),{},{flex:1}),children:[(0,Dt.jsx)("option",{value:"all",children:"Tr\u1ea1ng th\xe1i: T\u1ea5t c\u1ea3"}),(0,Dt.jsx)("option",{value:"inprogress",children:"\u0110ang l\xe0m"}),(0,Dt.jsx)("option",{value:"completed",children:"Ho\xe0n th\xe0nh"}),(0,Dt.jsx)("option",{value:"overdue",children:"Qu\xe1 h\u1ea1n"})]})]})]}),(0,Dt.jsxs)("div",{style:Hf.cardBody,children:[(0,Dt.jsxs)("div",{style:{marginBottom:"20px",display:"flex",gap:"20px",flexWrap:"wrap"},children:[(0,Dt.jsxs)("div",{style:Hf.statBoxBlue,children:[(0,Dt.jsx)("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:"T\u1ed5ng nhi\u1ec7m v\u1ee5"}),(0,Dt.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#003366"},children:M})]}),(0,Dt.jsxs)("div",{style:Hf.statBoxGreen,children:[(0,Dt.jsx)("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:"Ho\xe0n th\xe0nh"}),(0,Dt.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#059669"},children:z})]}),(0,Dt.jsxs)("div",{style:Hf.statBoxGray,children:[(0,Dt.jsx)("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:"T\u1ef7 l\u1ec7"}),(0,Dt.jsxs)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#003366"},children:[F,"%"]})]})]}),(0,Dt.jsx)("div",{style:{overflowX:"auto"},children:(0,Dt.jsxs)("table",{style:Hf.table,children:[(0,Dt.jsx)("thead",{children:(0,Dt.jsxs)("tr",{style:Hf.tableHeadRow,children:[(0,Dt.jsx)("th",{style:c(c({},Hf.th),{},{width:"50px"}),children:"STT"}),(0,Dt.jsx)("th",{style:Hf.th,children:"Nhi\u1ec7m v\u1ee5"}),(0,Dt.jsx)("th",{style:Hf.th,children:"Ph\u1ee5 tr\xe1ch"}),(0,Dt.jsx)("th",{style:Hf.th,children:"H\u1ea1n ch\xf3t"}),(0,Dt.jsx)("th",{style:Hf.th,children:"Ti\u1ebfn \u0111\u1ed9"}),(0,Dt.jsx)("th",{style:Hf.th,children:"Tr\u1ea1ng th\xe1i"})]})}),(0,Dt.jsxs)("tbody",{children:[O.map((e,t)=>{let n;const r=new Date>new Date(e.endTime)&&"completed"!==e.status;return n="completed"===e.status?(0,Dt.jsx)("span",{style:Hf.badgeSuccess,children:"Ho\xe0n th\xe0nh"}):r?(0,Dt.jsx)("span",{style:Hf.badgeError,children:"Qu\xe1 h\u1ea1n / Gi\u1ea3i tr\xecnh"}):(0,Dt.jsx)("span",{style:Hf.badgeInfo,children:"\u0110ang l\xe0m"}),(0,Dt.jsxs)("tr",{style:Hf.tr,children:[(0,Dt.jsx)("td",{style:c(c({},Hf.td),{},{textAlign:"center",fontWeight:"bold",color:"#9ca3af"}),children:t+1}),(0,Dt.jsx)("td",{style:c(c({},Hf.td),{},{fontWeight:"500"}),children:e.title}),(0,Dt.jsx)("td",{style:Hf.td,children:e.assigneeName}),(0,Dt.jsx)("td",{style:Hf.td,children:new Date(e.endTime).toLocaleDateString("vi-VN")}),(0,Dt.jsx)("td",{style:Hf.td,children:(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Dt.jsx)("div",{style:{flex:1,height:"6px",background:"#e5e7eb",borderRadius:"3px",minWidth:"60px"},children:(0,Dt.jsx)("div",{style:{width:"".concat(e.progress,"%"),background:"#003366",height:"100%",borderRadius:"3px"}})}),(0,Dt.jsxs)("span",{style:{fontSize:"0.8em",fontWeight:"bold"},children:[e.progress,"%"]})]})}),(0,Dt.jsx)("td",{style:Hf.td,children:n})]},e.id)}),0===O.length&&(0,Dt.jsx)("tr",{children:(0,Dt.jsx)("td",{colSpan:"6",style:Hf.emptyTd,children:"Kh\xf4ng t\xecm th\u1ea5y nhi\u1ec7m v\u1ee5 ph\xf9 h\u1ee3p."})})]})]})})]})]})]})},qf=()=>(0,Dt.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"#003366",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),Kf=()=>(0,Dt.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"#f59e0b",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})}),$f=()=>(0,Dt.jsx)("svg",{width:"14",height:"14",fill:"none",viewBox:"0 0 24 24",stroke:"#9ca3af",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Gf=()=>(0,Dt.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),Qf=e=>{if(!e)return"";const t=new Date(e),n=new Date-t,r=Math.floor(n/6e4),i=Math.floor(r/60),o=Math.floor(i/24);return r<1?"V\u1eeba xong":r<60?"".concat(r," ph\xfat tr\u01b0\u1edbc"):i<24?"".concat(i," gi\u1edd tr\u01b0\u1edbc"):o<7?"".concat(o," ng\xe0y tr\u01b0\u1edbc"):t.toLocaleDateString("vi-VN")},Yf=()=>{const{user:t}=zt(),{tasks:n,schedules:r}=hp(),[i,o]=(0,e.useState)([]),[s,a]=(0,e.useState)(()=>{const e=localStorage.getItem("readNotifications");return e?JSON.parse(e):[]});(0,e.useEffect)(()=>{if(!t)return;const e=[...n.filter(e=>e.assigneeId===t.id&&!e.fromScheduleId).map(e=>({id:e.id,type:"task",title:"Nhi\u1ec7m v\u1ee5 m\u1edbi: ".concat(e.title),desc:e.description||"Kh\xf4ng c\xf3 m\xf4 t\u1ea3 chi ti\u1ebft",time:e.createdDate||(new Date).toISOString(),isNew:new Date-new Date(e.createdDate)<2592e5})),...r.filter(e=>e.assigneeId===t.id).map(e=>{var t;return{id:e.id,type:"schedule",title:"L\u1ecbch c\xf4ng t\xe1c m\u1edbi: ".concat(e.title),desc:"L\u1eb7p l\u1ea1i ".concat(e.repeatWeeks," tu\u1ea7n v\xe0o ").concat(null===(t=e.repeatDays)||void 0===t?void 0:t.join(", ")),time:e.createdAt||(new Date).toISOString(),isNew:new Date-new Date(e.createdAt)<2592e5}})].filter(e=>!s.includes(e.id)).sort((e,t)=>new Date(t.time)-new Date(e.time));o(e)},[n,r,t,s]);return(0,Dt.jsxs)("div",{style:{paddingBottom:"20px"},children:[(0,Dt.jsx)("h3",{style:{margin:"0 0 20px 0",color:"#111827",fontSize:"1.2rem",fontWeight:"bold"},children:"Th\xf4ng b\xe1o"}),(0,Dt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[i.map(e=>(0,Dt.jsxs)("div",{style:{background:"white",padding:"16px",borderRadius:"12px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",borderLeft:"schedule"===e.type?"4px solid #f59e0b":"4px solid #003366",position:"relative"},children:[e.isNew&&(0,Dt.jsx)("span",{style:{position:"absolute",top:"12px",right:"12px",background:"#ef4444",color:"white",fontSize:"0.65rem",fontWeight:"bold",padding:"2px 6px",borderRadius:"4px"},children:"M\u1edbi"}),(0,Dt.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start"},children:[(0,Dt.jsx)("div",{style:{minWidth:"40px",height:"40px",borderRadius:"50%",background:"schedule"===e.type?"#fffbeb":"#eff6ff",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"2px"},children:"schedule"===e.type?(0,Dt.jsx)(Kf,{}):(0,Dt.jsx)(qf,{})}),(0,Dt.jsxs)("div",{style:{flex:1},children:[(0,Dt.jsx)("div",{style:{fontWeight:"700",fontSize:"0.95rem",color:"#1f2937",marginBottom:"4px",paddingRight:"35px"},children:e.title}),(0,Dt.jsx)("div",{style:{fontSize:"0.85rem",color:"#4b5563",marginBottom:"8px",lineHeight:"1.4"},children:e.desc}),(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.75rem",color:"#9ca3af"},children:[(0,Dt.jsx)($f,{})," ",Qf(e.time)]}),(0,Dt.jsxs)("button",{onClick:()=>(e=>{const t=[...s,e];a(t),localStorage.setItem("readNotifications",JSON.stringify(t))})(e.id),style:{border:"1px solid #d1d5db",background:"white",color:"#4b5563",padding:"4px 8px",borderRadius:"6px",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",gap:"4px"},children:[(0,Dt.jsx)(Gf,{})," \u0110\xe3 xem"]})]})]})]})]},e.id)),0===i.length&&(0,Dt.jsxs)("div",{style:{textAlign:"center",color:"#9ca3af",marginTop:"60px",fontStyle:"italic",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[(0,Dt.jsx)("div",{style:{fontSize:"3rem"},children:"\ud83c\udf89"}),(0,Dt.jsx)("div",{children:"B\u1ea1n \u0111\xe3 xem h\u1ebft c\xe1c th\xf4ng b\xe1o m\u1edbi!"})]})]})]})},Xf=()=>(0,Dt.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"#003366",strokeWidth:"2",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Jf=()=>(0,Dt.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"#003366",strokeWidth:"2",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})}),Zf=()=>(0,Dt.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})}),eg=()=>(0,Dt.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),tg=()=>(0,Dt.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"#b45309",strokeWidth:2,children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),ng={filterSelect:{padding:"8px 12px",borderRadius:"10px",border:"1px solid #e2e8f0",outline:"none",fontWeight:"600",color:"#003366",cursor:"pointer",background:"white"},scheduleItem:{background:"white",padding:"18px",borderRadius:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.03)",transition:"transform 0.2s",gap:"10px"},shiftCard:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.03)",borderLeft:"5px solid #003366"},mainBtn:{background:"#003366",color:"white",border:"none",padding:"10px 18px",borderRadius:"10px",cursor:"pointer",fontWeight:"700",fontSize:"0.85rem",boxShadow:"0 4px 6px rgba(0, 51, 102, 0.2)",whiteSpace:"nowrap"},outBtn:{background:"white",border:"1px solid #ef4444",color:"#ef4444",padding:"8px 16px",borderRadius:"10px",cursor:"pointer",fontWeight:"700",fontSize:"0.85rem",whiteSpace:"nowrap"},explainBtn:{background:"#fff7ed",border:"1px solid #f97316",color:"#c2410c",padding:"8px 16px",borderRadius:"10px",cursor:"pointer",fontWeight:"700",fontSize:"0.85rem",display:"flex",alignItems:"center",gap:"5px",whiteSpace:"nowrap"},roleBadge:{fontSize:"0.75rem",background:"#f1f5f9",padding:"4px 10px",borderRadius:"6px",color:"#475569",fontWeight:"600"},lateBadge:{fontSize:"0.75rem",background:"#fef2f2",padding:"4px 10px",borderRadius:"6px",color:"#dc2626",fontWeight:"700"},workingBadge:{fontSize:"0.75rem",background:"#eff6ff",padding:"4px 10px",borderRadius:"6px",color:"#2563eb",fontWeight:"700"},checkCircle:{width:"36px",height:"36px",background:"#ecfdf5",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},badgeSuccess:{background:"#ecfdf5",color:"#059669",padding:"5px 12px",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"800"},badgeActive:{background:"#e0f2fe",color:"#003366",padding:"5px 12px",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"800"},emptyState:{textAlign:"center",padding:"50px",color:"#94a3b8",fontStyle:"italic",background:"white",borderRadius:"16px",border:"1px dashed #e2e8f0"}},rg=()=>{const{user:t}=zt(),{shifts:n,attendanceLogs:r,addAttendance:i,updateAttendanceLog:o,tasks:s,updateTaskProgress:a,updateTask:l}=hp(),[u,d]=(0,e.useState)("month"),[h,p]=(0,e.useState)(new Date);(0,e.useEffect)(()=>{const e=setInterval(()=>p(new Date),1e3);return()=>clearInterval(e)},[]);const f=s.filter(e=>e.assigneeId===t.id&&e.fromScheduleId).filter(e=>{const t=new Date(e.startTime),n=new Date;return"day"===u?(r=n,t.toDateString()===r.toDateString()):"week"===u?((e,t)=>{const n=new Date(t);n.setHours(0,0,0,0),n.setDate(n.getDate()-n.getDay()+1);const r=new Date(n);return r.setDate(r.getDate()+6),e>=n&&e<=r})(t,n):"month"!==u||((e,t)=>e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())(t,n);var r});f.sort((e,t)=>new Date(e.startTime)-new Date(t.startTime));const g=e=>{const t=new Date(e.startTime),n=(h-t)/6e4;if(n<-15)return void alert("Ch\u01b0a \u0111\u1ebfn gi\u1edd! B\u1ea1n ch\u1ec9 c\xf3 th\u1ec3 check-in t\u1eeb ".concat(new Date(t.getTime()-9e5).toLocaleTimeString(),"."));let r={checkInTime:(new Date).toISOString(),status:"in_progress"},i="Check-in th\xe0nh c\xf4ng!";n>3?(r.checkInStatus="Late",r.lateReason="Tr\u1ec5 qu\xe1 3 ph\xfat",i="C\u1ea2NH B\xc1O: B\u1ea1n \u0111\xe3 check-in TR\u1ec4 qu\xe1 3 ph\xfat! H\u1ec7 th\u1ed1ng \u0111\xe3 ghi nh\u1eadn."):r.checkInStatus="OnTime",l(e.id,r),alert(i)},m=n.filter(e=>e.staffId===t.id),y=(e,t,n,r,i)=>i?(0,Dt.jsx)("div",{style:ng.checkCircle,children:(0,Dt.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"#10b981",strokeWidth:3,children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}):r?r?n<-15?(0,Dt.jsxs)("button",{onClick:()=>(e=>{const t=window.prompt("\u0110\xe3 qu\xe1 gi\u1edd check-out quy \u0111\u1ecbnh. Vui l\xf2ng nh\u1eadp l\xfd do:");t&&""!==t.trim()&&(l(e.id,{checkOutTime:(new Date).toISOString(),status:"completed",progress:100,checkOutStatus:"MissedWindow",explanation:t}),alert("\u0110\xe3 g\u1eedi gi\u1ea3i tr\xecnh. Vui l\xf2ng \u0111\u1ee3i Admin duy\u1ec7t."))})(e),style:ng.explainBtn,children:[(0,Dt.jsx)(tg,{})," Gi\u1ea3i tr\xecnh"]}):(0,Dt.jsx)("button",{onClick:()=>(e=>{const t=(new Date(e.endTime)-h)/6e4;t>10?alert("Ch\u01b0a \u0111\u1ebfn gi\u1edd tan ca! B\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c v\u1ec1 s\u1edbm t\u1ed1i \u0111a 10 ph\xfat."):t<-15?alert("\u0110\xe3 qu\xe1 th\u1eddi gian check-out (15 ph\xfat). Vui l\xf2ng d\xf9ng n\xfat 'Gi\u1ea3i tr\xecnh'."):window.confirm("X\xe1c nh\u1eadn ho\xe0n th\xe0nh ca l\xe0m vi\u1ec7c n\xe0y?")&&(a(e.id,100,"Check-out attendance"),l(e.id,{checkOutTime:(new Date).toISOString(),status:"completed"}),alert("Check-out th\xe0nh c\xf4ng!"))})(e),style:ng.outBtn,children:"Check-out"}):void 0:t<-15?(0,Dt.jsx)("button",{style:c(c({},ng.mainBtn),{},{background:"#e2e8f0",color:"#94a3b8",cursor:"not-allowed"}),children:"Ch\u01b0a \u0111\u1ebfn gi\u1edd"}):t>3?(0,Dt.jsx)("button",{onClick:()=>g(e),style:c(c({},ng.mainBtn),{},{background:"#ef4444"}),children:"V\xe0o ca (Tr\u1ec5)"}):(0,Dt.jsx)("button",{onClick:()=>g(e),style:ng.mainBtn,children:"Check-in"});return(0,Dt.jsxs)("div",{style:{paddingBottom:"40px"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"1px solid #e5e7eb",paddingBottom:"15px"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Dt.jsx)(Xf,{}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("h2",{style:{color:"#003366",margin:0,fontWeight:"700"},children:"Ch\u1ea5m c\xf4ng c\xe1 nh\xe2n"}),(0,Dt.jsx)("p",{style:{fontSize:"0.85rem",color:"#6b7280",margin:"4px 0 0 0"},children:"Theo l\u1ecbch c\xf4ng t\xe1c (Scheduler)"})]})]}),(0,Dt.jsxs)("select",{value:u,onChange:e=>d(e.target.value),style:ng.filterSelect,children:[(0,Dt.jsx)("option",{value:"day",children:"H\xf4m nay"}),(0,Dt.jsx)("option",{value:"week",children:"Tu\u1ea7n n\xe0y"}),(0,Dt.jsx)("option",{value:"month",children:"Th\xe1ng n\xe0y"})]})]}),(0,Dt.jsx)("div",{style:{display:"grid",gap:"15px",marginBottom:"40px"},children:f.length>0?f.map(e=>{const t=new Date(e.startTime),n=new Date(e.endTime),r="completed"===e.status||100===e.progress,i=!!e.checkInTime,o=(h-t)/6e4,s=(n-h)/6e4;return(0,Dt.jsxs)("div",{style:c(c({},ng.scheduleItem),{},{borderLeft:"5px solid ".concat(r?"#10b981":i?"#3b82f6":"#cbd5e1")}),children:[(0,Dt.jsxs)("div",{style:{flex:1},children:[(0,Dt.jsx)("div",{style:{fontWeight:"700",color:"#1e293b",fontSize:"1rem"},children:e.title}),(0,Dt.jsxs)("div",{style:{fontSize:"0.85rem",color:"#64748b",marginTop:"4px"},children:["\ud83d\udcc5 ",t.toLocaleDateString("vi-VN")," \xa0|\xa0 \u23f0 ",t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,Dt.jsxs)("div",{style:{marginTop:"8px",display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,Dt.jsx)("span",{style:ng.roleBadge,children:e.assignedRole}),"Late"===e.checkInStatus&&(0,Dt.jsx)("span",{style:ng.lateBadge,children:"\u26a0\ufe0f Tr\u1ec5 gi\u1edd"}),i&&!r&&(0,Dt.jsx)("span",{style:ng.workingBadge,children:"\u0110ang l\xe0m vi\u1ec7c"})]})]}),(0,Dt.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"5px"},children:y(e,o,s,i,r)})]},e.id)}):(0,Dt.jsx)("div",{style:ng.emptyState,children:"Kh\xf4ng c\xf3 l\u1ecbch l\xe0m vi\u1ec7c trong kho\u1ea3ng th\u1eddi gian n\xe0y."})}),m.length>0&&(0,Dt.jsxs)("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"25px"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},children:[(0,Dt.jsx)(Jf,{}),(0,Dt.jsx)("h3",{style:{color:"#003366",fontSize:"1.1rem",margin:0,fontWeight:"700"},children:"Ca l\xe0m vi\u1ec7c \u0111\u0103ng k\xfd (C\u0169)"})]}),(0,Dt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:m.map(e=>{const n=r.find(t=>t.shiftId===e.id&&new Date(t.date).toDateString()===(new Date).toDateString());return(0,Dt.jsxs)("div",{style:ng.shiftCard,children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[(0,Dt.jsx)("span",{style:{fontWeight:"700",color:"#1e293b"},children:e.shiftName}),(0,Dt.jsx)("span",{style:{fontSize:"0.8rem",color:"#64748b"},children:e.timeRange})]}),(0,Dt.jsx)("div",{style:{marginTop:"15px"},children:n?(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Dt.jsx)("span",{style:n.checkOut?ng.badgeSuccess:ng.badgeActive,children:n.checkOut?"\u0110\xe3 ho\xe0n th\xe0nh":"\u0110ang l\xe0m vi\u1ec7c"}),!n.checkOut&&(0,Dt.jsx)("button",{onClick:()=>{return e=n.id,void(window.confirm("X\xe1c nh\u1eadn Check-out?")&&o(e,{checkOut:(new Date).toISOString()}));var e},style:ng.outBtn,children:(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,Dt.jsx)(eg,{})," Check-out"]})})]}):(0,Dt.jsx)("button",{onClick:()=>{return n=e.id,void(window.confirm("X\xe1c nh\u1eadn Check-in?")&&i({shiftId:n,staffId:t.id,date:(new Date).toISOString(),checkIn:(new Date).toISOString(),status:"Present"}));var n},style:ng.mainBtn,children:(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,Dt.jsx)(Zf,{})," Check-in"]})})})]},e.id)})})]})]})},ig=()=>(0,Dt.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"#003366",strokeWidth:"1.5",children:[(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"})]}),og=()=>(0,Dt.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"#003366",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),sg=()=>(0,Dt.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"#003366",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),ag=t=>{let{task:n,isCompletedMode:r,onUpdate:i,onFinish:o}=t;const[s,a]=(0,e.useState)(n.progress||0),[l,c]=(0,e.useState)(n.reason||""),u=new Date,d=new Date(n.endTime),h=u>d&&!r,p=!h&&!r&&d-u<864e5;return(0,Dt.jsxs)("div",{style:{border:h?"2px solid #ef4444":p?"2px solid #f97316":"1px solid #e5e7eb",padding:"20px",borderRadius:"12px",background:"white",marginBottom:"15px",opacity:r?.8:1,position:"relative",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Dt.jsx)("h3",{style:{margin:0,color:"#003366",fontSize:"1.1rem"},children:n.title}),(0,Dt.jsxs)("div",{style:{display:"flex",gap:"5px",flexWrap:"wrap",justifyContent:"flex-end"},children:[r&&(0,Dt.jsx)("span",{style:{background:"#059669",color:"white",padding:"4px 8px",borderRadius:"6px",fontSize:"0.7rem",fontWeight:"600"},children:"\u0110\xc3 HO\xc0N TH\xc0NH"}),p&&(0,Dt.jsx)("span",{style:{background:"#f97316",color:"white",padding:"4px 8px",borderRadius:"6px",fontSize:"0.7rem",fontWeight:"600"},children:"G\u1ea4P"}),h&&(0,Dt.jsx)("span",{style:{background:"#ef4444",color:"white",padding:"4px 8px",borderRadius:"6px",fontSize:"0.7rem",fontWeight:"600"},children:"QU\xc1 H\u1ea0N"})]})]}),h&&(0,Dt.jsxs)("div",{style:{color:"#b91c1c",fontWeight:"500",fontSize:"0.85rem",marginTop:"10px",background:"#fef2f2",padding:"8px",borderRadius:"6px"},children:["K\u1ef6 LU\u1eacT: ",n.disciplineName||"Ch\u01b0a quy \u0111\u1ecbnh"]}),(0,Dt.jsxs)("div",{style:{fontSize:"0.9rem",color:"#4b5563",marginTop:"10px",lineHeight:"1.5"},children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("strong",{children:"B\u1eaft \u0111\u1ea7u:"})," ",new Date(n.startTime).toLocaleString()]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("strong",{children:"H\u1ea1n ch\xf3t:"})," ",new Date(n.endTime).toLocaleString()]}),(0,Dt.jsxs)("div",{style:{marginTop:"4px"},children:[(0,Dt.jsx)("strong",{children:"Vai tr\xf2:"})," ",n.assignedRole," \u2022 ",(0,Dt.jsx)("strong",{children:"Th\xf9 lao:"})," ",n.paymentType]})]}),(0,Dt.jsx)("p",{style:{fontSize:"0.9rem",color:"#6b7280",background:"#f9fafb",padding:"10px",borderRadius:"8px",fontStyle:"italic",border:"1px solid #f3f4f6"},children:n.description}),(0,Dt.jsx)("hr",{style:{margin:"15px 0",border:"none",borderTop:"1px solid #f3f4f6"}}),(0,Dt.jsxs)("label",{style:{fontSize:"0.9rem",fontWeight:"600",color:"#374151"},children:["Ti\u1ebfn \u0111\u1ed9: ",s,"%"]}),(0,Dt.jsx)("input",{type:"range",min:"0",max:"100",value:s,onChange:e=>a(Number(e.target.value)),disabled:r,style:{width:"100%",opacity:r?.6:1,margin:"10px 0",accentColor:"#003366"}}),!r&&(0,Dt.jsxs)(Dt.Fragment,{children:[(0,Dt.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",background:"#f9fafb",padding:"10px",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,Dt.jsx)("span",{style:{fontSize:"0.85rem",color:"#374151"},children:"C\u1eadp nh\u1eadt %:"}),(0,Dt.jsx)("input",{type:"number",min:"0",max:"100",value:s,onChange:e=>a(Number(e.target.value)),style:{padding:"6px",width:"60px",fontWeight:"600",border:"1px solid #d1d5db",borderRadius:"6px",outline:"none",textAlign:"center"}})]}),s<90&&(0,Dt.jsxs)("div",{style:{marginTop:"10px"},children:[(0,Dt.jsx)("div",{style:{color:"#f59e0b",fontSize:"0.8rem",marginBottom:"4px",fontWeight:"500"},children:"* Y\xeau c\u1ea7u l\xfd do (Ti\u1ebfn \u0111\u1ed9 < 90%)"}),(0,Dt.jsx)("textarea",{placeholder:"Nh\u1eadp l\xfd do...",value:l,onChange:e=>c(e.target.value),style:{width:"100%",height:"60px",borderColor:"#fcd34d",padding:"10px",boxSizing:"border-box",borderRadius:"6px",fontSize:"0.9rem",outline:"none"}})]}),(0,Dt.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[(0,Dt.jsx)("button",{onClick:()=>{i(n,s,l)},style:{flex:1,background:"#003366",color:"white",padding:"10px",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem",transition:"0.2s"},children:"C\u1eadp nh\u1eadt"}),(0,Dt.jsx)("button",{onClick:()=>o(n),style:{flex:1,background:"#059669",color:"white",padding:"10px",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem",transition:"0.2s"},children:"K\u1ebft th\xfac"})]})]}),r&&n.finishedAt&&(0,Dt.jsxs)("div",{style:{marginTop:"10px",fontSize:"0.85rem",color:"#059669",fontWeight:"600",textAlign:"center",background:"#ecfdf5",padding:"8px",borderRadius:"6px"},children:["Ho\xe0n th\xe0nh: ",new Date(n.finishedAt).toLocaleString()]})]})},lg=()=>{const{user:e}=zt(),{tasks:t,updateTaskProgress:n,finishTask:r}=hp(),i=t.filter(t=>t.assigneeId===e.id&&!t.fromScheduleId),o=new Date,s={inProgress:[],upcoming:[],completed:[]};i.forEach(e=>{const t=new Date(e.startTime);"completed"===e.status?s.completed.push(e):o<t?s.upcoming.push(e):s.inProgress.push(e)}),s.inProgress.sort((e,t)=>new Date(e.endTime)-new Date(t.endTime));const a=(e,t,r)=>{t<90&&!r.trim()?alert("C\u1ea2NH B\xc1O: Ti\u1ebfn \u0111\u1ed9 d\u01b0\u1edbi 90% b\u1eaft bu\u1ed9c ph\u1ea3i nh\u1eadp l\xfd do gi\u1ea3i tr\xecnh!"):(n(e.id,t,r),alert("C\u1eadp nh\u1eadt ti\u1ebfn \u0111\u1ed9 th\xe0nh c\xf4ng!"))},l=e=>{window.confirm('X\xe1c nh\u1eadn ho\xe0n th\xe0nh nhi\u1ec7m v\u1ee5 "'.concat(e.title,'"?'))&&r(e.id)};return(0,Dt.jsxs)("div",{style:{paddingBottom:"20px"},children:[(0,Dt.jsx)("h2",{style:{color:"#003366",fontSize:"1.5rem",fontWeight:"700",marginBottom:"25px"},children:"Nhi\u1ec7m v\u1ee5 c\u1ee7a t\xf4i"}),(0,Dt.jsx)("p",{style:{fontSize:"0.9rem",color:"#6b7280",marginBottom:"20px"},children:"Danh s\xe1ch c\xe1c nhi\u1ec7m v\u1ee5 \u0111\u01b0\u1ee3c giao b\u1edfi Operational Admin."}),(0,Dt.jsxs)("div",{style:{marginBottom:"35px"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"15px",borderBottom:"2px solid #f3f4f6",paddingBottom:"10px"},children:[(0,Dt.jsx)(ig,{}),(0,Dt.jsxs)("h3",{style:{color:"#003366",margin:0,fontSize:"1.1rem",fontWeight:"600"},children:["\u0110ang di\u1ec5n ra (",s.inProgress.length,")"]})]}),(0,Dt.jsx)("div",{children:0===s.inProgress.length?(0,Dt.jsx)("p",{style:{color:"#9ca3af",fontStyle:"italic"},children:"Kh\xf4ng c\xf3 nhi\u1ec7m v\u1ee5."}):s.inProgress.map(e=>(0,Dt.jsx)(ag,{task:e,onUpdate:a,onFinish:l},e.id))})]}),(0,Dt.jsxs)("div",{style:{marginBottom:"35px"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"15px",borderBottom:"2px solid #f3f4f6",paddingBottom:"10px"},children:[(0,Dt.jsx)(og,{}),(0,Dt.jsxs)("h3",{style:{color:"#003366",margin:0,fontSize:"1.1rem",fontWeight:"600"},children:["S\u1eafp \u0111\u1ebfn (",s.upcoming.length,")"]})]}),(0,Dt.jsx)("div",{children:0===s.upcoming.length?(0,Dt.jsx)("p",{style:{color:"#9ca3af",fontStyle:"italic"},children:"Kh\xf4ng c\xf3 nhi\u1ec7m v\u1ee5."}):s.upcoming.map(e=>(0,Dt.jsx)(ag,{task:e,onUpdate:a,onFinish:l},e.id))})]}),(0,Dt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"15px",borderBottom:"2px solid #f3f4f6",paddingBottom:"10px"},children:[(0,Dt.jsx)(sg,{}),(0,Dt.jsxs)("h3",{style:{color:"#003366",margin:0,fontSize:"1.1rem",fontWeight:"600"},children:["\u0110\xe3 ho\xe0n th\xe0nh (",s.completed.length,")"]})]}),(0,Dt.jsx)("div",{children:0===s.completed.length?(0,Dt.jsx)("p",{style:{color:"#9ca3af",fontStyle:"italic"},children:"Ch\u01b0a c\xf3 d\u1eef li\u1ec7u."}):s.completed.map(e=>(0,Dt.jsx)(ag,{task:e,isCompletedMode:!0},e.id))})]})]})},cg=()=>{const{user:t}=zt(),{addFacilityLog:n}=hp(),[r,i]=(0,e.useState)("\u0110\u1ea7u gi\u1edd"),[o,s]=(0,e.useState)(""),a=[{item:"M\xe1y l\u1ea1nh",options:["M\xe1t","Ch\u1ea3y n\u01b0\u1edbc","Kh\xf4ng l\u1ea1nh","H\u1ecfng"],goodStatus:"M\xe1t"},{item:"M\xe1y chi\u1ebfu",options:["T\u1ed1t","L\u1ec7ch khung","H\u01b0 h\u1ecfng"],goodStatus:"T\u1ed1t"},{item:"\u0110\xe8n chi\u1ebfu s\xe1ng",options:["T\u1ed1t","H\u01b0 h\u1ecfng"],goodStatus:"T\u1ed1t"},{item:"B\xe0n gh\u1ebf",options:["S\u1ea1ch & T\u1ed1t","H\u01b0 h\u1ecfng"],goodStatus:"S\u1ea1ch & T\u1ed1t"},{item:"M\xe0n h\xecnh CC",options:["\u1ed4n \u0111\u1ecbnh","L\u1ed7i"],goodStatus:"\u1ed4n \u0111\u1ecbnh"},{item:"Loa",options:["C\xf2n pin","H\u1ebft pin","R\xe8"],goodStatus:"C\xf2n pin"},{item:"C\xe2y c\u1ed1i",options:["Xanh t\u1ed1t","H\xe9o \xfaa"],goodStatus:"Xanh t\u1ed1t"}],[l,u]=(0,e.useState)({}),d="".concat(r,"_").concat(o),h=(0,e.useMemo)(()=>l[d]||{},[l,d]),p=(0,e.useMemo)(()=>{return"Canteen"===(e=o)?[{item:"\u0110\xe8n chi\u1ebfu s\xe1ng",options:["T\u1ed1t","H\u01b0 h\u1ecfng"],goodStatus:"T\u1ed1t"},{item:"B\xe0n gh\u1ebf",options:["S\u1ea1ch & T\u1ed1t","H\u01b0 h\u1ecfng"],goodStatus:"S\u1ea1ch & T\u1ed1t"},{item:"Loa",options:["C\xf2n pin","H\u1ebft pin","R\xe8"],goodStatus:"C\xf2n pin"},{item:"C\xe2y c\u1ed1i",options:["Xanh t\u1ed1t","H\xe9o \xfaa"],goodStatus:"Xanh t\u1ed1t"},{item:"S\xe2n",options:["S\u1ea1ch s\u1ebd","Ch\u01b0a \u0111\u1ed5 r\xe1c","B\u1eeba b\u1ed9n"],goodStatus:"S\u1ea1ch s\u1ebd"},{item:"Qu\u1ea1t",options:["T\u1ed1t","B\xe1m b\u1ee5i","H\u01b0 h\u1ecfng"],goodStatus:"T\u1ed1t"},{item:"Qu\u1ea7y pha ch\u1ebf",options:["S\u1ea1ch s\u1ebd","Ch\u01b0a c\u1ea5t nguy\xean li\u1ec7u","Ch\u01b0a r\xfat \u0111i\u1ec7n","B\u1eeba b\u1ed9n"],goodStatus:"S\u1ea1ch s\u1ebd"},{item:"K\u1ec7 nguy\xean li\u1ec7u",options:["S\u1ea1ch s\u1ebd","Ch\u01b0a lau d\u1ecdn"],goodStatus:"S\u1ea1ch s\u1ebd"}]:"Kho T\u1ea7ng 3"===e?[{item:"M\xe1y l\u1ea1nh",options:["M\xe1t","Ch\u1ea3y n\u01b0\u1edbc","Kh\xf4ng l\u1ea1nh","H\u1ecfng"],goodStatus:"M\xe1t"},{item:"\u0110\xe8n chi\u1ebfu s\xe1ng",options:["T\u1ed1t","H\u01b0 h\u1ecfng"],goodStatus:"T\u1ed1t"},{item:"B\xe0n gh\u1ebf",options:["S\u1ea1ch & T\u1ed1t","H\u01b0 h\u1ecfng"],goodStatus:"S\u1ea1ch & T\u1ed1t"},{item:"Loa",options:["C\xf2n pin","H\u1ebft pin","R\xe8"],goodStatus:"C\xf2n pin"},{item:"C\xe2y c\u1ed1i",options:["Xanh t\u1ed1t","H\xe9o \xfaa"],goodStatus:"Xanh t\u1ed1t"},{item:"S\xe0n",options:["S\u1ea1ch s\u1ebd","Ch\u01b0a lau d\u1ecdn"],goodStatus:"S\u1ea1ch s\u1ebd"},{item:"K\u1ec7 t\u1ee7",options:["S\u1ea1ch s\u1ebd","B\u1eeba b\u1ed9n"],goodStatus:"S\u1ea1ch s\u1ebd"},{item:"T\u1ee7 m\xe1t",options:["\u0110\xe3 ki\u1ec3m HSD v\xe0 lau d\u1ecdn","Ch\u01b0a ki\u1ec3m HSD","Ch\u01b0a lau d\u1ecdn"],goodStatus:"\u0110\xe3 ki\u1ec3m HSD v\xe0 lau d\u1ecdn"},{item:"T\u1ee7 \u0111\xf4ng",options:["\u0110\xe3 ki\u1ec3m HSD","Ch\u01b0a ki\u1ec3m"],goodStatus:"\u0110\xe3 ki\u1ec3m HSD"}]:"Ph\xf2ng Lab"===e?[{item:"M\xe1y l\u1ea1nh",options:["M\xe1t","Ch\u1ea3y n\u01b0\u1edbc","Kh\xf4ng l\u1ea1nh","H\u1ecfng"],goodStatus:"M\xe1t"},{item:"\u0110\xe8n chi\u1ebfu s\xe1ng",options:["T\u1ed1t","H\u01b0 h\u1ecfng"],goodStatus:"T\u1ed1t"},{item:"B\xe0n gh\u1ebf",options:["S\u1ea1ch & T\u1ed1t","H\u01b0 h\u1ecfng"],goodStatus:"S\u1ea1ch & T\u1ed1t"},{item:"C\xe2y c\u1ed1i",options:["Xanh t\u1ed1t","H\xe9o \xfaa"],goodStatus:"Xanh t\u1ed1t"},{item:"M\xe1y PC",options:["T\u1ed1t","H\u01b0 h\u1ecfng","M\u1ea5t"],goodStatus:"T\u1ed1t"},{item:"Tai nghe",options:["T\u1ed1t","H\u01b0 h\u1ecfng","M\u1ea5t"],goodStatus:"T\u1ed1t"},{item:"B\xe0n ph\xedm",options:["T\u1ed1t","H\u01b0 h\u1ecfng","M\u1ea5t"],goodStatus:"T\u1ed1t"}]:a;var e},[o]);return(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("h2",{style:{color:"#003366"},children:"Ki\u1ec3m tra CSVC & Ti\u1ec7n \xedch"}),(0,Dt.jsxs)("div",{style:{background:"#f9f9f9",padding:"15px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #ddd"},children:[(0,Dt.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Dt.jsx)("label",{style:{display:"inline-block",width:"100px",fontWeight:"bold"},children:"Th\u1eddi \u0111i\u1ec3m:"}),(0,Dt.jsxs)("select",{value:r,onChange:e=>i(e.target.value),style:{padding:"5px"},children:[(0,Dt.jsx)("option",{value:"\u0110\u1ea7u gi\u1edd",children:"\u2600\ufe0f \u0110\u1ea7u gi\u1edd"}),(0,Dt.jsx)("option",{value:"Cu\u1ed1i gi\u1edd",children:"\ud83c\udf19 Cu\u1ed1i gi\u1edd"})]})]}),(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("label",{style:{display:"inline-block",width:"100px",fontWeight:"bold"},children:"Khu v\u1ef1c:"}),(0,Dt.jsxs)("select",{value:o,onChange:e=>s(e.target.value),required:!0,style:{padding:"5px",minWidth:"200px"},children:[(0,Dt.jsx)("option",{value:"",children:"-- Ch\u1ecdn ph\xf2ng --"}),["Ph\xf2ng 1","Ph\xf2ng 2","Ph\xf2ng 3","Ph\xf2ng Lab","S\u1ea3nh OA","CC T\u1ea7ng G","Kho T\u1ea7ng 3","Canteen"].map(e=>(0,Dt.jsx)("option",{value:e,children:e},e))]})]})]}),o?(0,Dt.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!o)return alert("Vui l\xf2ng ch\u1ecdn khu v\u1ef1c!");const i=p.filter(e=>!h[e.item]);i.length>0?alert("B\u1ea1n ch\u01b0a ki\u1ec3m tra: ".concat(i.map(e=>e.item).join(", "),". Vui l\xf2ng ho\xe0n th\xe0nh h\u1ebft tr\u01b0\u1edbc khi g\u1eedi!")):(p.forEach(e=>{n({staffName:t.name,type:r,area:o,item:e.item,status:h[e.item]})}),alert("\u2705 B\xe1o c\xe1o \u0111\xe3 g\u1eedi th\xe0nh c\xf4ng v\u1ec1 m\xe1y ch\u1ee7!"),u(e=>{const t=c({},e);return delete t[d],t}))},children:[(0,Dt.jsxs)("table",{border:"1",cellPadding:"10",style:{borderCollapse:"collapse",width:"100%",marginBottom:"20px",background:"white"},children:[(0,Dt.jsx)("thead",{children:(0,Dt.jsxs)("tr",{style:{background:"#eee",textAlign:"left"},children:[(0,Dt.jsx)("th",{style:{width:"30%"},children:"H\u1ea1ng m\u1ee5c"}),(0,Dt.jsx)("th",{children:"Tr\u1ea1ng th\xe1i (B\u1eaft bu\u1ed9c ch\u1ecdn h\u1ebft)"})]})}),(0,Dt.jsx)("tbody",{children:p.map(e=>(0,Dt.jsxs)("tr",{children:[(0,Dt.jsx)("td",{style:{fontWeight:"500"},children:e.item}),(0,Dt.jsx)("td",{children:(0,Dt.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"15px"},children:e.options.map(t=>{const n=t===e.goodStatus,r=n?"green":"#d9534f";return(0,Dt.jsxs)("label",{style:{cursor:"pointer",color:r},children:[(0,Dt.jsx)("input",{type:"radio",name:"".concat(d,"_").concat(e.item),value:t,checked:h[e.item]===t,onChange:()=>{return n=e.item,r=t,void u(e=>c(c({},e),{},{[d]:c(c({},e[d]||{}),{},{[n]:r})}));var n,r},style:{marginRight:"5px"}}),(0,Dt.jsx)("span",{style:{fontWeight:n?"bold":"normal"},children:t})]},t)})})})]},e.item))})]}),(0,Dt.jsx)("button",{type:"submit",style:{background:"#003366",color:"white",border:"none",padding:"12px 30px",borderRadius:"5px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:"G\u1eecI B\xc1O C\xc1O"})]}):(0,Dt.jsx)("p",{style:{fontStyle:"italic",color:"#666"},children:"Ch\u1ecdn khu v\u1ef1c \u0111\u1ec3 hi\u1ec7n danh s\xe1ch ki\u1ec3m tra..."})]})},ug=e=>{if(void 0===e||null===e||""===e)return 0;const t=String(e).replace(/,/g,"").replace(/\s/g,""),n=Number(t);return isNaN(n)?0:n},dg=e=>{if(void 0===e||null===e||""===e)return 100;const t=String(e).replace(/,/g,"").replace(/\s/g,""),n=Number(t);return isNaN(n)?100:n},hg=()=>(0,Dt.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"#003366",strokeWidth:"1.5",children:(0,Dt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})}),pg=()=>{const{user:t}=zt(),{staffList:n,tasks:r}=hp(),i=(Array.isArray(n)?n:[]).find(e=>String(e.id)===String(t.id))||t,[o,s]=(0,e.useState)("Month"),a=new Date,l=(Array.isArray(r)?r:[]).filter(e=>String(e.assigneeId)===String(t.id)),c=l.filter(e=>"completed"===e.status&&e.finishedAt);let u=1;const d=l.filter(e=>e.fromScheduleId).filter(e=>{if(!e.startTime)return!1;const t=new Date(e.startTime);return!isNaN(t.getTime())&&("Day"===o?(n=a,t.toDateString()===n.toDateString()):"Week"===o?((e,t)=>{const n=new Date(t);n.setHours(0,0,0,0),n.setDate(n.getDate()-n.getDay()+1);const r=new Date(n);return r.setDate(r.getDate()+6),e>=n&&e<=r})(t,a):"Month"===o?((e,t)=>e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())(t,a):"Year"!==o||((e,t)=>e.getFullYear()===t.getFullYear())(t,a));var n});"Day"===o&&(u=1/30),"Week"===o&&(u=1/4),"Month"===o&&(u=1),"Year"===o&&(u=12);const h=ug(i.ubi1Base)*dg(i.ubi1Percent)/100*u,p=ug(i.ubi2Base)*dg(i.ubi2Percent)/100*u,f=h+p;let g=0,m=[];d.forEach(e=>{if(!i.remunerations||!Array.isArray(i.remunerations))return;if(!e.checkInTime||!e.checkOutTime)return;const t=i.remunerations.find(t=>{if(!t)return!1;if(t.position&&""!==String(t.position).trim()){if(String(t.position).trim().toLowerCase()!==String(e.assignedRole||"").trim().toLowerCase())return!1}if(t.keywords&&""!==String(t.keywords).trim()){const n=String(t.keywords).split(",").map(e=>e.trim().toLowerCase()).filter(e=>e),r=String(e.title||"").toLowerCase();if(!n.some(e=>r.includes(e)))return!1}return!0});if(t){const n=((e,t,n,r)=>{if(!e||!t||!n||!r)return 0;const i=new Date(e),o=new Date(t),s=new Date(n),a=new Date(r);let l;l=a>o||(o-a)/6e4<=10?o:a;const c=l-(s>i?s:i);return c<0?0:Math.floor(c/6e4)/60})(e.startTime,e.endTime,e.checkInTime,e.checkOutTime);g+=n,m.push({hours:n,rate:ug(t.amount)})}});let y=0;const v=ug(i.minWorkHours)*u;if(g>=v){m.sort((e,t)=>e.rate-t.rate);let e=v;m.forEach(t=>{e>0&&(t.hours<=e?(e-=t.hours,t.hours=0):(t.hours-=e,e=0)),t.hours>0&&(y+=t.hours*t.rate)})}else y=0;const b=f+y,x=Math.max(0,g-v);return(0,Dt.jsxs)("div",{style:{padding:"20px"},children:[(0,Dt.jsx)("h2",{style:{color:"#003366",fontSize:"1.5rem",fontWeight:"700"},children:"Hi\u1ec7u su\u1ea5t & Thu nh\u1eadp"}),(0,Dt.jsxs)("div",{style:{background:"white",padding:"25px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",marginBottom:"30px",border:"1px solid #f3f4f6"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee",paddingBottom:"15px",marginBottom:"15px"},children:[(0,Dt.jsx)("h4",{style:{margin:0,color:"#374151",fontSize:"1rem"},children:"T\u1ed5ng thu nh\u1eadp \u01b0\u1edbc t\xednh"}),(0,Dt.jsxs)("select",{value:o,onChange:e=>s(e.target.value),style:{padding:"8px",borderRadius:"6px",border:"1px solid #d1d5db",outline:"none",fontSize:"0.9rem"},children:[(0,Dt.jsx)("option",{value:"Day",children:"H\xf4m nay"}),(0,Dt.jsx)("option",{value:"Week",children:"Tu\u1ea7n n\xe0y"}),(0,Dt.jsx)("option",{value:"Month",children:"Th\xe1ng n\xe0y"}),(0,Dt.jsx)("option",{value:"Year",children:"N\u0103m nay"})]})]}),(0,Dt.jsxs)("div",{style:{textAlign:"center",marginBottom:"20px"},children:[(0,Dt.jsxs)("h1",{style:{color:"#059669",fontSize:"2.2rem",margin:0,fontWeight:"700"},children:[Math.round(b).toLocaleString("vi-VN")," VN\u0110"]}),(0,Dt.jsxs)("span",{style:{color:"#6b7280",fontSize:"0.9rem"},children:["Thu nh\u1eadp d\u1ef1 ki\u1ebfn (",o,")"]})]}),(0,Dt.jsxs)("div",{style:{background:"#f9fafb",padding:"15px",borderRadius:"8px",display:"grid",gap:"12px",border:"1px solid #f3f4f6"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[(0,Dt.jsx)("span",{style:{color:"#4b5563"},children:"UBI 1 (C\u01a1 b\u1ea3n):"}),(0,Dt.jsxs)("strong",{style:{color:"#111827"},children:[Math.round(h).toLocaleString()," \u0111"]})]}),(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[(0,Dt.jsx)("span",{style:{color:"#4b5563"},children:"UBI 2 (Hi\u1ec7u su\u1ea5t):"}),(0,Dt.jsxs)("strong",{style:{color:"#111827"},children:[Math.round(p).toLocaleString()," \u0111"]})]}),(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[(0,Dt.jsxs)("span",{style:{color:"#4b5563"},children:["Gi\u1edd l\xe0m th\u1ef1c t\u1ebf (T\u1ed1i thi\u1ec3u ",v.toFixed(1),"h):"]}),(0,Dt.jsxs)("strong",{style:{color:g>=v?"#059669":"#dc2626"},children:[g.toFixed(1)," gi\u1edd"]})]}),(0,Dt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[(0,Dt.jsxs)("span",{style:{color:"#4b5563"},children:["Th\xf9 lao v\u01b0\u1ee3t m\u1ee9c (",x.toFixed(1)," gi\u1edd):"]}),(0,Dt.jsxs)("strong",{style:{color:"#003366"},children:[Math.round(y).toLocaleString()," \u0111"]})]})]})]}),(0,Dt.jsxs)("div",{style:{background:"white",padding:"25px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"1px solid #f3f4f6"},children:[(0,Dt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",borderBottom:"1px solid #f3f4f6",paddingBottom:"15px",marginBottom:"20px"},children:[(0,Dt.jsx)(hg,{}),(0,Dt.jsx)("h3",{style:{margin:0,color:"#003366",fontSize:"1.1rem",fontWeight:"600"},children:"L\u1ecbch s\u1eed \u0111\xe1nh gi\xe1 nhi\u1ec7m v\u1ee5"})]}),0===c.length?(0,Dt.jsx)("p",{style:{color:"#9ca3af",fontStyle:"italic",textAlign:"center",padding:"20px"},children:"Ch\u01b0a c\xf3 d\u1eef li\u1ec7u \u0111\xe1nh gi\xe1."}):(0,Dt.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:c.sort((e,t)=>new Date(t.finishedAt)-new Date(e.finishedAt)).map(e=>{const t=(e=>{const t=new Date(e.endTime),n=new Date(e.finishedAt),r=e.progress||0,i=(t-n)/864e5;return 100===r&&i>=1?{grade:"Xu\u1ea5t s\u1eafc",color:"#6f42c1",icon:"\ud83c\udfc6",desc:"S\u1edbm h\u01a1n 1 ng\xe0y"}:r>=90&&i>=0?{grade:"T\u1ed1t",color:"#198754",icon:"\ud83c\udf1f",desc:"\u0110\xfang h\u1ea1n"}:r>=70&&r<=85&&i>=0?{grade:"C\u1ea7n \u0111i\u1ec1u ch\u1ec9nh",color:"#fd7e14",icon:"\u26a0\ufe0f",desc:"\u0110\u1ea1t m\u1ee9c trung b\xecnh"}:r>=60&&r<=70&&-i>3?{grade:"C\u1ea3nh c\xe1o",color:"#dc3545",icon:"\u26d4",desc:"Tr\u1ec5 qu\xe1 3 ng\xe0y"}:{grade:"K\u1ef7 lu\u1eadt / Kh\xf4ng \u0111\u1ea1t",color:"#343a40",icon:"\ud83d\udd28",desc:"Kh\xf4ng \u0111\u1ea1t y\xeau c\u1ea7u"}})(e);return(0,Dt.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:"10px",padding:"16px",borderLeft:"5px solid ".concat(t.color),display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fff"},children:[(0,Dt.jsxs)("div",{children:[(0,Dt.jsx)("div",{style:{fontWeight:"600",color:"#111827",fontSize:"1rem"},children:e.title}),(0,Dt.jsxs)("div",{style:{fontSize:"0.85rem",color:"#6b7280",marginTop:"4px"},children:["Ho\xe0n th\xe0nh: ",new Date(e.finishedAt).toLocaleString()]}),(0,Dt.jsxs)("div",{style:{fontSize:"0.85rem",color:"#6b7280"},children:["Ti\u1ebfn \u0111\u1ed9: ",(0,Dt.jsxs)("strong",{children:[e.progress,"%"]})]})]}),(0,Dt.jsxs)("div",{style:{textAlign:"right",minWidth:"120px"},children:[(0,Dt.jsx)("div",{style:{fontSize:"1.4rem",marginBottom:"4px"},children:t.icon}),(0,Dt.jsx)("div",{style:{color:t.color,fontWeight:"700",fontSize:"0.85rem",background:"".concat(t.color,"15"),padding:"4px 10px",borderRadius:"6px",display:"inline-block"},children:t.grade}),(0,Dt.jsx)("div",{style:{fontSize:"0.75rem",color:"#9ca3af",marginTop:"4px"},children:t.desc})]})]},e.id)})})]})]})};const fg=function(){return(0,Dt.jsx)(Mt,{children:(0,Dt.jsx)(dp,{children:(0,Dt.jsxs)(Ke,{children:[(0,Dt.jsx)(Ve,{path:"/",element:(0,Dt.jsx)(Fp,{})}),(0,Dt.jsxs)(Ve,{path:"/admin",element:(0,Dt.jsx)(qp,{}),children:[(0,Dt.jsx)(Ve,{index:!0,element:(0,Dt.jsx)(Ue,{to:"staff-manager"})}),(0,Dt.jsx)(Ve,{path:"staff-manager",element:(0,Dt.jsx)(uf,{})}),(0,Dt.jsx)(Ve,{path:"task-manager",element:(0,Dt.jsx)(xf,{})}),(0,Dt.jsx)(Ve,{path:"discipline-manager",element:(0,Dt.jsx)(jf,{})}),(0,Dt.jsx)(Ve,{path:"reports",element:(0,Dt.jsx)(Vf,{})})]}),(0,Dt.jsxs)(Ve,{path:"/staff",element:(0,Dt.jsx)(Jp,{}),children:[(0,Dt.jsx)(Ve,{index:!0,element:(0,Dt.jsx)(Ue,{to:"dashboard"})}),(0,Dt.jsx)(Ve,{path:"dashboard",element:(0,Dt.jsx)(Yf,{})}),(0,Dt.jsx)(Ve,{path:"attendance",element:(0,Dt.jsx)(rg,{})}),(0,Dt.jsx)(Ve,{path:"my-tasks",element:(0,Dt.jsx)(lg,{})}),(0,Dt.jsx)(Ve,{path:"facility-check",element:(0,Dt.jsx)(cg,{})}),(0,Dt.jsx)(Ve,{path:"performance",element:(0,Dt.jsx)(pg,{})})]}),(0,Dt.jsx)(Ve,{path:"*",element:(0,Dt.jsx)(Ue,{to:"/"})})]})})})};r.createRoot(document.getElementById("root")).render((0,Dt.jsx)(e.StrictMode,{children:(0,Dt.jsx)(Ct,{children:(0,Dt.jsx)(fg,{})})}))})()})();
//# sourceMappingURL=main.6151aad9.js.map